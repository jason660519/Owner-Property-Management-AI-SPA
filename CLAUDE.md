# æˆ¿æ±ç‰©ä»¶ç®¡ç†èªéŸ³ AI App - AI Assistant Rules

> **é©ç”¨æ–¼**: Claude, GPT, Cursor AI ç­‰æ‰€æœ‰ AI åŠ©æ‰‹  
> **ç‰ˆæœ¬**: 2.0  
> **æ›´æ–°æ—¥æœŸ**: 2026-01-22  
> **é‡è¦æ€§**: ğŸ”´ **å¼·åˆ¶éµå®ˆ** - AI å¿…é ˆåœ¨æ¯æ¬¡å‰µå»ºæˆ–ä¿®æ”¹æ–‡ä»¶å‰æª¢æŸ¥æœ¬è¦ç¯„

---

## ğŸ“Œ æ ¸å¿ƒè¦ç¯„é€ŸæŸ¥

| è¦ç¯„é¡å‹           | æ–‡æª”è·¯å¾‘                                                                                     | å¼·åˆ¶æ€§ |
| ------------------ | -------------------------------------------------------------------------------------------- | ------ |
| **æª”æ¡ˆå‘½åèˆ‡æ­¸æª”** | [docs/æœ¬å°ˆæ¡ˆæª”æ¡ˆå‘½åè¦å‰‡èˆ‡æ–°å¢æ–‡ä»¶æ­¸æª”ç¸½å‰‡.md](docs/æœ¬å°ˆæ¡ˆæª”æ¡ˆå‘½åè¦å‰‡èˆ‡æ–°å¢æ–‡ä»¶æ­¸æª”ç¸½å‰‡.md) | ğŸ”´ å¼·åˆ¶ |
| **é€šç”¨é–‹ç™¼è¦å‰‡**   | [.claude/rules/general.md](.claude/rules/general.md)                                         | ğŸ”´ å¼·åˆ¶ |
| **å‰ç«¯è¦å‰‡**       | [.claude/rules/frontend/react-expo.md](.claude/rules/frontend/react-expo.md)                 | ğŸ”´ å¼·åˆ¶ |
| **å¾Œç«¯è¦å‰‡**       | [.claude/rules/backend/supabase.md](.claude/rules/backend/supabase.md)                       | ğŸ”´ å¼·åˆ¶ |

---

## âš ï¸ AI è¡Œç‚ºå¼·åˆ¶è¦æ±‚

### 1. ğŸ”´ æ–‡ä»¶å‰µå»ºå‰å¿…é ˆæª¢æŸ¥

åœ¨å‰µå»ºæˆ–ä¿®æ”¹**ä»»ä½•**æ–‡ä»¶ä¹‹å‰ï¼ŒAI å¿…é ˆï¼š

1. **æª¢æŸ¥æ–‡ä»¶é¡å‹**ä¸¦ç¢ºå®šæ­£ç¢ºçš„å‘½åè¦å‰‡ï¼š
   - React çµ„ä»¶ â†’ `PascalCase.tsx`
   - Utilities â†’ `camelCase.ts`
   - è³‡æ–™å¤¾ â†’ `kebab-case`
   - æ–‡æª” â†’ `snake_case_YYYY-MM-DD.md`
   
2. **ç¢ºå®šæ­£ç¢ºçš„æ­¸æª”ä½ç½®**ï¼š
   - ç¨‹å¼ç¢¼æ–‡ä»¶ â†’ `frontend/src/` æˆ– `backend/src/`
   - æŠ€è¡“æ–‡æª” â†’ `docs/` ä¸‹å°æ‡‰åˆ†é¡
   - è‡¨æ™‚æ–‡ä»¶ â†’ `docs/drafts/`
   - **ç¦æ­¢**ç›´æ¥åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å‰µå»ºæ–‡æª”é¡æ–‡ä»¶

3. **æ·»åŠ å¿…è¦çš„å…ƒæ•¸æ“š**ï¼š
   - ç¨‹å¼ç¢¼æ–‡ä»¶éœ€åŒ…å« `// filepath: <path>` è¨»è§£
   - Markdown æ–‡æª”éœ€åŒ…å«æ›´æ–°æ—¥æœŸå’Œç‰ˆæœ¬è³‡è¨Š

### 2. ğŸ”´ å‘½åè¦å‰‡å¼·åˆ¶åŸ·è¡Œ

| æ–‡ä»¶é¡å‹            | è¦å‰‡                    | ç¯„ä¾‹                             | éŒ¯èª¤ç¯„ä¾‹                                |
| ------------------- | ----------------------- | -------------------------------- | --------------------------------------- |
| **React Component** | PascalCase.tsx          | `UserProfile.tsx`                | âŒ `userProfile.tsx`, `user-profile.tsx` |
| **Hook**            | camelCase.ts            | `useAuth.ts`                     | âŒ `UseAuth.ts`, `use-auth.ts`           |
| **Utility**         | camelCase.ts            | `dateFormatter.ts`               | âŒ `DateFormatter.ts`                    |
| **è³‡æ–™å¤¾**          | kebab-case              | `user-profiles/`                 | âŒ `userProfiles/`, `UserProfiles/`      |
| **æ–‡æª”**            | snake_case              | `api_documentation.md`           | âŒ `API-Documentation.md`                |
| **å¸¶æ—¥æœŸæ–‡æª”**      | YYYY-MM-DD_name.md      | `2026-01-22_meeting_notes.md`    | âŒ `meeting-notes-2026-01-22.md`         |
| **Migration**       | YYYYMMDDHHmmss_name.sql | `20260122120000_create_view.sql` | âŒ `2026-01-22-create-view.sql`          |

### 3. ğŸ”´ æ–‡ä»¶æ­¸æª”è·¯å¾‘è¦å‰‡

#### ç¦æ­¢çš„æ“ä½œ âŒ
- âŒ åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å‰µå»º `.md`ã€`.txt`ã€`.doc` ç­‰æ–‡æª”æ–‡ä»¶
- âŒ åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å‰µå»ºæ¸¬è©¦æˆ–è‡¨æ™‚æ–‡ä»¶ï¼ˆå¦‚ `test.js`, `temp.md`ï¼‰
- âŒ ä½¿ç”¨ä¸­æ–‡å‘½åç¨‹å¼ç¢¼æ–‡ä»¶æˆ–è³‡æ–™å¤¾

#### æ­£ç¢ºçš„æ­¸æª”ä½ç½® âœ…
```
âœ… docs/                       # æ‰€æœ‰æ–‡æª”çš„å®¶
â”œâ”€â”€ architecture/             # æ¶æ§‹åœ–ã€æŠ€è¡“æ±ºç­–
â”œâ”€â”€ api/                      # API è¦æ ¼æ›¸
â”œâ”€â”€ guides/                   # é–‹ç™¼æŒ‡å—
â”œâ”€â”€ testing/                  # æ¸¬è©¦å ±å‘Š
â”œâ”€â”€ deployment/               # éƒ¨ç½²æ–‡æª”
â””â”€â”€ drafts/                   # è‡¨æ™‚è‰ç¨¿

âœ… frontend/src/              # å‰ç«¯ä»£ç¢¼
â”œâ”€â”€ components/              # UI çµ„ä»¶ (PascalCase)
â”œâ”€â”€ hooks/                   # Custom Hooks (camelCase with usePrefix)
â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•¸ (camelCase)
â”œâ”€â”€ pages/                   # è·¯ç”±é é¢ (PascalCase)
â””â”€â”€ lib/                     # ç¬¬ä¸‰æ–¹æ•´åˆ (camelCase)

âœ… backend/src/               # å¾Œç«¯ä»£ç¢¼
â”œâ”€â”€ controllers/             # æ§åˆ¶å™¨ (camelCase)
â”œâ”€â”€ models/                  # è³‡æ–™æ¨¡å‹ (PascalCase)
â”œâ”€â”€ services/                # æ¥­å‹™é‚è¼¯ (camelCase)
â””â”€â”€ utils/                   # å·¥å…·å‡½æ•¸ (camelCase)

âœ… supabase/migrations/       # è³‡æ–™åº«é·ç§»
â””â”€â”€ YYYYMMDDHHmmss_description.sql
```

### 4. ğŸ”´ å‰µå»ºæ–‡ä»¶æ™‚çš„æª¢æŸ¥æ¸…å–®

AI åœ¨å‰µå»ºæ–‡ä»¶å¾Œå¿…é ˆè‡ªæˆ‘ç¢ºèªï¼š

- [ ] æ–‡ä»¶åæ˜¯å¦ç¬¦åˆæ­£ç¢ºçš„ casing è¦å‰‡ï¼Ÿ
- [ ] æ–‡ä»¶æ˜¯å¦æ”¾åœ¨æ­£ç¢ºçš„ç›®éŒ„ä¸­ï¼Ÿ
- [ ] ç¨‹å¼ç¢¼æ–‡ä»¶æ˜¯å¦åŒ…å« `// filepath: ` è¨»è§£ï¼Ÿ
- [ ] æ˜¯å¦éµå®ˆäº† Monorepo çµæ§‹ï¼Ÿ
- [ ] æ–‡æª”æ˜¯å¦åŒ…å«æ›´æ–°æ—¥æœŸå’Œç‰ˆæœ¬ï¼Ÿ
- [ ] æ˜¯å¦é¿å…äº†åœ¨æ ¹ç›®éŒ„å‰µå»ºæ–‡æª”ï¼Ÿ

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹ï¼ˆMonorepoï¼‰

```text
root/
â”œâ”€â”€ .env                      # ç’°å¢ƒè®Šæ•¸ï¼ˆä¸å¯æäº¤ï¼‰
â”œâ”€â”€ .gitignore                # Git å¿½ç•¥è¦å‰‡
â”œâ”€â”€ README.md                 # å°ˆæ¡ˆä¸»èªªæ˜
â”œâ”€â”€ CLAUDE.md                 # æœ¬æ–‡ä»¶ï¼ˆAI è¡Œç‚ºè¦ç¯„ï¼‰
â”œâ”€â”€ package.json              # å°ˆæ¡ˆä¾è³´
â”‚
â”œâ”€â”€ frontend/                 # ğŸ¨ å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # UI çµ„ä»¶ï¼ˆPascalCase.tsxï¼‰
â”‚   â”‚   â”œâ”€â”€ hooks/            # Custom Hooks (useCamelCase.ts)
â”‚   â”‚   â”œâ”€â”€ lib/              # ç¬¬ä¸‰æ–¹æ•´åˆï¼ˆcamelCase.tsï¼‰
â”‚   â”‚   â””â”€â”€ pages/            # è·¯ç”±é é¢ï¼ˆPascalCase.tsxï¼‰
â”‚   â”œâ”€â”€ assets/               # éœæ…‹è³‡æº
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/                  # ğŸ”§ å¾Œç«¯æœå‹™
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/      # æ§åˆ¶å™¨ï¼ˆcamelCase.tsï¼‰
â”‚   â”‚   â”œâ”€â”€ models/           # è³‡æ–™æ¨¡å‹ï¼ˆPascalCase.tsï¼‰
â”‚   â”‚   â””â”€â”€ services/         # æ¥­å‹™é‚è¼¯ï¼ˆcamelCase.tsï¼‰
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ supabase/                 # ğŸ—„ï¸ è³‡æ–™åº«
â”‚   â”œâ”€â”€ migrations/           # SQL é·ç§»æª”ï¼ˆYYYYMMDDHHmmss_name.sqlï¼‰
â”‚   â””â”€â”€ config.toml
â”‚
â”œâ”€â”€ docs/                     # ğŸ“š å°ˆæ¡ˆæ–‡æª”ä¸­å¿ƒ
â”‚   â”œâ”€â”€ architecture/         # ç³»çµ±æ¶æ§‹
â”‚   â”œâ”€â”€ api/                  # API æ–‡æª”
â”‚   â”œâ”€â”€ guides/               # é–‹ç™¼æŒ‡å—
â”‚   â”œâ”€â”€ testing/              # æ¸¬è©¦å ±å‘Š
â”‚   â””â”€â”€ drafts/               # è‡¨æ™‚è‰ç¨¿
â”‚
â””â”€â”€ scripts/                  # ğŸ”¨ è‡ªå‹•åŒ–è…³æœ¬
    â””â”€â”€ deploy-prod.sh
```

---

## ğŸ› ï¸ ä»£ç¢¼å“è³ªè¦æ±‚

### å¿…é ˆåŒ…å«çš„è¨»è§£

æ‰€æœ‰ç¨‹å¼ç¢¼æ–‡ä»¶é–‹é ­å¿…é ˆåŒ…å«ï¼š

```typescript
// filepath: frontend/src/components/UserProfile.tsx
// description: ä½¿ç”¨è€…å€‹äººè³‡æ–™çµ„ä»¶
// created: 2026-01-22
```

### TypeScript åš´æ ¼æ¨¡å¼

- æ‰€æœ‰å‰ç«¯ä»£ç¢¼å¿…é ˆä½¿ç”¨ **TypeScript**
- ç¦æ­¢ä½¿ç”¨ `any` é¡å‹ï¼ˆé™¤éæœ‰æ˜ç¢ºè¨»é‡‹èªªæ˜åŸå› ï¼‰
- æ‰€æœ‰å‡½æ•¸åƒæ•¸å’Œè¿”å›å€¼å¿…é ˆæœ‰é¡å‹æ¨™è¨»

---

## ğŸ“– Context7 æŠ€è¡“æ–‡æª”åƒè€ƒ

æŸ¥è©¢æœ€æ–°å®˜æ–¹æ–‡æª”æ™‚ä½¿ç”¨ï¼š

| æŠ€è¡“          | Context7 è·¯å¾‘           |
| ------------- | ----------------------- |
| React 19      | `/facebook/react`       |
| Expo 54       | `/expo/expo`            |
| Supabase      | `/supabase/supabase`    |
| TypeScript    | `/microsoft/typescript` |
| PostgreSQL 17 | `/postgres/postgres`    |

---

## ğŸš€ å¿«é€ŸæŒ‡ä»¤

```bash
# Supabase
supabase start                # å•Ÿå‹•æœ¬åœ° Supabase
supabase db reset             # é‡ç½®è³‡æ–™åº«ï¼ˆæ‡‰ç”¨æ‰€æœ‰é·ç§»ï¼‰
supabase status               # æª¢æŸ¥æœå‹™ç‹€æ…‹
supabase db diff              # æŸ¥çœ‹ schema è®Šæ›´

# Frontend
cd frontend
npm install                   # å®‰è£ä¾è³´
npx expo start --web          # å•Ÿå‹• Web é–‹ç™¼ä¼ºæœå™¨
npx expo start                # å•Ÿå‹•å®Œæ•´ Expo ä¼ºæœå™¨

# Testing
npm run test                  # åŸ·è¡Œæ¸¬è©¦
npm run lint                  # åŸ·è¡Œ linter
```

---

## ğŸ—„ï¸ è³‡æ–™åº«æ¶æ§‹é‡é»

### çµ±ä¸€ç‰©ä»¶ä»‹é¢

å‰ç«¯ä½¿ç”¨çµ±ä¸€çš„ `properties` è¦–åœ–è¨ªå•ç‰©ä»¶ï¼š

```typescript
// å‰ç«¯ä»£ç¢¼çµ±ä¸€ä½¿ç”¨ properties è¦–åœ–
const { data } = await supabase
  .from('properties')  // âœ… çµ±ä¸€ä»‹é¢
  .select('*')

// è¦–åœ–è‡ªå‹•åˆä½µï¼š
// - Property_Sales (å‡ºå”®ç‰©ä»¶)
// - Property_Rentals (å‡ºç§Ÿç‰©ä»¶)
```

### æ ¸å¿ƒè¡¨æ ¼

| è¡¨å                   | ç”¨é€”       | å‰ç«¯è¨ªå•æ–¹å¼           |
| ---------------------- | ---------- | ---------------------- |
| `Property_Sales`       | å‡ºå”®ç‰©ä»¶   | é€é `properties` è¦–åœ– |
| `Property_Rentals`     | å‡ºç§Ÿç‰©ä»¶   | é€é `properties` è¦–åœ– |
| `Property_Photos`      | ç‰©ä»¶ç…§ç‰‡   | ç›´æ¥è¨ªå•               |
| `users_profile`        | ä½¿ç”¨è€…è³‡æ–™ | ç›´æ¥è¨ªå•               |
| `agent_authorizations` | ä»²ä»‹æˆæ¬Š   | ç›´æ¥è¨ªå•               |

---

## âœ… AI å‰µå»ºæ–‡ä»¶ç¤ºä¾‹

### âŒ éŒ¯èª¤ç¤ºä¾‹

```markdown
# AI å‰µå»ºäº†ä»¥ä¸‹æ–‡ä»¶ï¼ˆéŒ¯èª¤ï¼‰
test-connection.js           # âŒ åœ¨æ ¹ç›®éŒ„
é–‹ç™¼ç’°å¢ƒæ¸¬è©¦å ±å‘Š.md           # âŒ ä¸­æ–‡æ–‡ä»¶åï¼Œåœ¨æ ¹ç›®éŒ„
userProfile.tsx              # âŒ éŒ¯èª¤çš„ casingï¼ˆæ‡‰è©²æ˜¯ UserProfile.tsxï¼‰
user-service.ts              # âŒ éŒ¯èª¤çš„ casingï¼ˆæ‡‰è©²æ˜¯ userService.tsï¼‰
```

### âœ… æ­£ç¢ºç¤ºä¾‹

```markdown
# AI å‰µå»ºäº†ä»¥ä¸‹æ–‡ä»¶ï¼ˆæ­£ç¢ºï¼‰
docs/testing/connection_test_report_2026-01-22.md    # âœ… æ­£ç¢ºä½ç½®ï¼Œæ­£ç¢ºå‘½å
frontend/src/components/UserProfile.tsx              # âœ… PascalCaseï¼Œæ­£ç¢ºä½ç½®
frontend/src/services/userService.ts                 # âœ… camelCaseï¼Œæ­£ç¢ºä½ç½®
supabase/migrations/20260122120000_create_properties_view.sql  # âœ… æ­£ç¢ºæ ¼å¼
```

---

## ğŸ“ ç‰ˆæœ¬ä¿®è¨‚è¨˜éŒ„

- **2026-01-22**ï¼šå¤§å¹…æ“´å…… AI è¡Œç‚ºç´„æŸï¼Œæ·»åŠ æ–‡ä»¶å‘½åæª¢æŸ¥æ¸…å–®ã€ç¦æ­¢é …ç›®ã€æ­¸æª”è·¯å¾‘è¦å‰‡ï¼Œä¸¦æ–°å¢è³‡æ–™åº«æ¶æ§‹èªªæ˜ï¼ˆproperties è¦–åœ–ï¼‰ã€‚
- **2026-01-17**ï¼šåˆå§‹ç‰ˆæœ¬ï¼ŒåŸºæœ¬è¦ç¯„é€£çµã€‚

---

## ğŸ¯ ç¸½çµï¼šAI å¿…é ˆåšçš„äº‹

1. **å‰µå»ºæ–‡ä»¶å‰**ï¼šæª¢æŸ¥å‘½åè¦å‰‡å’Œæ­¸æª”ä½ç½®
2. **ç¨‹å¼ç¢¼æ–‡ä»¶**ï¼šæ·»åŠ  `// filepath:` è¨»è§£
3. **æ–‡æª”æ–‡ä»¶**ï¼šå­˜æ”¾åœ¨ `docs/` ä¸‹å°æ‡‰åˆ†é¡
4. **éµå®ˆ casing**ï¼šPascalCase/camelCase/kebab-case
5. **ä¿æŒæ ¹ç›®éŒ„æ•´æ½”**ï¼šä¸è¦åœ¨æ ¹ç›®éŒ„å‰µå»ºæ–‡æª”æˆ–è‡¨æ™‚æ–‡ä»¶

**è¨˜ä½**ï¼šéµå®ˆé€™äº›è¦å‰‡æ˜¯ç‚ºäº†ä¿æŒå°ˆæ¡ˆçš„å¯ç¶­è­·æ€§å’Œåœ˜éšŠå”ä½œæ•ˆç‡ï¼
