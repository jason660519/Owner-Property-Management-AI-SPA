import{j as e,a5 as oe,P as a,I as J,k as _,J as ra,d as Ge,ag as fe,p as Ne,r as u,N as G,h as ca,s as Q,a8 as _n,a9 as pe,o as he,v as Se,ab as dn,ar as da,am as vt,G as ie,L as Xe,B as xt,U as tt,aC as ua,w as sn,u as Ct,E as At,at as Ve,ae as kn,aU as St,al as on,aj as ma,t as Et,c as Ln,Q as Fn,af as pa,b as ha,aN as va,S as ga,R as Oe}from"./TownhouseColor--VjQBVqd.js";import{cr as gt,aJ as ka,hy as fa,bk as qn,fD as ya,aL as ba,cD as fn,cM as Sa,d0 as Na,Z as Dn,aP as it,bO as xa,kg as Aa,bo as ja,fp as Mn,t as un,dT as mn,k8 as Ta,aX as jt,g4 as Pt,d7 as Ca,cc as Ea,dq as Pa,kh as Ia,d3 as Jt,d4 as Zt,j as kt,ki as yn,cK as Bn,iw as wa,j$ as Ra,kj as _a,cQ as La,hK as Fa,ff as qa,aM as It,kk as Da,eK as Ma,jZ as Ba,dw as Ha,dr as Va,x as Oa,E as bn,kl as Wa,R as Sn,ek as wt,c1 as Ua,S as Ya,Q as Qa,J as le,W as We,H as Ga,km as Xa,q as Hn,dh as za,a2 as $a,c as Nn,d9 as Ja,bn as Kt,bJ as Za,cv as Ka,aI as Rt,aV as es,dx as Ie,be as ts}from"./main-dumNSXg9.js";import{_ as ns}from"./addTenant-C28JX-tw.js";import{N as as}from"./NewAccountEmptyState-Dqw66CVF.js";import{N as ss,R as is}from"./NotificationModal-BtOrPqqr.js";import{P as xn,b as os,E as ls,I as rs,a as cs,A as ds,c as us,_ as ms}from"./resendQuestionnaireLink-5AdhRdbs.js";import{_ as ps}from"./detailed_lead.fragment-DkOpsOoq.js";import{I as Vn}from"./IncomeInsightsBanner-Clh1dFmS.js";import{C as An}from"./CheckboxField-CH_TivEf.js";import{t as hs}from"./truncate-8jrxeSkh.js";import{N as pn}from"./NoActiveItemsState-DORkPZUz.js";import{S as vs,P as On}from"./ShowingsColor-B5DiSCHY.js";import{_ as gs}from"./updateLeadRequest-CRgXdzDs.js";import{i as ks}from"./isBannerHidden-BMafTP6_.js";import{D as fs}from"./DottedHeader-D5rG9DSa.js";import{_ as ys}from"./bulkInviteToShowings-Dg5TTRRi.js";import{E as bs}from"./EmptyState-DMj64euZ.js";import{f as Ss,S as en}from"./SetAvailabilityModal-BDud7sew.js";import{S as jn}from"./SingleInviteModal-CjaxOsVr.js";import{a as ln,S as ot,R as Ns,L as xs}from"./RenterCard-KuJZjTmo.js";import{A as As}from"./AddNewLeadModal-Crz9YkrQ.js";import{P as js}from"./Pagination-BaVbHAWO.js";import{u as Ts,T as Cs}from"./TenantPlacementQualificationModal-BUF34ok8.js";import{U as Es}from"./UpdatePropertyAddressModal-CVIsj3ZO.js";import{_ as Ps}from"./tenantPlacementChecklistStatus-DBTdyy_u.js";import{I as Is}from"./InviteTenantModal-CgO4UIgM.js";import{A as ws}from"./StyledTable-BvuuAZaN.js";import{g as Tn}from"./getLastActiveOrInvitedToPortal-MnGmLcep.js";import"./renter.fragment-Bw-Iz3YH.js";import"./common_tenant_data.fragment-BuOJMkzd.js";import"./application.fragment-BPK0_S5u.js";import"./CheckMark-FBlC4w0-.js";import"./local_storage_keys-C0iXcoJh.js";import"./PremiumSubscriptionBanner-fx5JsfcE.js";import"./PencilDocument-C74JaG9V.js";import"./NotFound-QMpt4eTL.js";import"./PreScreenerPromotionModal-CE97egSI.js";import"./index-zSWA2t_E.js";import"./isNullEmptyOrUndefined-aX4MtJWb.js";import"./formatShowingTime-A0aZEubc.js";import"./withProps-B7NeQlU_.js";import"./groupAndSortListings-CLoD2org.js";import"./updateProperty-BfNlUQUp.js";import"./InformationCircle-DXQq8tda.js";const Rs="/assets/applicants-empty@2x-GgWz6Fig.webp",_s="/assets/leads-empty@2x-CPCvHeNx.webp",Ls="/assets/mobile-applicants-empty@2x-4RcpWU8c.webp",Fs="/assets/mobile-leads-empty@2x-AxKO51PT.webp",qs="/assets/mobile-tenants-empty@2x-C_PYbIYP.webp",Ds="/assets/tenants-empty@2x-BmhYZNqv.webp",Ms="yJuGB",Bs="AGcZp",Hs="_18usk",Vs="_4SDzg",ft={container:Ms,title:Bs,description:Hs,button:Vs},Wn=({onScreenTenant:t})=>e.jsxs("div",{className:ft.container,children:[e.jsx("p",{className:ft.title,children:"Only looking to screen a tenant?"}),e.jsx("div",{className:ft.description,children:"If you already have a rental application, pull a tenantâ€™s screening report."}),e.jsx(oe,{secondary:!0,onClick:t,className:ft.button,children:"Screen a Tenant"})]});Wn.propTypes={onScreenTenant:a.func};const Os=`#import "../fragments/detailed_lead.fragment.graphql"

mutation updateLeadsBulk(
  $leadIds: [String!]
  $contacted: Boolean!
  $viewed: Boolean
  $allSelected: Boolean
) {
  updateLeadsBulk(
    input: {
      leadIds: $leadIds
      contacted: $contacted
      viewed: $viewed
      allSelected: $allSelected
    }
  ) {
    leads {
      ...DetailedLeadFragment
    }
  }
}
`,Tt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateLeadsBulk"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"leadIds"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contacted"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewed"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allSelected"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateLeadsBulk"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"leadIds"},value:{kind:"Variable",name:{kind:"Name",value:"leadIds"}}},{kind:"ObjectField",name:{kind:"Name",value:"contacted"},value:{kind:"Variable",name:{kind:"Name",value:"contacted"}}},{kind:"ObjectField",name:{kind:"Name",value:"viewed"},value:{kind:"Variable",name:{kind:"Name",value:"viewed"}}},{kind:"ObjectField",name:{kind:"Name",value:"allSelected"},value:{kind:"Variable",name:{kind:"Name",value:"allSelected"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DetailedLeadFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:415,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Os}}},Ws=t=>{const s={};return t.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const k=i.name.value;return s[k]?!1:(s[k]=!0,!0)})};Tt.definitions=Ws(Tt.definitions.concat(ps.definitions));const Us=(t,s)=>{const i=(n,p)=>{if(n.kind==="FragmentSpread")p.add(n.name.value);else if(n.kind==="VariableDefinition"){const S=n.type;S.kind==="NamedType"&&p.add(S.name.value)}return n&&"selectionSet"in n&&n.selectionSet&&n.selectionSet.selections.forEach(S=>{i(S,p)}),n&&"variableDefinitions"in n&&n.variableDefinitions&&n.variableDefinitions.forEach(S=>{i(S,p)}),n&&"definitions"in n&&n.definitions&&n.definitions.forEach(S=>{i(S,p)}),p},k=n=>{const p={};return n.definitions.forEach(function(S){"name"in S&&S.name&&(p[S.name.value]=i(S,new Set))}),p},b=(n,p)=>{for(let S=0;S<n.definitions.length;S++){const N=n.definitions[S];if(N&&"name"in N&&N.name&&N.name.value==p)return N}},g=k(t),v=Object.assign({},t,{definitions:[b(t,s)]}),m=g[s]||new Set,d=new Set;let r=new Set;for(m.forEach(n=>{r.add(n)});r.size>0;){const n=r;r=new Set,n.forEach(p=>{d.has(p)||(d.add(p),(g[p]||new Set).forEach(N=>{r.add(N)}))})}return d.forEach(n=>{const p=b(t,n);p&&v.definitions.push(p)}),v};Us(Tt,"updateLeadsBulk");const Ys="uQlLG",Cn={iconWrapper:Ys},Qs={POSITIVE:{icon:"thumbs-up-filled",color:"secondary"},DEFINITE:{icon:"circle-star-filled",color:"success"},NEGATIVE:{icon:"thumbs-down-filled",color:"error"}},rn=({data:t})=>{if(!t)return e.jsx("span",{className:Cn.iconWrapper,children:e.jsx(J,{name:"evaluation",color:"primary"})});const{icon:s,color:i}=Qs[t.evaluation];return e.jsx("span",{className:Cn.iconWrapper,children:e.jsx(J,{name:s,color:i})})};rn.propTypes={data:a.shape({evaluation:a.oneOf(["POSITIVE","DEFINITE","NEGATIVE"]),comment:a.string})};const Gs="_82Z-8",Xs="bFxOx",zs="KkZn6",yt={menuTrigger:Gs,actionsBtn:Xs,icon:zs},Nt=({triggerClassName:t,actions:s,onAction:i,bulk:k,id:b,"data-qa":g,"data-tooltip-id":v})=>{const m=n=>{i(n)},[d]=s,r=k?s.filter(n=>n.bulkLabel):s;return r.length===1?e.jsx(oe,{small:!0,onClick:()=>m(d.type||d.label),size:"small",className:yt.singleButton,secondary:!k,disabled:d.disabled,"data-qa":g||"actions-button",children:k&&d.bulkLabel||d.label}):e.jsxs("div",{children:[e.jsxs(gt,{closeOnClick:!0,children:[e.jsx(gt.Trigger,{asChild:!0,children:k?e.jsx("div",{children:e.jsx(oe,{className:yt.actionsBtn,id:b,"data-qa":g||"actions-button",icon:()=>e.jsx(J,{className:yt.icon,name:"arrow-down"}),iconAfter:!0,children:"Actions"})}):e.jsx(ka,{className:_(yt.menuTrigger,t),id:b,"data-tooltip-id":v,"data-qa":g||"actions-button",icon:fa})}),e.jsx(gt.Content,{children:r.map((n,p)=>e.jsxs(ra.Fragment,{children:[e.jsx(gt.Item,{disabled:n.disabled,onClick:()=>!n.disabled&&m(n.type),icon:n.icon,iconProps:{color:Ge.primary},"data-tooltip-id":`disabled-tip-${n.type}`,"data-qa":`leads-action-item-${n.type}`,id:n.id,children:k?n.bulkLabel:n.label},n.type),n.disabled&&e.jsx(fe,{id:`disabled-tip-${n.type}`,place:p===0?"bottom":"top",children:n.disabledMessage})]},n.id||p))})]}),e.jsx(fe,{id:v,children:"More actions"})]})};Nt.propTypes={actions:a.arrayOf(a.shape({label:a.string,type:a.string,disabled:a.bool,disabledMessage:a.string,icon:a.node})).isRequired,onAction:a.func.isRequired,bulk:a.bool,id:a.string,"data-qa":a.string,"data-tooltip-id":a.string,triggerClassName:a.string};const $s="PondC",Js="rqU2R",Zs="oY9rS",Ks="_2PseV",ei="XHGxa",ti="ACZLq",ni="TAzBV",ai="Ies-K",si="RRd9E",ii="w6rXq",oi="OAVmf",li="g061V",ri="nt-zY",ci="mmWLt",di="DhrM2",ui="EsFBJ",mi="HVLbx",pi="_7UW1h",hi="BEUAD",vi="JLHem",gi="UQNzU",ki="ILbYG",fi="zRx2m",yi="pwFHn",bi="CgoiC",Si="JE8om",Ni="NOYLc",xi="BJxzv",Ai="-O0D7",ji="vF0wa",Ti="byyix",I={table:$s,header:Js,firstColumn:Zs,secondColumn:Ks,secondColumnMobile:ei,thirdColumn:ti,fourthColumn:ni,fifthColumn:ai,sixthColumn:si,sixthColumnRow:ii,checkboxLead:oi,leadRow:li,isTenantPlacement:ri,tooltipTrigger:ci,tenantPlacementTooltip:di,actionsBtn:ui,leadInfo:mi,leadStatus:pi,leadName:hi,leadAddress:vi,checkboxSelectedAll:gi,checkboxSelectedAllLabel:ki,leadActivity:fi,sortableHeader:yi,sortActive:bi,sortIcon:Si,sortIconHidden:Ni,evaluationWrapper:xi,popoverWrapper:Ai,tooltipContent:ji,lightningIcon:Ti},Ci=["INPUT","svg","path","A","BUTTON"],Un={field:null,order:null,hovered:null};function Ei(t,s){switch(s.type){case"SET_SORT":return{...t,field:s.field,order:s.order};case"CLEAR_SORT":return{...Un};case"SET_HOVER":return{...t,hovered:s.field};case"CLEAR_HOVER":return{...t,hovered:null};default:return t}}const Yn=({leads:t,selectedLeads:s,onSelectAll:i,totalLeads:k,onSelectLead:b,onEvaluationClick:g,user:v,...m})=>{const d=Ne(),r=window.location,[n,p]=u.useReducer(Ei,Un),S=qn();u.useEffect(()=>{const P=G.parse(r.search),l=["evaluationsSort","dateSort","sourceSort"];for(const o of l)if(P[o]){p({type:"SET_SORT",field:o.replace("Sort",""),order:P[o]});break}},[r.search]);const N=P=>{const l=G.parse(r.search),o=`${P}Sort`,T=l[o];let L="ASC";T==="ASC"?L="DESC":T==="DESC"&&(L=void 0);const ee=Object.fromEntries(Object.entries(l).filter(([V])=>!V.endsWith("Sort")));L?(ee[o]=L,p({type:"SET_SORT",field:P,order:L})):p({type:"CLEAR_SORT"}),delete ee.page,d(`${r.pathname}?${G.stringify(ee,{arrayFormat:"comma"})}`,{replace:!0})},w=P=>n.field===P?n.order==="ASC"?"arrow-up":"arrow-down":"arrow-up",h=(P,l,o)=>e.jsxs("div",{className:_(o,I.sortableHeader,{[I.sortActive]:n.field===l}),onMouseEnter:()=>p({type:"SET_HOVER",field:l}),onMouseLeave:()=>p({type:"CLEAR_HOVER"}),onClick:()=>N(l),children:[P,(n.hovered===l||n.field===l)&&e.jsx(J,{name:w(l),className:_(I.sortIcon,{[I.sortIconHidden]:n.hovered!==l&&n.field!==l}),color:n.field===l?"default":"close-lightbg"})]}),A=u.useMemo(()=>new Set(s),[s]),R=u.useMemo(()=>t.map(P=>({...P,selected:A.has(P.id)})),[t,A]),{LEADS_TABLE_PAGE_SIZE:j}=ca(),q=m.actions(),f=u.useMemo(()=>t.filter(P=>!P.listing?.has_active_tenant_placement_service),[t]),D=u.useMemo(()=>f.length===0,[f]),Z=u.useMemo(()=>f.length>0&&f.every(P=>A.has(P.id)),[f,A]),H=u.useMemo(()=>{if(t.length===0)return 0;const P=f.length/t.length;return Math.round(k*P)},[t.length,f.length,k]),M=P=>{const l=P.toLowerCase();let T=["zillow","facebook","apartments","apartment_list","realtor","homes","craigslist","mp_uloop","mp_college_rentals","mp_dwellsy","mp_zumper","rentberry","spareroom","mp_rental_source","renthop","mp_rent_path","apartment_advisor","rentler"].find(L=>l.includes(L));return T?T.replace(/^mp_/,"").replaceAll("_"," ").replaceAll(/\b\w/g,L=>L.toUpperCase()):"TurboTenant"},ne=(P,l)=>{const o=!!P.evaluation;Q(`${o?"edit":"add"}_evaluation clicked`,{location:"leads"}),g&&g(P,l)},K=v?.has_evaluations?-1:0,de=(P,l)=>P.evaluation?"Edit evaluation":l!==K?"Add evaluation":e.jsxs(e.Fragment,{children:[e.jsx(_n,{children:"New Evaluations feature! ðŸŽ‰"}),e.jsx(pe,{children:`Quickly rate this renter and explain why they are or aren't a good fit. Evaluations are private and only visible to you. You can rate them "Negative ðŸ‘Ž, Positive ðŸ‘, or Definite â­ï¸."`})]}),ve=u.useRef(null);return u.useEffect(()=>{ve.current&&ve.current.change("select_all",Z)},[Z]),e.jsx(ya,{initialValues:{select_all:Z},children:({values:P,form:l})=>(ve.current=l,e.jsxs("div",{className:I.table,children:[e.jsxs("div",{className:I.header,children:[e.jsxs("div",{className:I.firstColumn,children:[e.jsx(An,{required:!1,name:"select_all",disabled:D,label:(()=>{const o=H>j?f.length:H;return P.select_all?`${o} Selected`:f.length>0?`Select (${o})`:"Select"})(),className:I.checkboxSelectedAll,labelClassName:I.checkboxSelectedAllLabel}),e.jsx(ba,{name:"select_all",children:o=>i(o)})]}),h("Date added","date",I.secondColumn),h("Source","source",I.thirdColumn),e.jsx("div",{className:I.fourthColumn,children:"Activity"}),h("Evaluation","evaluations",I.fifthColumn),e.jsx("div",{className:I.sixthColumn,children:A.size>(S?0:1)?e.jsx(Nt,{bulk:!0,actions:q,onAction:o=>m.onAction({type:o,allSelected:P.select_all})}):e.jsx(e.Fragment,{children:"Actions"})})]}),e.jsx("div",{className:I.content,children:R.map((o,T)=>{const L=!["VIEWED","APPLIED"].includes(o.status),ee=m.actions(o),V=o.listing?.has_active_tenant_placement_service||!1;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:_(I.leadRow,{[I.isTenantPlacement]:V}),onClick:X=>{!V&&!Ci.includes(X.target.tagName)&&m.onViewLead(o.id)},style:o.status==="NEW"&&!V?{backgroundColor:"#F5F6F8"}:{},"data-qa":`leads-table-row-${T}`,children:[V&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:I.tooltipTrigger,"data-tooltip-id":`tenant-placement-tip-${o.id}`}),e.jsx(J,{className:I.lightningIcon,name:"lightning-filled",color:"reverse",size:"sm"})]}),e.jsxs("div",{className:I.firstColumn,children:[e.jsx(An,{controlled:!0,required:!1,name:`select_${o.id}`,className:I.checkboxLead,style:{marginRight:15},initialValue:o.selected,checked:o.selected,disabled:V,checkboxIconStyles:o.selected?{fill:Ge.greyLight}:{},onClick:()=>{V||b(o.id,l,P.select_all)}}),e.jsxs("div",{className:I.leadInfo,children:[L&&e.jsx("b",{className:I.leadStatus,style:o.status==="CONTACTED"?{color:Ge.green}:{color:Ge.secondary},children:o.status}),(o.first_name||o.last_name)&&e.jsx("div",{className:I.leadName,"data-qa":"lead-name",children:e.jsx("div",{children:hs(`${o.first_name} ${o.last_name}`,25)})}),e.jsx("b",{className:I.leadAddress,"data-tooltip-id":`lead-key-tip-${o.id}`,children:fn({listing:o?.listing,separator:", "})}),e.jsx(fe,{id:`lead-key-tip-${o.id}`,children:e.jsx("span",{children:fn({listing:o?.listing,separator:", "})})})]})]}),e.jsx("div",{className:I.secondColumn,children:Sa(o.created_at,"MMM DD, YYYY")}),e.jsx("div",{className:I.thirdColumn,children:V?"TurboTenant":M(o.source)}),e.jsx("div",{className:I.fourthColumn,children:e.jsxs("div",{className:I.leadActivity,children:[e.jsx("div",{"data-tooltip-id":`double-check-${o.id}`,children:e.jsx(J,{name:"pre-screener",color:o.questionnaire?"textLight":"disabled"})}),e.jsx(fe,{id:`double-check-${o.id}`,children:o.questionnaire?"Pre-screener complete":"No pre-screener"}),e.jsx("div",{"data-tooltip-id":`calendar-${o.id}`,children:e.jsx(J,{name:"calendar",color:o.has_showing?"textLight":"disabled"})}),e.jsx(fe,{id:`calendar-${o.id}`,children:o.has_showing?"Showing booked":"No showing booked"})]})}),e.jsxs("div",{className:I.fifthColumn,children:[e.jsxs("div",{className:I.evaluationWrapper,onClick:X=>ne(o,X),"data-tooltip-id":`evaluation-${o.id}`,children:[K===T&&e.jsx("div",{className:I.popoverWrapper,children:e.jsx(xn,{loop:!0,style:{width:"32px",height:"32px"}})}),e.jsx(rn,{data:o.evaluation})]}),!S&&e.jsx(fe,{id:`evaluation-${o.id}`,type:K===T?"light":"dark",className:_({[I.tooltipContent]:!o.evaluation&&K===T}),children:de(o,T)})]}),e.jsxs("div",{className:I.secondColumnMobile,children:[e.jsxs("div",{className:I.evaluationWrapper,onClick:X=>ne(o,X),children:[K===T&&e.jsx("div",{className:I.popoverWrapper,children:e.jsx(xn,{loop:!0,style:{width:"32px",height:"32px"}})}),e.jsx(rn,{data:o.evaluation})]}),e.jsx(Nt,{actions:ee,onAction:X=>{Q("actions clicked",{location:"leads"}),m.onAction({type:X,leadsIds:[o.id]})},"data-qa":`leads-actions-button-mob-${T}`})]}),e.jsx("div",{className:_(I.sixthColumn,I.sixthColumnRow),children:A.size<=1&&e.jsx(Nt,{triggerClassName:I.actionsBtn,"data-tooltip-id":`actions-${o.id}`,actions:ee,onAction:X=>{Q("actions clicked",{location:"leads"}),m.onAction({type:X,leadsIds:[o.id]})},"data-qa":`leads-actions-button-${T}`})})]},o.id),e.jsx(fe,{id:`tenant-placement-tip-${o.id}`,className:I.tenantPlacementTooltip,children:e.jsx("span",{children:"This lead is in Autopilot and being managed for you by TurboTenant."})})]})})})]}))})};Yn.propTypes={leads:a.array,totalLeads:a.number,selectedLeads:a.array,onAction:a.func,onSelectAll:a.func,onSelectLead:a.func,onViewLead:a.func,actions:a.func,onEvaluationClick:a.func,user:a.object};const Pi="JqIS5",Ii="_3ZUwP",wi="dQ-sI",Ri="PWOKU",_i="EkqWh",Li="PVclB",Fi="TxCAu",qi="aSaw1",Di="_1s7T-",Mi="fLnAS",Bi="_515OZ",Hi="ax2c-",re={modalContent:Pi,modalTitle:Ii,sendBtn:wi,banner:Ri,bannerCircle:_i,bannerPattern:Li,info:Fi,addAvailability:qi,leadsList:Di,leadsListItem:Mi,bullet:Bi,warningsContainer:Hi},Qn=({open:t,onClose:s,selectedLeads:i,onClickAddAvailability:k})=>{const{PRIVATE_BASE_PATH:b}=he(),g=Na(),v=Dn();let m=!1,d=[],r=[];i.forEach(h=>{h.listing?.showing_availability?.showing_availability_slots?.length>0?(m=!0,d.push(h)):r.push(h)});const p=(h=>{const A={};return h.forEach(R=>{const{id:j,first_name:q,last_name:f}=R,{id:D}=R.listing;A[D]||(A[D]={listing:R.listing,leads:[]}),A[D].leads.push({first_name:q,last_name:f,id:j})}),Object.values(A)})(r),[S,{loading:N}]=Se(ys),w=async()=>{try{const h=await S({variables:{leads:d.map(A=>({id:A.id,listing_id:A.listing.id}))}});s(),h.data.sendBulkInviteToShowings.all_invites_sent&&g("Invitation successfully sent!"),h.data.sendBulkInviteToShowings.partially_sent_invites&&g("Invitation successfully sent but not to all leads you selected"),h.data.sendBulkInviteToShowings.all_invites_failed&&v("An error has occurred")}catch(h){v(h.message||"An error has occurred")}};return e.jsx(it,{onClose:s,open:t,showCloseIcon:!0,disableCloseIcon:N,size:"small",bannerClassName:re.banner,banner:m?e.jsx(fs,{className:re.banner,icon:vs,circleCenterClassName:re.bannerCircle,patternProps:{className:re.bannerPattern}}):null,children:e.jsx(it.Content,{noHeader:!0,noFooter:!0,className:re.modalContent,children:m?e.jsxs(e.Fragment,{children:[e.jsx(dn,{className:re.modalTitle,children:"Invite to schedule a showing"}),e.jsxs(pe,{className:"mb-16",children:["We'll invite these leads via text or email to schedule a showing based on"," ",e.jsx(da,{href:`${b}showings/availability`,target:"_blank",children:"your availability"})," ","for each rental they are interested in."]}),e.jsx("div",{className:re.warningsContainer,children:p.map(h=>e.jsxs(xa,{type:"warning",title:`No upcoming availability for ${Ss(h.listing)}`,titleFontWeight:"bold",containerClassName:"mb-16",children:["We are unable to send an invitation to:",e.jsx("div",{className:re.leadsList,children:h.leads?.map(A=>e.jsxs("div",{className:re.leadsListItem,children:[e.jsx(Aa,{color:Ge.warningToastOrange,className:re.bullet}),e.jsxs(pe,{children:[A.first_name," ",A.last_name]})]},A.id))})]},h.listing.id))}),e.jsx(oe,{onClick:w,className:re.sendBtn,loading:N,disabled:!d.length,children:"Send Invite"}),e.jsxs(pe,{className:_(re.info,"mt-16"),children:["Invitation to schedule a showing will be sent to"," ",e.jsxs("strong",{children:[d.length," lead",d.length>1?"s":"","."]})]})]}):e.jsx(bs,{footer:e.jsx(oe,{className:re.addAvailability,onClick:k,children:"Add Availability"}),description:`Renters can schedule showings based on your availability. First set your
        availability and then invite renters to select their preferred time.`,title:"No upcoming availability"})})})};Qn.propTypes={onClose:a.func.isRequired,open:a.bool.isRequired,selectedLeads:a.array.isRequired,onClickAddAvailability:a.func.isRequired};const Vi="/assets/leads-empty-state-B-ezPFJo.webp",Oi="/assets/m.leads-empty-state@2x-D70G01Wm.webp",Wi="_5wWcm",Ui="Q-4yt",Yi="h4j3l",Qi="_8jrfD",Gi="yXVxg",Xi="Epj4b",zi="XyCGG",$i="fyQkV",ye={leadEmptyStateWrapper:Wi,content:Ui,title:Yi,subTitle:Qi,link:Gi,actions:Xi,btn:zi,emptyStateImage:$i},Gn=({onAddManually:t,onStartMarketing:s})=>{const i=qn();return e.jsxs("div",{className:ye.leadEmptyStateWrapper,children:[e.jsx("img",{src:i?Oi:Vi,alt:"Empty State Image",className:ye.emptyStateImage}),e.jsxs("div",{className:ye.content,children:[e.jsx("h2",{className:ye.title,children:"Leads at your fingertips!"}),e.jsxs(pe,{className:ye.subTitle,children:[i?"Easily manage all your leads as they automatically start coming in. ":"Manage all your leads as they automatically start coming in. Easily sort, rank, and track the status of each one as they arrive. ",e.jsx("a",{href:"https://support.turbotenant.com/en/articles/4004035-managing-your-leads-with-turbotenant",rel:"noreferrer noopener",target:"_blank",className:ye.link,children:"Learn How"})]}),e.jsxs("div",{className:ye.actions,children:[e.jsx(oe,{className:ye.btn,onClick:t,secondary:!0,children:"Add Manually"}),e.jsx(oe,{className:ye.btn,onClick:s,children:"Start Marketing"})]})]})]})};Gn.propTypes={onAddManually:a.func.isRequired,onStartMarketing:a.func.isRequired};const Ji="s2-Xg",Zi="_1nuke",Ki="ebYou",eo="L2-jw",to="bx0nY",no="wlxe0",ao="_2llMx",so="K4hUk",io="zTOuj",be={buttonContainer:Ji,container:Zi,dismissContainer:Ki,innerContainer:eo,link:to,title:no,text:ao,column:so,turnOnBtn:io},Xn=({updateProfile:t,show:s,dismissBanner:i})=>{const[k,b]=u.useState(s||!1),[g,v]=u.useState(!1),m=Dn();u.useEffect(()=>{b(s||!1)});const d=async()=>{try{await t({leads_questionnaire:!0}),v(!0)}catch(n){m("Failed to turn on auto pre-screener"),console.error(n)}},r=async()=>{try{i(),b(!1)}catch(n){m("Failed to turn on auto pre-screener"),console.error(n)}};return k?e.jsxs("div",{children:[e.jsxs("div",{className:be.container,children:[e.jsxs("div",{className:be.innerContainer,children:[e.jsxs("div",{className:be.column,children:[e.jsx("span",{className:be.title,children:"Want to effectively evaluate your leads, faster than ever?"}),e.jsxs("span",{className:be.text,children:["TurboTenant can now automatically ask any lead that comes from a 3rd party marketing site about their desired move-in date, household size, employment circumstances, pet situation, and more."," ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",className:be.link,href:"https://support.turbotenant.com/en/articles/4004034-what-is-the-lead-questionnaire-and-how-does-it-work",children:"Learn more about how the Pre-Screening works."})]})]}),e.jsx("div",{className:be.buttonContainer,children:e.jsx(oe,{secondary:!0,onClick:d,id:"turn_on_questionnaire",className:be.turnOnBtn,children:"Turn on auto pre-screener"})})]}),e.jsx("div",{className:be.dismissContainer,children:e.jsx(ja,{strokeWidth:4,color:Ge.greyLight,onClick:r,style:{width:14,height:14,cursor:"pointer"}})})]}),e.jsx(ss,{icon:Mn,open:g,title:"Auto-send is turned on.",info:"We will automatically send a pre-screener to leads that express interest in your listings on 3rd party marketing sites.",buttonTitle:"Sounds Good",onClose:()=>{v(!1),b(!1)}})]}):e.jsx("div",{})};Xn.propTypes={dismissBanner:vt.func,show:vt.bool,styles:vt.object.isRequired,updateProfile:vt.func};const oo="SSbVm",lo="keb5a",ro="wMvxv",co="OcrCY",uo="qLg-V",mo="_5XQcR",po="l4aRI",ho="lcRUc",vo="qh001",ke={headerButtons:oo,prescreenButton:lo,addNewLeadButton:ro,transparentWhileLoading:co,headerButtonsWrapper:uo,paginationWrapper:mo,dummyAppText:po,dummyAppContainerEmptyState:ho,link:vo},zn=({location:t,loading:s,user:i,archived:k,setArchiveLead:b,leads:g,totalLeads:v,updateLeadsBulk:m,listings:d,filtered:r,updateProfile:n,dismissQuestionnaireBanner:p,sendQuestionnaireLink:S})=>{const N=Ne(),{muaUser:w}=un(),h=mn(Ta),[A,R]=u.useState(!1),[j,q]=u.useState([]),[f,D]=u.useState(!1),[Z,H]=u.useState(!1),[M,ne]=u.useState(null),[K,de]=u.useState({}),[ve,P]=u.useState(!1),[l,o]=u.useState(null),[T,L]=u.useState(!1),{LEADS_TABLE_PAGE_SIZE:ee,PRIVATE_BASE_PATH:V}=he(),X=!k&&v<1&&!r&&i.has_archived_leads>0,Te=!k&&v<1&&!r&&i.has_archived_leads<1,Ft=(ie(i,"properties_marketing_online",0)||0)>0,ze=d.length===1,lt=ie(d,"[0].id",{})||{},ue=ze?{listingId:lt}:{},[we,{loading:Ce}]=Se(gs),[rt,ct]=u.useState(!1),[O,te]=u.useState(null),[qt,Re]=u.useState(!1),[Dt,xe]=u.useState(!1),[Mt,_e]=u.useState(!1),[$e,Bt]=u.useState(!1),[Le,me]=u.useState(!1),[Ht,Ae]=u.useState(!1),Vt=d.some(c=>c.has_active_tenant_placement_service),Je=c=>{const x=G.parse(t.search)||{};x.page=c,N({pathname:t.pathname,search:`?${G.stringify(x)}`}),document.activeElement.blur(),window.scrollTo(0,0)},Ee=Math.ceil(v/ee),Fe=Number(G.parse(t.search).page||0),Ze=u.useCallback(()=>Fe<0||Fe>Ee-1,[Ee,Fe]),qe=Te&&!X;u.useEffect(()=>{s||Ze()&&Je(0)},[s,Ze]),u.useEffect(()=>{j.length>0&&q([])},[t.pathname]);const dt=c=>{R(!1),c&&Je(0),setTimeout(()=>document.activeElement.blur(),1)},Ot=()=>{q([]),N(t.pathname)},De=()=>{Q("add_new clicked",{location:"leads"}),R(!0)},Ke=()=>q([]),Me=()=>D(!f),Wt=()=>!ks(ie(i,"dismissed_banners",[]),Ca.LEADS_QUESTIONNAIRE)&&!i.leads_questionnaire,ut=c=>{const x=ie(c,"questionnaire",{})||{},B=ie(c,"questionnaire_sent_at",null)||null;return x.created_at?[]:B?[{label:"Resend Pre-Screener",bulkLabel:"Resend Pre-Screener",type:"RESEND_PRESCREENER",icon:()=>e.jsx(J,{name:"send",size:"md"})}]:[{label:"Send Pre-Screener",bulkLabel:"Send Pre-Screener",type:"SEND_PRESCREENER",icon:()=>e.jsx(J,{name:"send",size:"md"})}]},Ut=c=>{const x=Ea(w);if(k)return[{label:"UNARCHIVE",bulkLabel:"UNARCHIVE",type:"UNARCHIVE",icon:()=>e.jsx(J,{name:"archive"})}];const B=[{label:"Invite to Apply",bulkLabel:"Invite to Apply",type:"INVITE",icon:()=>e.jsx(J,{name:"request-info"})},{label:"Message",bulkLabel:"Message",type:"MESSAGE_LEADS",icon:()=>e.jsx(J,{name:"messages"})},{label:"Invite to Showing",bulkLabel:"Invite to Showing",type:"INVITE_TO_SHOWING",icon:()=>e.jsx(J,{name:"showings"})},{label:"Archive",bulkLabel:"Archive",type:"ARCHIVE",icon:()=>e.jsx(J,{name:"archive"})}],U=x?B.filter(W=>W.type!=="MESSAGE_LEADS"):B;if(c){const W=c.status!=="CONTACTED"&&c.status!=="INVITED"?[{label:"Mark as Contacted",bulkLabel:"Mark as Contacted",type:"MARK_CONTACTED",icon:()=>e.jsx(J,{name:"mark-contacted"})}]:[],$=[{label:"Edit",type:"EDIT",icon:()=>e.jsx(J,{name:"edit"})},U[0],...ut(c),U.find(je=>je.type==="INVITE_TO_SHOWING"),...W,U.find(je=>je.type==="ARCHIVE")];return x||$.splice(2,0,U.find(je=>je.type==="MESSAGE_LEADS")),$.filter(Boolean)}const z=[U[0],U.find(W=>W.type==="INVITE_TO_SHOWING"),{label:"Mark as Contacted",bulkLabel:"Mark as Contacted",type:"MARK_CONTACTED",icon:()=>e.jsx(J,{name:"mark-contacted"})},U.find(W=>W.type==="ARCHIVE")];return x||z.splice(1,0,U.find(W=>W.type==="MESSAGE_LEADS")),z.filter(Boolean)},mt=()=>[!k&&!h&&e.jsxs("div",{className:ke.headerButtonsWrapper,children:[e.jsx(xt,{type:"secondary",icon:"send",className:_(ke.headerButtons,ke.prescreenButton),onClick:()=>{Q("send_prescreener clicked",{location:"Leads"}),Me()},id:"send_pre_screener",children:"Send Pre-screener"},"send-pre-prescreener-key"),e.jsx(xt,{type:"secondary",icon:"plus",className:_(ke.headerButtons,ke.addNewLeadButton),onClick:De,id:"add_new_lead",children:"Add New"},"add-new-lead-button-key")]},"renter-list-header-desktop-buttons")],Yt=({type:c,leadsIds:x=j,allSelected:B})=>{const U=g.filter($=>x.includes($.id)),[z]=U,W=x.length;switch(c){case"EDIT":ne(z),H(!0);break;case"INVITE":if(x.length>1){N({pathname:`${V}leads-bulk-invite`,search:`?redirectTo=${encodeURIComponent(t.pathname)}&status=INVITED&bulkInvite=true`},{state:{invitedLeads:U,totalLeads:v,allSelected:!r&&B&&v===W}});break}N({pathname:`${V}invite-renter`,search:`?status=INVITED&leadId=${z.id}&redirectTo=${encodeURIComponent(t.pathname)}`});break;case"ARCHIVE":b({leadIds:x,archived:!0,allSelected:!r&&B&&v===W}).then(()=>{Ke(),tt(U.length<=1?"Lead Archived":"Leads Archived")});break;case"INVITE_TO_SHOWING":U.length===1?(de(z),P(!0)):(o(U),L(!0));break;case"MARK_CONTACTED":m({leadIds:x,contacted:!0,allSelected:!r&&B&&v===W,filtersApplied:r}).then(Ke);break;case"UNARCHIVE":b({leadIds:x,archived:!1,allSelected:!r&&B,filtersApplied:r}).then(()=>{Ke(),tt(U.length<=1?"Lead Unarchived":"Leads Unarchived"),k&&(B||v===W)&&N(`${V}renters/leads`)});break;case"MESSAGE_LEADS":if(x.length>1){N(`${V}sendbulkmessage`,{state:{recipients:U,allSelected:!r&&B&&v===W}});break}N(`${V}lead-profile/${z.id}/tab_messages`);break;case"SEND_PRESCREENER":S({leadId:z.id}).then($=>{$.resendQuestionnaireRequest.lead&&tt("Pre-screener sent!")}),Q("send_prescreener clicked",{location:"Actions dropdown",properties:"Leads Table"});break;case"RESEND_PRESCREENER":S({leadId:z.id}).then($=>{$.resendQuestionnaireRequest.lead&&tt("Pre-screener sent!")});break;default:console.warn(`No such action - ${c} found`)}},et=u.useRef(!1),Qt=(c,x,B)=>{if(g.find($=>$.id===c)?.listing?.has_active_tenant_placement_service)return;const z=j.includes(c),W=z?j.filter($=>$!==c):[...j,c];q(W),z&&B&&(x.change("select_all",!1),et.current=!0)},Gt=c=>{if(et.current){et.current=!1;return}if(c){const x=g.filter(B=>!B.listing.has_active_tenant_placement_service).map(B=>B.id);q(x)}else q([])},pt=c=>{const x=`${encodeURIComponent(t.pathname)}${encodeURIComponent(t.search)}`;N(`${V}lead-profile/${c}?redirectTo=${x}`)},Be=c=>{if(c.length<=1)return!0;const x=c[0].listing.id;for(let B=1;B<c.length;B++)if(c[B].listing.id!==x)return!1;return!0},ht=async c=>{try{await we({variables:c}),H(!1),ne(null),ua("Lead updated successfully")}catch(x){console.error("Error updating lead:",x),sn("Failed to update lead")}},Xt=(c,x)=>{x.stopPropagation(),te(c),ct(!0)},zt=c=>{if(ct(!1),O&&!O.evaluation?.evaluation){const x=!!O.archived_at;c==="DEFINITE"?Re(!0):c==="POSITIVE"?xe(!0):c==="NEGATIVE"&&!x?Ae(!0):te(null)}else te(null)},y=c=>{const x=c||O;x&&(N({pathname:`${V}invite-renter`,search:`?status=INVITED&leadId=${x.id}&redirectTo=${encodeURIComponent(t.pathname)}`}),Bt(!0)),Re(!1),!c&&!$e&&xe(!0)},E=()=>{Re(!1)},Y=c=>{const x=c||O;x?(te(x),xe(!1),x.listing?.showing_availability?.showing_availability_slots?.length>0?_e(!0):me(!0)):(xe(!1),te(null))},F=()=>{_e(!1),me(!1),te(null)},ge=()=>{_e(!1),me(!0)},Pe=()=>{me(!1)},He=()=>{me(!1),O?.listing?.showing_availability?.showing_availability_slots?.length>0?_e(!0):te(null)},$t=async()=>{if(O)try{Ae(!1),await b({leadIds:[O.id],archived:!0}),te(null),tt("Lead Archived")}catch(c){console.error("Error archiving lead:",c),sn("Failed to archive lead")}};return e.jsxs(Xe,{loading:s||Ce,children:[!Te&&!Vt&&e.jsx(Vn,{segmentLocation:"Income Insights - Leads Index Banner"}),K.id&&e.jsxs(e.Fragment,{children:[e.jsx(en,{onClose:()=>{me(!1),K.listing?.showing_availability?.showing_availability_slots?.length>0&&P(!0)},open:Le,listing:K.listing,leadDataAndShowModal:K,setLeadDataAndShowModal:de}),e.jsx(jn,{onClickAddAvailability:()=>{P(!1),me(!0)},onClose:()=>P(!1),open:ve,lead:K,listing:K.listing})]}),l?.length&&e.jsxs(e.Fragment,{children:[e.jsx(en,{onClose:()=>{me(!1),L(!1),l.forEach(c=>{c.listing?.showing_availability?.showing_availability_slots?.length>0&&L(!0)})},open:Le,listing:l[0].listing,leadDataAndShowModal:l,setLeadDataAndShowModal:o}),e.jsx(Qn,{onClose:()=>L(!1),onClickAddAvailability:()=>{Be(l)?(L(!1),me(!0)):(L(!1),jt(`${V}showings/availability`))},open:T,selectedLeads:l})]}),!qe&&e.jsx(ln,{type:"leads",archived:k,showFilter:!Te&&!X,buttons:mt(),listings:d,onAddNewLead:De,onShowPreScreenerModal:Me,selectedLeads:j}),e.jsx(Xn,{show:Wt(),updateProfile:n,dismissBanner:p}),X&&!s&&e.jsx(pn,{title:"You don't have any active leads",description:"If you're not seeing a specific lead here, try looking under archived leads, or you can always add a new lead.",actions:[{label:"Add New lead",onClick:De},{label:"Check Archived Leads",onClick:()=>N(`${V}archived/leads`)}]}),qe&&e.jsxs("div",{className:_({[ke.transparentWhileLoading]:s}),children:[e.jsx(Gn,{onAddManually:()=>{Q("add_manually clicked",{location:"leads"}),R(!0)},onStartMarketing:()=>{Q("start_marketing clicked",{location:"leads"}),N(`${V}properties/`)}}),e.jsx("div",{className:ke.dummyAppContainerEmptyState,children:e.jsxs("div",{className:ke.dummyAppText,children:["Want to experience the rental application for yourself?"," ",e.jsx("a",{className:ke.link,onClick:()=>jt("/applications/demo?utm_source=leads_tab"),children:"Demo Application"})]})})]}),!Te&&!X&&e.jsx("div",{id:"renters-list",children:g.length<1?e.jsx(ot,{type:"leads",onResetFilters:Ot}):e.jsxs("div",{"data-qa":"leads-tab-leads-table-container",children:[e.jsx(Yn,{leads:g,totalLeads:v,onSelectLead:Qt,onSelectAll:Gt,selectedLeads:j,onAction:Yt,onViewLead:pt,actions:c=>Ut(c),onEvaluationClick:Xt,user:i}),e.jsx("div",{className:ke.paginationWrapper,children:v>ee&&e.jsx("div",{style:{flex:3},children:e.jsx(Pt,{pageCount:Ee,currentPage:Fe,onPageChange:Je})})})]})}),A&&e.jsx(As,{onClose:dt,...ze&&{selectedValue:lt}}),e.jsx(On,{open:f,onClose:Me,hideShareLink:!Ft,initialValues:{...ue},onCopyLinkClick:()=>{Q("copy_link clicked",{location:"Share the Pre-screener modal",properties:"from Leads"})},onSubmitButtonClick:()=>{Q("send_prescreener clicked",{location:"Share the Pre-screener modal",properties:"from Leads"})}}),Z&&M&&e.jsx(os,{open:Z,lead:M,listings:d,updateLead:ht,loading:Ce,onClose:()=>{H(!1),ne(null)}}),rt&&O&&e.jsx(ls,{open:rt,onClose:zt,leadId:O.id,renterFullName:`${O.first_name} ${O.last_name}`,listing:O.listing,data:O.evaluation}),e.jsx(rs,{open:qt,onClose:E,onInviteToApply:y,lead:O}),e.jsx(cs,{open:Dt&&!$e,onClose:()=>{xe(!1),te(null)},onInviteToApply:Y,lead:O}),e.jsx(ds,{open:Ht,onClose:()=>{Ae(!1),te(null)},onArchive:$t}),O&&e.jsxs(e.Fragment,{children:[e.jsx(en,{onClose:Pe,onDone:He,open:Le,listing:O.listing,leadDataAndShowModal:O,setLeadDataAndShowModal:te}),e.jsx(jn,{onClose:F,open:Mt,lead:O,listing:O.listing,onClickAddAvailability:ge})]})]})};zn.propTypes={updateLeadsBulk:a.func,dismissQuestionnaireBanner:a.func.isRequired,setArchiveLead:a.func.isRequired,loading:a.bool.isRequired,location:a.object.isRequired,updateProfile:a.func.isRequired,totalLeads:a.number.isRequired,filtered:a.bool.isRequired,archived:a.bool,leads:a.array.isRequired,listings:a.array.isRequired,user:a.object.isRequired,sendQuestionnaireLink:a.func.isRequired};const cn=t=>{const[s,{loading:i}]=Se(us),k=async H=>{const M=await s({variables:H,refetchQueries:[{query:At},{query:Zt,variables:Jt().variables},{query:Zt,variables:Jt(t.location.search,t.archived).variables}],awaitRefetchQueries:!0});return M&&M.data},[b,{loading:g}]=Se(ms),v=H=>b({variables:H}).then(M=>M&&M.data),[m,{loading:d}]=Se(Pa),r=({leads_questionnaire:H})=>m({variables:{leads_questionnaire:H}}).then(M=>M&&M.data),[n,{loading:p}]=Se(Tt),S=H=>n({variables:H}).then(M=>M&&M.data),[N,{loading:w}]=Se(Ia),h=()=>N({variables:{bannerName:"LEADS_QUESTIONNAIRE"},refetchQueries:[{query:At}],awaitRefetchQueries:!0}).then(H=>H&&H.data),{data:A,loading:R}=Ct(Zt,{fetchPolicy:"network-only",...Jt(t.location.search,t.archived)||{}}),j=ie(A,"userData.leads.data.edges",[]).map(H=>H.node),q=ie(A,"userData.leads.data.total")||0,f=G.parse(t.location.search),D=!!(f.prescreened==="true"||f.leadStatusFilter||f.search||f.propertyIdFilter||f.evaluationsFilter),Z={setArchiveLead:k,sendQuestionnaireLink:v,updateProfile:r,updateLeadsBulk:S,dismissQuestionnaireBanner:h,leads:j,totalLeads:q,filtered:D,loading:i||g||d||p||w||R};return e.jsx(zn,{...t,...Z})};cn.propTypes={location:a.shape({search:a.string}).isRequired,archived:a.bool};const go=({cancelButtonText:t="Cancel",confirmButtonText:s="Continue",open:i=!1,onClose:k=()=>{},onConfirm:b=()=>{}})=>e.jsxs(Ve,{size:"sm",isOpen:i,onClose:k,type:"informative",children:[e.jsx(Ve.Banner,{decorativeElement:"lines",type:"avatar",icon:"warning",decorativeElementColor:"green"}),e.jsxs(Ve.Content,{children:[e.jsx(dn,{children:"Finish setting up Autopilot to gain access to applicants"}),e.jsx(pe,{children:"To review applicants, we need both your lease details and a connected bank account to collect the security deposit."})]}),e.jsxs(Ve.Footer,{children:[e.jsx(Ve.SecondaryAction,{onClick:k,children:t}),e.jsx(Ve.PrimaryAction,{onClick:b,children:s})]})]}),ko="tZt30",fo="dnqHf",yo="gfnTi",bo="p-CyJ",So="kZu2f",No="IpDOp",xo="FThmW",Ao="-siHe",jo="_5-yif",To="KKZpR",Co="_7YnBN",ae={container:ko,clickable:fo,applicantDetails:yo,nameSection:bo,noAddress:So,address:No,detailsSection:xo,item:Ao,value:jo,coSignerTag:To,navigationIcon:Co},En=({member:t,listing:s,application:i,primaryMoveInDate:k,onClick:b})=>{const g=w=>w?e.jsx(St,{className:ae.coSignerTag,color:"lightGrey",size:"small",uppercase:!0,children:"Co-Signer"}):null,v=(w,h)=>e.jsxs("div",{className:ae.item,children:[e.jsx(pe,{weight:"semi",children:w}),e.jsx(pe,{className:ae.value,children:h})]}),m=w=>w?e.jsx("div",{className:ae.navigationIcon,children:e.jsx(J,{name:"chevron-arrow-right",size:"lg",color:"secondary"})}):null;if(t){const w=t.invitedCoApplicant;let h="";w?h=w.name??"Invited Co-applicant":t.application?.renter&&(h=`${t.application.renter.first_name} ${t.application.renter.last_name}`);const A=w?w.type==="CO_SIGNER":!t.application?.applying_as_tenant,R=!!b,j=k?kt(k,"MM/DD/YYYY"):"",q=t.application?.submitted_date?kt(t.application.submitted_date,"MM/DD/YYYY"):"N/A";return e.jsxs("div",{className:_(ae.container,{[ae.clickable]:R}),onClick:R?b:void 0,children:[e.jsxs("div",{className:ae.applicantDetails,children:[e.jsxs("div",{className:ae.nameSection,children:[e.jsx(kn,{children:h}),g(A)]}),e.jsxs("div",{className:ae.detailsSection,children:[v("Move-in date:",j),v("Submitted:",q),e.jsx(yn,{status:t.status})]})]}),m(R)]})}if(!i)return null;const d=`${i.renter.first_name} ${i.renter.last_name}`,r=!i.applying_as_tenant,n=s&&Bn({address:s.address,unit:s.unit,city:s.city,state:s.state,zip:s.zip,short:!0}),p=i.move_in_date?kt(i.move_in_date,"MM/DD/YYYY"):"",S=i.submitted_date,N=S?kt(S,"MM/DD/YYYY"):"";return e.jsxs("div",{className:_(ae.container,{[ae.clickable]:!!b}),onClick:b,children:[e.jsxs("div",{className:ae.applicantDetails,children:[e.jsxs("div",{className:_(ae.nameSection,{[ae.noAddress]:!n}),children:[e.jsx(kn,{children:d}),g(r)]}),n&&e.jsx(pe,{size:"small",className:ae.address,children:n}),e.jsxs("div",{className:ae.detailsSection,children:[!i.external&&v("Move-in date:",p),v("Submitted:",N),e.jsx(yn,{status:i.status})]})]}),m(!!b)]})},Eo="FRcbI",Po="_3NV69",Io="fjqI0",wo="DdYXz",Ro="s-JjK",Ue={applicantCard:Eo,groupedApplicants:Po,autopilotTag:Io,multipleApplicantsTitle:wo,recommendationAlert:Ro},_o=({application:t,members:s,listing:i,loading:k,onClick:b})=>{const g=d=>{d.application?b({application:d.application,applicant:d.application.renter}):d.invitedCoApplicant&&b({application:t,invitedCoApplicant:d.invitedCoApplicant})},v=()=>{b({application:t,applicant:t.renter})},m=()=>{if(s&&s.length>0){const r=[{id:t.id,status:t.status,application:t,invitedCoApplicant:void 0},...s];return e.jsxs(e.Fragment,{children:[i&&e.jsxs(_n,{className:Ue.multipleApplicantsTitle,children:["Co-applicants for ",Bn({...i,short:!0})]}),r.map((n,p)=>e.jsx(on,{className:_(Ue.applicantCard,Ue.groupedApplicants),children:e.jsx(En,{member:n,listing:i,primaryMoveInDate:t.move_in_date,onClick:()=>{g(n)}})},n.id||p))]})}return e.jsx(En,{application:t,listing:i,onClick:v})};return e.jsx(Xe,{loading:k,children:e.jsxs(on,{className:Ue.applicantCard,children:[i?.has_active_tenant_placement_service&&e.jsx(wa,{isTenantPlacement:!0,short:!0,className:Ue.autopilotTag}),m(),i?.has_active_tenant_placement_service&&e.jsx(Ra,{application:t,className:Ue.recommendationAlert,isFromApplicantProfile:!1})]})})},Lo="/assets/applicants-tab-empty-state-desktop-D_s3NMBe.webp",Fo="/assets/applicants-tab-empty-state-mobile-DkKmeZso.webp",qo="ytYEu",Do="gEs29",Mo="jpawr",Bo="WsIlp",Ho="_4mh0J",Vo="l6FdM",Oo="sCOfX",Wo="e9bFG",Uo="oGvQ8",Yo="R8cbv",Qo="fEBoy",Go="bIt2t",Xo="u12Qo",ce={container:qo,title:Do,bolded:Mo,text:Bo,payments:Ho,link:Vo,btn:Oo,video:Wo,videoIframe:Uo,imageWrapper:Yo,image:Qo,icon:Go,reviewFooter:Xo},Pn="https://vimeo.com/696720478?h=778c22550e",hn=({onButtonClick:t,linkTo:s})=>{const[i,k]=u.useState(!1),{OWNERS_URL:b}=he();return e.jsxs("div",{className:ce.container,children:[e.jsxs("h2",{className:ce.title,children:["Collect Rental Applications. ",e.jsx("span",{className:ce.bolded,children:"Free"})," ","for Landlords"]}),e.jsxs("p",{className:_(ce.text,ce.payments),children:["Invite renters to complete our online, industry-standard application. Weâ€™ll send you their responses and a screening report in one easy-to-read profile."," ",e.jsx("a",{onClick:()=>jt(`${b}applications/demo`),className:ce.link,children:"Demo the application from the renterâ€™s perspective."})]}),e.jsx(oe,{className:ce.btn,onClick:t,to:s,children:"Invite to apply"}),e.jsx(_a,{containerClassName:ce.video,videoUrl:Pn,imageOverlay:Lo,iframeClassName:ce.videoIframe,iconProps:{bgColor:"currentColor"}}),e.jsxs("div",{className:ce.imageWrapper,children:[e.jsx("img",{className:ce.image,src:Fo,alt:"Applicants tab example",onClick:()=>k(!0)}),e.jsx(La,{className:ce.icon,bgColor:"currentColor"})]}),i&&e.jsx(Fa,{onClose:()=>k(!1),url:Pn,open:i}),e.jsxs("div",{className:ce.reviewFooter,children:[e.jsx("p",{children:"See why more than 65,000 landlords use TurboTenant applications."}),e.jsx(qa,{})]})]})};hn.propTypes={onButtonClick:a.func,linkTo:a.string};hn.defaultProps={onButtonClick:()=>null};const zo="OGZ3Q",$o={card:zo},Jo=()=>{const{PRIVATE_BASE_PATH:t}=he();return e.jsxs(It,{className:$o.card,children:[e.jsx("h3",{children:"Customize your screening process"}),e.jsx("p",{children:"Add up to four custom questions to both your pre-screener and application and get all the info you need to find the right tenant."}),e.jsx(oe,{secondary:!0,small:!0,to:`${t}settings/application`,children:"Add Custom Questions"})]})},Zo="iymE9",Ko={card:Zo},el=()=>e.jsxs(It,{className:Ko.card,children:[e.jsx("h3",{children:"Want to experience the rental application for yourself?"}),e.jsx("p",{children:"We created a demo experience that allows you to walkthrough the rental application."}),e.jsx(oe,{secondary:!0,small:!0,onClick:()=>jt("/applications/demo?utm_source=renter_right_side_bar"),children:"Try it out"})]}),tl="lQXeu",nl="y9xIB",In={card:tl,link:nl},$n=({onAction:t})=>e.jsxs(It,{className:In.card,children:[e.jsx("h3",{children:"Want Instant Screening Reports?"}),e.jsxs("p",{children:["TransUnion, the credit bureau, requires more information from you in order to request a renterâ€™s screening report. If you fill it out now, youâ€™ll instantly receive a new applicantâ€™s credit and background report if you request one -"," ",e.jsx("a",{href:"https://support.turbotenant.com/en/articles/4004041-instant-screening-reports",target:"_blank",rel:"noopener noreferrer",className:In.link,children:"learn more"}),"."]}),e.jsx(oe,{secondary:!0,small:!0,onClick:t,children:"Get Instant Reports"})]});$n.propTypes={onAction:a.func};const al="_4X60y",sl="_2rj-G",wn={card:al,link:sl},Jn=({onAction:t})=>e.jsxs(It,{className:wn.card,children:[e.jsx("h3",{children:"Have you considered requiring renters insurance?"}),e.jsxs("p",{children:["Requiring your tenants to have renters insurance could save you thousands of dollars. Learn more about"," ",e.jsx("a",{href:"https://www.turbotenant.com/blog/renters-insurance-the-benefits-for-landlords/",target:"_blank",rel:"noopener noreferrer",className:wn.link,children:"why you should require renters insurance"})," ","at the TurboTenant blog."]}),e.jsx(oe,{secondary:!0,small:!0,onClick:t,children:"Require Insurance"})]});Jn.propTypes={onAction:a.func};const il="ETyOm",ol={sidebar:il},Zn=({user:{mailing_address:t,telephone:s,require_insurance:i,has_purchased_link_your_screening_app:k},onRequireInsurance:b,onGetInstantReport:g})=>{const v=Da(t||{});return e.jsxs("aside",{className:ol.sidebar,children:[e.jsx(el,{}),!k&&e.jsx(Jo,{}),!v||!s?e.jsx($n,{onGetInstantReport:g}):!i&&e.jsx(Jn,{onAction:b})]})};Zn.propTypes={user:a.shape({mailing_address:a.object,telephone:a.string,require_insurance:a.bool,has_purchased_link_your_screening_app:a.bool}).isRequired,onRequireInsurance:a.func.isRequired,onGetInstantReport:a.func};const ll="Rk3qy",rl="QaFi-",cl="yrOfO",dl="TDxav",ul="AaZ9p",st={renters:ll,rentersList:rl,inviteCard:cl,bottomNav:dl,perPage:ul},Rn=50,tn=[{value:10,label:"10"},{value:25,label:"25"},{value:50,label:"50"}];function Kn({onClick:t}){return e.jsxs(on,{className:st.inviteCard,onClick:t,children:[e.jsx(J,{name:"applicants",color:"#516a80",size:"xxl"}),e.jsx(pe,{color:"tertiary",weight:"semi",children:"INVITE RENTER TO APPLY"})]})}const ea=({loading:t,listings:s,user:i,onRequireInsurance:k,onGetInstantReport:b})=>{const{PRIVATE_BASE_PATH:g,USER_PROFILE_POLL_INTERVAL:v}=he(),m=Ne(),{applicationId:d}=ma(),r=Et(),{page:n,perPage:p,search:S,propertyIdFilter:N,showFinishAutopilotSetup:w}=G.parse(r.search,{arrayFormat:"comma"}),h=parseInt(n,10)||1,A=Math.min(parseInt(p,10)||10,Rn),[R,j]=u.useState(!1),[q,f]=u.useState(!1),[D,Z]=u.useState(!1),[H,M]=u.useState(w||!1),[ne,K]=u.useState(null),[de,ve]=u.useState({}),[P,l]=u.useState(null),[o,T]=u.useState(null),[L,ee]=u.useState(null),[V,X]=u.useState(null),Te=Ma(),Lt=Ts(),{handleTenantPlacementScoring:Ft,executeTenantPlacementAcceptance:ze,tpaLoading:lt}=Lt,{applicants:ue,totalApplicantRows:we,loading:Ce}=Ba({variables:{limit:A,offset:(h-1)*A,search:S,listings_id:N}},v),[rt,{loading:ct}]=Ha(Ps),{applicantId:O,rentalRequestId:te,applicationStatus:qt}=de,Re=!i?.mailing_address||!i?.mailing_address?.address||!i?.telephone,Dt=i?.properties_marketing_online||0,xe=i?.has_archived_applicants||!1,Mt=Dt>0,_e=s.length===1,$e=s?.[0]?.id||{},Bt=_e?{listingId:$e}:{},Le=Va(i.active_experiments),me=Oa(i,bn.DIY_APPLICANT_GROUPS.name,bn.DIY_APPLICANT_GROUPS.variants.control),Ht=s.some(y=>y.has_active_tenant_placement_service),Ae=(y,E,Y="")=>{if(!y||!E){console.error("ApplicantsTab.viewRenterAction.invalidParams",{applicantId:y,applicationId:E});return}const F=new URLSearchParams({rrId:E,filters:r.search});m(`${g}applicant-profile/${y}/${Y}?${F.toString()}`)},Vt=y=>{if(!y){console.error("ApplicantsTab.viewInvitedCoApplicantAction.invalidParams",{coApplicantId:y});return}const E=new URLSearchParams({filters:r.search});m(`${g}co-applicant-profile/${y}?${E.toString()}`)},[Je,{loading:Ee}]=Se(Wa,{onCompleted:()=>ee(null)}),Fe=()=>{if(T(null),!Re&&We.PULLING_REPORT===o)return Ae(O,te,"tab_screening_report")},Ze=u.useMemo(()=>Te&&!i.rentbutter_signature_accepted,[Te,i.rentbutter_signature_accepted]),qe=async(y,E,Y)=>{const F=d||y;ee(E),(Y===le.PRE_ACCEPTED||Y===le.READY_FOR_PULLING)&&T(We.PULLING_REPORT);try{Q("see_screening_report clicked",{location:"applicants_tab"});const He=(await Je({variables:{rentalRequestId:F},refetchQueries:F?[{query:Ga,variables:{id:F}},{query:At}]:[{query:At}],awaitRefetchQueries:!0}))?.data?.requestScreeningReport;He?.creditCheck.status===le.REQUESTED?T(We.REPORT_REQUESTED):He?.creditCheck.status===le.RECEIVED&&(T(null),Ae(E,F,"tab_screening_report"))}catch(ge){if(ge?.graphQLErrors?.[0]?.code===483)return T(We.GENERAL_ERROR);T(We.TRANSUNION_ERROR)}},dt=async(y,E,Y)=>{const F=d||y,ge=ue.find(Pe=>Pe.id===F);if(Xa(ge?.credit_check?.status)&&(Ze||Sn(ge))){j(!0);return}await qe(F,E,Y)},Ot=u.useCallback(async()=>{j(!1),await qe(te,O,qt)},[te,O,qe,i.rentbutter_signature_accepted]),De=(y,E)=>m({pathname:`${g}invite-renter`,search:"?status=INVITED",state:{invitedLead:E,redirectTo:r.pathname}},Q("invite_to_apply clicked",{location:"applicants_tab",...Le!==null&&{experiment:`LL Pays ${Le?"Test":"Control"}`}})),Ke=async(y,E)=>{try{X(E);const Y=await rt({variables:{listingId:y}});X(null);const F=Y.data.tenant_placement_checklist_status?.steps;return F?.preTPASign==="COMPLETED"&&F?.leaseSetup==="COMPLETED"&&F?.listingDetails==="COMPLETED"&&F?.linkBankAndPayment?.status==="COMPLETED"}catch{sn("Error checking tenant placement checklist status")}finally{X(null)}},Me=async(y,E)=>i.is_admin||i.is_manager_ops?!1:y.has_active_tenant_placement_service&&!await Ke(y.id,E)?(M(!0),!0):!1,Wt=(y,E,Y)=>{Ft({application:y,listing:Y,onShowQualificationModal:()=>{K({application:y,applicant:E,listing:Y}),f(!0)},onDirectAcceptance:()=>{ze(y.id,Y)},onDefaultNavigation:()=>{m(`${g}leases/moving-in/${E.id}/${Y.id}`),Q("moving_in clicked",{location:"applicants_tab_card"})}})},ut=async(y,E,Y,F=null)=>{if(!await Me(E,y.id))return F?Vt(F.id):Ae(Y.id,y.id)},Ut=(y,E)=>{const Y=y.renter,F=y.listing,ge=F?.has_active_tenant_placement_service;if(me==="variant_1"||ge)return e.jsx(_o,{application:y,members:y.group,listing:F,loading:V===y.id,onClick:({application:c,applicant:x,invitedCoApplicant:B})=>ut(c,F,x,B)},`applicant-${y.id}`);const Pe=(c,x,B)=>{const U=c?.credit_check?.status||le.NOT_REQUESTED;let z="SEE SCREENING REPORT",W=`request_${B}`,$=!1,je=[];switch(U){case le.READY_FOR_PULLING:z="SEE SCREENING REPORT",W=`request_${B}`,$=!c.completed_at;break;case le.NOT_REQUESTED:{z="REQUEST SCREENING REPORT",W=`request_${B}`,$=!c.completed_at;break}case le.REQUESTED:{z="WAITING ON APPLICANT FOR SCREENING REPORT",$=!0,W="";break}case le.DECLINED:{z="SCREENING REPORT REQUEST DENIED",$=!0,W="";break}case le.PRE_ACCEPTED:{z="SEE SCREENING REPORT",W=`request_${B}`,$=!c.completed_at;break}case le.NOT_RECEIVED:{z="PULLING APPLICANT'S SCREENING REPORTâ€¦",$=!0,W="";break}case le.RECEIVED:{z="SEE SCREENING REPORT",W="",je=[{label:"ACCEPT APPLICANT",action:()=>{Wt(c,x,F)}}];break}}return e.jsx(Ns,{renter:x,listing:F,application:c,loading:L===x.id&&Ee||ct,unreadCount:x.unread_messages_count,buttonAction:()=>ut(c,F,x),itemIndex:B,secondaryButtons:[{label:z,action:async()=>{if(!($||await Me(F,c.id)))if(ve({applicantId:x.id,rentalRequestId:c.id,applicationStatus:U}),U===le.RECEIVED)Ae(x.id,c.id,"tab_screening_report");else{if(F&&!F.has_valid_address&&U!==le.PRE_ACCEPTED)return l({id:c.id,status:U,listingId:F.id});Re&&!F?.has_active_tenant_placement_service?T(We.PULLING_REPORT):Ee||dt(c.id,x.id,U)}},disabled:$,id:W},...je],style:{marginBottom:16}},`applicant-key-${c.id}`)},He=Pe(y,Y,E),$t=(y.group||[]).filter(c=>c.application).map((c,x)=>Pe(c.application,c.application.renter,`${E}-${x}`));return e.jsxs("div",{children:[He,$t]},y.id)},mt=Math.ceil(we/A),Yt=u.useMemo(()=>{if(we===0)return tn;const y=[];for(const E of tn)if(y.push(E),E.value>=we)return y;return tn},[we]),et=y=>{const E=new URLSearchParams(r.search,{arrayFormat:"comma"});E.set("page",y),m(`${r.pathname}?${E.toString()}`,{replace:!0}),window.scrollTo({top:0,behavior:"smooth"})},Qt=y=>{const E=Math.min(Math.max(1,y),Rn),Y=new URLSearchParams(r.search,{arrayFormat:"comma"});Y.set("perPage",E),Y.set("page","1"),m(`${r.pathname}?${Y.toString()}`,{replace:!0})},Gt=ue?.some(y=>{const E=y?.credit_check?.status||"NOT_REQUESTED";return E!=="RECEIVED"&&E!=="NOT_RECEIVED"}),pt=!!S||!!N,Be=!Ce&&(!ue||ue.length===0)&&!xe&&!pt,ht=!Ce&&ue.length<1&&xe&&!pt,Xt=u.useMemo(()=>{const y=ue.find(E=>E.id===de.rentalRequestId);return Sn(y)},[ue,de.rentalRequestId]),zt=!Be&&Gt&&!Ht;return e.jsxs(e.Fragment,{children:[e.jsx(Lt.LeaseOccupiedModalComponent,{}),zt&&e.jsx(Vn,{segmentLocation:"Income Insights - Applicants Index Banner"}),ht&&e.jsxs(e.Fragment,{children:[e.jsx(ln,{type:"applicants",listings:s,showSearch:!1,showFilter:!1,onShowPreScreenerModal:()=>Z(!D)}),e.jsx(pn,{title:"You don't have any active applicants",description:"If you're not seeing a specific applicant here, try looking under archived applicants, or you can always invite a new renter to apply.",actions:[{label:"Invite to Apply",onClick:()=>{m(`${g}invite-renter/`)}},{label:"Check Archived Applicants",onClick:()=>m(`${g}archived/applicants`)}]})]}),Be&&e.jsx(hn,{onButtonClick:async()=>{De()}}),!Be&&!ht&&e.jsxs("div",{"data-qa":"applicants-tab-container",className:st.renters,children:[e.jsxs("div",{style:{flex:1},children:[e.jsx(ln,{type:"applicants",listings:s,showFilters:!!S||!!N,showFilter:!Be,onShowPreScreenerModal:()=>Z(!D)}),Ce||lt?e.jsx(Xe,{loading:!0,overlay:!1}):e.jsxs(e.Fragment,{children:[e.jsx("section",{className:st.rentersList,children:e.jsxs("div",{children:[ue.length<1?e.jsx(ot,{type:"applicants",containerStyles:{marginBottom:48},onResetFilters:wt}):ue.map((y,E)=>Ut(y,E)),e.jsx(Kn,{onClick:De})]})}),ue.length>0&&e.jsxs("div",{className:st.bottomNav,children:[mt>1&&e.jsx(js,{totalPages:mt,currentPage:h,onPageChange:et}),e.jsxs("div",{className:st.perPage,children:["Show"," ",e.jsx(Ua,{value:A,onChange:y=>{Qt(y.target.value)},options:Yt})," ","Results per page"]})]})]})]}),e.jsx(Zn,{user:i,onRequireInsurance:k,onGetInstantReport:b})]}),e.jsx(Ya,{open:!!o,modalCopy:o,rentalRequestId:te,loading:Ee,onClose:Fe,onRequestReport:()=>{dt(te,O)}}),P&&e.jsx(Es,{open:!0,listingId:P.listingId,onClose:()=>l(null),onSubmit:()=>{ve({...de,rentalRequestId:P.id}),l(null)}}),D&&e.jsx(On,{open:D,onClose:()=>Z(!1),hideShareLink:!Mt,initialValues:{...Bt},onCopyLinkClick:()=>{Q("copy_link clicked",{location:"Share the Pre-screener modal",properties:"from Leads"})},onSubmitButtonClick:()=>{Q("send_prescreener clicked",{location:"Share the Pre-screener modal",properties:"from Leads"})}}),e.jsx(Qa,{open:R,onConfirm:Ot,onClose:()=>j(!1),showFcra:Ze,showIcraa:Xt,rentalRequestId:de.rentalRequestId}),e.jsx(go,{open:!t&&!Ce&&H,onClose:()=>M(!1),onConfirm:()=>{M(!1),m(`${g}properties/manage/${$e}/tenant-placement`)}}),ne&&e.jsx(Cs,{isOpen:q,onClose:()=>{f(!1),K(null)},onContinue:()=>{ze(ne.application.id,ne.listing),f(!1),K(null)},recommendationCondition:ne.application?.recommendation_conditions})]})};Kn.propTypes={onClick:a.func};ea.propTypes={user:a.object.isRequired,loading:a.bool.isRequired,onRequireInsurance:a.func,onGetInstantReport:a.func,listings:a.array};const ml=`query archivedTenantsQuery(
  $offset: Int
  $limit: Int
  $listingId: String
  $searchFilter: String
) {
  userData {
    id
    archived_tenants(
      offset: $offset
      limit: $limit
      listingId: $listingId
      searchFilter: $searchFilter
    ) {
      dataHash
      data {
        list {
          id
          email
          telephone
          first_name
          last_name
          last_active
          invited_to_portal
          application {
            id
            applying_as_tenant
          }
          leases {
            id
            title
            listing {
              id
              address
              unit
            }
          }
          archived_leases {
            id
            title
            listing {
              id
              address
              unit
              zip_tz
            }
          }
        }
        totalRows
      }
    }
  }
}
`,pl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"archivedTenantsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listingId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchFilter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"archived_tenants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"listingId"},value:{kind:"Variable",name:{kind:"Name",value:"listingId"}}},{kind:"Argument",name:{kind:"Name",value:"searchFilter"},value:{kind:"Variable",name:{kind:"Name",value:"searchFilter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dataHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"list"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"telephone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_active"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"invited_to_portal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"application"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"applying_as_tenant"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"leases"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"archived_leases"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_tz"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalRows"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:957,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:ml}}},hl="l4c5X",vl="g4zNl",gl="cZ8fX",kl="Xq3Op",fl="CE1Bn",nt={modal:hl,icon:vl,title:gl,desc:kl,btn:fl},_t=({open:t,onClose:s})=>e.jsxs(it,{size:"extra-small",open:t,onRequestClose:s,className:nt.modal,children:[e.jsxs(it.Header,{children:[e.jsx(Mn,{className:nt.icon,width:80,height:80}),e.jsx(dn,{className:nt.title,children:"Your renter has been notified!"}),e.jsx(pe,{className:nt.desc,children:"We've sent your renter an email instructing them to either purchase Renters Insurance through TurboTenant or upload proof that they already have coverage."})]}),e.jsx(it.Footer,{children:e.jsx(oe,{onClick:s,className:nt.btn,children:"Done"})})]});_t.propTypes={open:a.bool,onClose:a.func.isRequired};const yl="p7Pwh",bl="jGne-",Sl="Rf7o8",Nl="ct7pD",xl="nEYqe",Al="deRG7",jl="WEzwd",Tl="LJyWW",Cl="v-z8D",El="bngup",Pl="O9TtA",Il="_39VA1",se={container:yl,contentHeader:bl,title:Sl,tabs:Nl,tabItem:xl,buttons:Al,mobile:jl,addBtn:Tl,filterBtn:Cl,desktop:El,toggleWithFiltersWrapperMobile:Pl,segmentedController:Il},ta=({location:t,listings:s,hideFilters:i=!1,totalTenants:k,activeOption:b})=>{const g=mn(Hn),{PRIVATE_BASE_PATH:v}=he(),[m,d]=u.useState(!1),r=Ne(),n=t.pathname.split("/").pop()==="tenants"?"active":t.pathname.split("/").pop(),p=u.useCallback(()=>{d(!m),r(t.pathname)},[t.pathname,m]),S=()=>{const h=`${n.charAt(0).toUpperCase()+n.slice(1)} Tenants (${k})`;return g?h.replace("Active ",""):h},N=h=>i?null:e.jsx(xt,{type:"secondary",className:_(se.filterBtn,{[se.mobile]:h,[se.desktop]:!h}),onClick:p,id:"show_filters_tenants",icon:"filter",children:`${m?"Hide":"Show"} Filters`},"show-filters-tenants-button-key"),w=h=>e.jsx(za,{className:_(se.segmentedController,{[se.mobile]:h,[se.desktop]:!h}),containerClassName:se.tabs,itemClassName:se.tabItem,onChange:A=>{let R;switch(A){case"past":R=`${v}renters/tenants/past`;break;case"archived":R=`${v}renters/tenants/archived`;break;case"active":R=`${v}renters/tenants`;break}r(R)},selectedValue:b,options:[{value:"active",label:"Active","data-qa":"active-tenants-button"},{value:"past",label:"Past","data-qa":"past-tenants-button"},{value:"archived",label:"Archived"}]});return e.jsxs("header",{className:se.container,children:[e.jsxs("div",{className:se.contentHeader,children:[e.jsx("span",{id:"tab-header-title",className:se.title,children:S()}),w(),e.jsxs("div",{className:se.buttons,children:[N(),e.jsx(Is,{onSubmit:({lease_id:h})=>{r(`${v}leases/view/${h}/summary`)},trackEventOnSubmit:"add_tenant clicked",trackEventOnSubmitParams:{location:"Tenants Index - Add Tenant Modal"},children:e.jsx(xt,{type:"secondary",icon:"plus",className:se.addBtn,id:"add_new_tenant",children:"Add New"},"applicant-add-new-button-key")})]})]}),e.jsxs("div",{className:se.toggleWithFiltersWrapperMobile,children:[w(!0),e.jsx("div",{className:_(se.buttons,se.mobile),children:N(!0)})]}),!i&&m&&e.jsx(xs,{listings:s,type:"tenants"})]})};ta.propTypes={location:a.object.isRequired,listings:a.array.isRequired,hideFilters:a.bool,totalTenants:a.number,activeOption:a.string.isRequired};const vn=Ln(Fn)(ta),wl="MHlnp",Rl="vr8Q6",_l="ray38",Ll="pWOPh",Fl="iWmyg",ql="zdOGs",Dl="OTJMf",Ml="qxYyl",Bl="V4HkO",Hl="eLem0",Vl="E-J0v",Ol="_6N2Z6",Wl="zxf9J",Ul="_8g5AR",Yl="_7crgV",Ql="inXdy",Gl="JVACY",Xl="kA0ll",zl="Jm6DB",$l="_7CVDT",Jl="_21rVW",Zl="bllIH",Kl="_3dKXk",er="iTXIW",tr="lD5d6",nr="Md06j",ar="dmgDP",sr="j340J",C={table:wl,mobileHidden:Rl,emailWrap:_l,desktop:Ll,mobile:Fl,firstColumn:ql,link:Dl,tenant:Ml,name:Bl,tenantPortalAccess:Hl,leases:Vl,coSignerTag:Ol,notInvitedTag:Wl,contact:Ul,phone:Yl,icon:Ql,messageWrap:Gl,lease:Xl,sendMessageHidden:zl,sendMessageButton:$l,msgWord:Jl,checkbox:Zl,selectAll:Kl,labelClassName:er,assistantTooltip:tr,disabledMessageButton:nr,iconIndicator:ar,rowHover:sr},na=({tenants:t,totalTenants:s,className:i,selectedTenantsInit:k=[],canSelectAllTenants:b=!1,showSelect:g=!0,showPastLeases:v=!1,showLeaseColumn:m=!0,segmentProperties:d={location:"Tenant Index Page"}})=>{const[r,n]=u.useState(!1),[p,S]=u.useState(k||[]),N=Ne(),{muaUser:w,user:h}=un(),{PRIVATE_BASE_PATH:A,IS_OWNER:R}=he(),j=w?.users_accounts?.find(l=>l.is_selected===!0)?.user_role===$a.ASSISTANT;u.useEffect(()=>{S(k)},[k]);const q=u.useMemo(()=>t.filter(l=>!((R||h?.is_manager_ops)&&l?.leases?.[0]?.is_autopilot)),[t,R,h?.is_manager_ops]),f=u.useMemo(()=>new Set(p),[p]),D=u.useMemo(()=>q.length>0&&q.every(l=>f.has(l.id)),[q,f]);u.useEffect(()=>{n(D)},[D]);const Z=l=>{l.stopPropagation();const{id:o}=l.currentTarget,T=p.includes(o);S(T?p.filter(L=>L!==o):[...p,o])},H=l=>{const{checked:o}=l.currentTarget;S(o?q.map(T=>T.id):[])},M=l=>{let o;if(v){if(!l.past_leases||!l.past_leases.length)return null;o=l.past_leases}else{if(!l.leases)return null;o=l.leases}return o.filter(L=>!(l.archived_leases||[]).map(X=>X.id).includes(L.id)).map(L=>e.jsx(pa,{className:_(C.lease,C.link),onClick:ee=>ee.stopPropagation(),to:`${A}leases/view/${L.id}`,children:L.title},L.id))},ne=l=>{Q("phone_icon clicked",d),l.stopPropagation()},K=l=>o=>{if(o.stopPropagation(),j)return;Q("message_icon clicked",d);const T=Za(l),L=Ka(`renter_${T}`,"user");N(`${A}messages/${L}?tab=individual`)},de=()=>{j||N(`${A}sendbulkmessage`,{state:{redirectTo:location.pathname,recipients:t.filter(l=>p.includes(l.id)),entity:"tenants",allSelected:b&&r}})},ve=e.jsxs(e.Fragment,{children:[e.jsxs(oe,{disabled:j,className:_(C.sendMessageButton,{[C.sendMessageHidden]:p.length<1,[C.disabledMessageButton]:j}),onClick:de,"data-tooltip-id":"bulk-message-tooltip",children:[e.jsx("span",{className:C.msgWord,children:"SendÂ "}),"Message"]}),j&&e.jsx(fe,{id:"bulk-message-tooltip",className:C.assistantTooltip,children:"Your role as an Assistant does not allow you to access Messages in this account."})]}),P=e.jsx(Nn,{label:r?`${q.length} Selected`:`Select all (${q.length})`,id:"select-all",name:"select-all",className:C.selectAll,labelClassName:C.labelClassName,input:{checked:r,onChange:H}});return e.jsx(ws,{headers:[g?P:"Tenant info","Contact Info",...m?["Lease"]:[],"Tenant Portal Access",ve],className:_(C.table,i),children:t.map((l,o)=>{const{id:T}=l,L=ie(l,"application",{})||{},ee=L&&L.applying_as_tenant===!1,V=(R||h?.is_manager_ops)&&l?.leases?.[0]?.is_autopilot;return e.jsxs("tr",{onClick:()=>{N(`${A}tenant-profile/${T}`,{state:{redirectTo:location.pathname}})},className:C.rowHover,children:[e.jsxs("td",{id:`view_tenant_${o}`,"data-qa":`view-tenant-${o}`,children:[V&&e.jsx("div",{className:C.iconIndicator,children:e.jsx(J,{name:"lightning-filled",color:"white",size:"sm"})}),e.jsxs("div",{className:C.firstColumn,children:[g&&e.jsx(Nn,{id:T,className:C.checkbox,fieldValue:T,name:"tenant-checkbox",disabled:V,input:{checked:p.includes(T),onClick:Z}}),e.jsxs("div",{className:C.tenant,children:[e.jsx("div",{className:C.name,children:e.jsxs("span",{children:[l.first_name," ",l.last_name]})}),m&&e.jsx("span",{className:_(C.leases,C.mobile),children:M(l)}),e.jsx("span",{className:C.tenantPortalAccess,children:Tn(l,l.leases?.[0]?.listing?.zip_tz||l.past_leases?.[0]?.listing?.zip_tz||l.archived_leases?.[0]?.listing?.zip_tz,e.jsx(St,{color:"yellow",className:C.notInvitedTag,children:"Not Invited"}))})]}),ee&&e.jsx(St,{small:!0,className:C.coSignerTag,children:"Co-signer"})]})]}),e.jsx("td",{className:C.mobileHidden,children:e.jsxs("div",{className:_(C.contact,C.desktop),children:[l.email&&e.jsx("a",{className:_(C.link),href:`mailto:${l.email}`,onClick:X=>X.stopPropagation(),children:l.email}),l.telephone&&e.jsx("span",{className:C.phone,children:Ja(l.telephone)})]})}),e.jsxs("td",{className:C.emailWrap,children:[m&&e.jsx("div",{className:_(C.leases,C.desktop),children:M(l)}),e.jsxs("div",{className:_(C.contact,C.mobile),children:[e.jsx(Kt,{icon:"messages",onClick:K(T),disabled:j,className:_(C.icon,{[C.disabledMessageButton]:j}),"data-tooltip-id":`mobile-message-tooltip-${T}`}),j&&e.jsx(fe,{id:`mobile-message-tooltip-${T}`,className:C.assistantTooltip,children:"Your role as an Assistant does not allow you to access Messages in this account."}),l.telephone&&e.jsx(Kt,{icon:"phone",onClick:ne,href:`tel:${l.telephone}`,className:_(C.icon)})]})]}),e.jsx("td",{className:_(C.mobileHidden,C.tenantPortalAccess),children:Tn(l,l.leases?.[0]?.listing?.zip_tz||l.past_leases?.[0]?.listing?.zip_tz||l.archived_leases?.[0]?.listing?.zip_tz,e.jsx(St,{color:"yellow",className:C.notInvitedTag,children:"Not Invited"}))}),e.jsx("td",{className:_(C.mobileHidden,C.messageWrap),children:!V&&e.jsxs(e.Fragment,{children:[e.jsx(Kt,{icon:"messages",onClick:K(T),disabled:j,className:_(C.icon,{[C.disabledMessageButton]:j}),"data-tooltip-id":`desktop-message-tooltip-${T}`}),j&&e.jsx(fe,{id:`desktop-message-tooltip-${T}`,className:C.assistantTooltip,children:"Your role as an Assistant does not allow you to access Messages in this account."})]})})]},T)})})};na.propTypes={tenants:a.array.isRequired,totalTenants:a.number,className:a.string,selectedTenantsInit:a.array,canSelectAllTenants:a.bool,showSelect:a.bool,showPastLeases:a.bool,showLeaseColumn:a.bool,segmentProperties:a.object};const gn=Ln(Fn)(na),ir="data:image/webp;base64,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",or="data:image/webp;base64,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",lr="_0aIQM",rr="pmVnD",cr="e9mXO",dr="FNUt-",ur="PC0Nu",Ye={container:lr,title:rr,text:cr,image:dr,imageDesktop:ur},mr=()=>e.jsxs("div",{className:Ye.container,children:[e.jsx("h2",{className:Ye.title,children:"Keep record of tenants that are not on a lease."}),e.jsx("p",{className:Ye.text,children:"You can archive tenants yourself at any time. This removes them from all leases they are associated with. You can access their information here."}),e.jsx("img",{className:Ye.image,src:or,alt:"Archived tenants table preview"}),e.jsx("img",{className:_(Ye.image,Ye.imageDesktop),src:ir,alt:"Archived tenants table preview"})]}),pr="RTrfU",hr="G5N-n",vr="_0Y8rc",nn={paginationWrapper:pr,container:hr,content:vr},aa=({listings:t})=>{const[s,i]=u.useState(!1),[k,b]=u.useState([]),{TABLE_VIEW_PAGE_SIZE:g}=he(),v=Ne(),m=Et(),d=Number(G.parse(m.search).page)||0,r=G.parse(m.search).propertyIdFilter||"",n=G.parse(m.search).search||"",{data:p,loading:S,error:N}=Ct(pl,{forceFetch:!0,fetchPolicy:"network-only",variables:{offset:d*g,limit:g,listingId:r,searchFilter:n}});u.useEffect(()=>{b([])},[n,d,r]);const w=ie(p,"userData.archived_tenants.data.list",[])||[],h=ie(p,"userData.archived_tenants.data.totalRows",0)||0,A=()=>Math.ceil(h/g),R=f=>{const D=G.parse(m.search)||{};D.page=f,v({pathname:m.pathname,search:`?${G.stringify(D)}`}),document.activeElement.blur(),window.scrollTo(0,0)},j=h===0;if(N)return e.jsx(Rt,{reason:N,source:"owner-archived-tenants"});const q=()=>j?e.jsx(mr,{}):w.length<1?e.jsx(ot,{type:"tenants",containerStyles:{marginBottom:48},onResetFilters:wt}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{tenants:w,selectedTenantsInit:k,canSelectAllTenants:!1,showSelect:!1,showLeaseColumn:!1}),h>g&&e.jsx("div",{className:nn.paginationWrapper,children:e.jsx(Pt,{pageCount:A(),currentPage:d,onPageChange:R})})]});return e.jsxs(Xe,{loading:S,children:[e.jsxs("div",{className:nn.container,children:[e.jsx(vn,{listings:t,hideFilters:!0,totalTenants:h,activeOption:"archived"}),e.jsx("div",{className:nn.content,children:q()})]}),e.jsx(_t,{open:s,onClose:()=>i(!1)})]})};aa.propTypes={listings:a.array.isRequired};const gr=`query pastTenantsQuery(
  $offset: Int
  $limit: Int
  $listingId: String
  $searchFilter: String
) {
  userData {
    id
    past_tenants(
      offset: $offset
      limit: $limit
      listingId: $listingId
      searchFilter: $searchFilter
    ) {
      dataHash
      data {
        list {
          id
          email
          telephone
          first_name
          last_name
          application {
            id
            applying_as_tenant
          }
          leases {
            id
            title
            listing {
              id
              address
              unit
              zip_tz
            }
          }
          past_leases {
            id
            title
            listing {
              id
              address
              unit
              zip_tz
            }
          }
          last_active
          invited_to_portal
        }
        totalRows
      }
    }
  }
}
`,kr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pastTenantsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listingId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchFilter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"past_tenants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"listingId"},value:{kind:"Variable",name:{kind:"Name",value:"listingId"}}},{kind:"Argument",name:{kind:"Name",value:"searchFilter"},value:{kind:"Variable",name:{kind:"Name",value:"searchFilter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dataHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"list"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"telephone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"application"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"applying_as_tenant"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"leases"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_tz"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"past_leases"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_tz"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"last_active"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"invited_to_portal"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalRows"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:966,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:gr}}},fr="data:image/webp;base64,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",yr="data:image/webp;base64,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",br="c0uyu",Sr="_0RJjQ",Nr="_3zCL1",xr="Ka-BH",Ar="tA7mD",Qe={container:br,title:Sr,text:Nr,image:xr,imageDesktop:Ar},jr=()=>e.jsxs("div",{className:Qe.container,children:[e.jsx("h2",{className:Qe.title,children:"Keep record of tenants that moved out."}),e.jsx("p",{className:Qe.text,children:"When a lease ends, tenants will automatically convert to Past Tenants and appear on this page. You can also manually convert them to Past Tenants at any time in the lease."}),e.jsx("img",{className:Qe.image,src:yr,alt:"Past tenants table preview"}),e.jsx("img",{className:_(Qe.image,Qe.imageDesktop),src:fr,alt:"Past tenants table preview"})]}),Tr="_-3RF0",Cr="VT6p0",Er="R6Lj0",an={paginationWrapper:Tr,container:Cr,content:Er},sa=({listings:t})=>{const[s,i]=u.useState(!1),[k,b]=u.useState([]),{TABLE_VIEW_PAGE_SIZE:g}=he(),v=Ne(),m=Et(),d=Number(G.parse(m.search).page)||0,r=G.parse(m.search).propertyIdFilter||"",n=G.parse(m.search).search||"",{data:p,loading:S,error:N}=Ct(kr,{forceFetch:!0,fetchPolicy:"network-only",variables:{offset:d*g,limit:g,listingId:r,searchFilter:n}});u.useEffect(()=>{b([])},[n,d,r]);const w=ie(p,"userData.past_tenants.data.list",[])||[],h=ie(p,"userData.past_tenants.data.totalRows",0)||0,A=()=>Math.ceil(h/g),R=f=>{const D=G.parse(m.search)||{};D.page=f,v({pathname:m.pathname,search:`?${G.stringify(D)}`}),document.activeElement.blur(),window.scrollTo(0,0)},j=h===0;if(N)return e.jsx(Rt,{reason:N,source:"owner-past-tenants"});const q=()=>j&&!r?e.jsx(jr,{}):w.length<1?e.jsx(ot,{type:"tenants",containerStyles:{marginBottom:48},onResetFilters:wt}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{tenants:w,selectedTenantsInit:k,canSelectAllTenants:!1,totalTenants:h,showPastLeases:!0}),h>g&&e.jsx("div",{className:an.paginationWrapper,children:e.jsx(Pt,{pageCount:A(),currentPage:d,onPageChange:R})})]});return e.jsxs(Xe,{loading:S,children:[e.jsxs("div",{className:an.container,children:[e.jsx(vn,{listings:t,hideFilters:j&&!r,totalTenants:h,activeOption:"past"}),e.jsx("div",{className:an.content,children:q()})]}),e.jsx(_t,{open:s,onClose:()=>i(!1)})]})};sa.propTypes={listings:a.array.isRequired};const Pr=`query activeTenantsQuery(
  $offset: Int
  $limit: Int
  $listingId: String
  $searchFilter: String
  $listingFilter: [String]
) {
  userData {
    id
    active_tenants(
      offset: $offset
      limit: $limit
      listingId: $listingId
      searchFilter: $searchFilter
      listingFilter: $listingFilter
    ) {
      dataHash
      data {
        list {
          id
          email
          telephone
          first_name
          last_name
          application {
            id
            applying_as_tenant
          }
          leases {
            id
            title
            listing {
              id
              address
              unit
              zip_tz
              has_active_property_management_service
            }
          }
          archived_leases {
            id
          }
          last_active
          invited_to_portal
          re_invited_to_portal
          invited_at
        }
        totalRows
      }
    }
  }
}
`,Ir={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"activeTenantsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listingId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchFilter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listingFilter"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active_tenants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"listingId"},value:{kind:"Variable",name:{kind:"Name",value:"listingId"}}},{kind:"Argument",name:{kind:"Name",value:"searchFilter"},value:{kind:"Variable",name:{kind:"Name",value:"searchFilter"}}},{kind:"Argument",name:{kind:"Name",value:"listingFilter"},value:{kind:"Variable",name:{kind:"Name",value:"listingFilter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dataHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"list"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"telephone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"application"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"applying_as_tenant"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"leases"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zip_tz"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_active_property_management_service"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"archived_leases"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"last_active"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"invited_to_portal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"re_invited_to_portal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"invited_at"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalRows"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1009,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Pr}}},wr="ec-dT",Rr="A-j1G",_r="iu8Iw",Lr="OUUo4",Fr="MQ6P0",at={container:wr,title:Rr,subTitle:_r,graphic:Lr,link:Fr},ia=({className:t})=>e.jsxs("div",{className:_(at.container,t),children:[e.jsx("h2",{className:at.title,children:"Set Up Their Tenant Portal"}),e.jsxs("p",{className:at.subTitle,children:["Add your renters to TurboTenant so they have a one-stop-shop to pay you rent online, sign your important documents, and even request maintenance."," ",e.jsx("a",{className:at.link,href:"https://support.turbotenant.com/en/articles/4664501-the-tenant-portal",target:"_blank",rel:"noopener noreferrer",children:"Learn more about the Tenant Portal."})]}),e.jsx("div",{className:at.graphic})]});ia.propTypes={className:a.string};const qr="mG89s",Dr="jNXMb",Mr="RvzYQ",Br="C4bJW",bt={renters:qr,rentersList:Dr,emptyState:Mr,paginationWrapper:Br},oa=({listings:t,user:s})=>{const[i,k]=u.useState(!1),[b,g]=u.useState([]),{TABLE_VIEW_PAGE_SIZE:v,PRIVATE_BASE_PATH:m}=he(),d=Ne(),r=Et(),n=Number(G.parse(r.search).page)||0,p=G.parse(r.search).propertyIdFilter||"",S=G.parse(r.search).search||"",N=(G.parse(r.search).propertyIdFilter||"").split(",").filter(M=>!!M),{data:w,loading:h,error:A}=Ct(Ir,{forceFetch:!0,fetchPolicy:"network-only",variables:{offset:n*v,limit:v,searchFilter:S,listingFilter:N}});u.useEffect(()=>{g([])},[S,n,p]);const R=ie(w,"userData.active_tenants.data.list",[])||[],j=ie(w,"userData.active_tenants.data.totalRows",0)||0,q=()=>Math.ceil(j/v),f=M=>{const ne=G.parse(r.search)||{};ne.page=M,d({pathname:r.pathname,search:`?${G.stringify(ne)}`}),document.activeElement.blur(),window.scrollTo(0,0)},D=s&&s.tenants_count<1&&(s.has_archived_tenants>0||s.has_past_tenants>0),Z=s&&s.tenants_count<1&&!D,H=()=>D?e.jsx(pn,{title:"You don't have any active tenants",description:"If youâ€™re not seeing a specific tenant here, try looking under past and archived tenants, or you can always add a new tenant.",actions:[{label:"Add New Tenant",onClick:()=>{d(`${m}create-tenant`)}},{label:"Check Past Tenants",onClick:()=>d(`${m}renters/tenants/past`)}]}):Z?e.jsx(ia,{className:bt.emptyState}):R.length<1?e.jsx(ot,{type:"tenants",containerStyles:{marginBottom:48},onResetFilters:wt}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{tenants:R,totalTenants:j,selectedTenantsInit:b,canSelectAllTenants:j===s.tenants_count}),j>v&&e.jsx("div",{className:bt.paginationWrapper,children:e.jsx(Pt,{pageCount:q(),currentPage:n,onPageChange:f})})]});return A?e.jsx(Rt,{reason:A,source:"owner-tenants-tab"}):e.jsxs(Xe,{loading:h,children:[e.jsx("div",{className:bt.renters,children:e.jsxs("div",{className:bt.rentersList,children:[e.jsx(vn,{listings:t,hideFilters:Z,totalTenants:s.tenants_count||0,pastTenants:s.has_archived_tenants||0,activeOption:"active"}),e.jsx("section",{children:H()})]})}),e.jsx(_t,{open:i,onClose:()=>k(!1)})]})};oa.propTypes={listings:a.array.isRequired,user:a.object.isRequired};const Hr="ELFdn",Vr={link:Hr},la=({user:t,loading:s,listings:i,addTenant:k,failedNetworkRequest:b})=>{const g=ha(),v=Ne(),m=mn(Hn),{PRIVATE_BASE_PATH:d}=he(),r=va(g.pathname,{path:`${d}renters/:renterType`}),n=ie(r,"params.renterType",""),p=m?56:72,[S,N]=u.useState({invitedLead:null,showInviteModal:!1,openRequireInsuranceModal:!1,showOnlyRequireReportModal:!1}),w=()=>{const{listings_count:f,applicants_count:D,tenants_count:Z,has_archived_applicants:H,has_archived_tenants:M}=t;return!f&&!Z&&!D&&!M&&!H},h=()=>{v(`${d}properties/create`,{replace:!0})},A=f=>{switch(f){case 0:Q("require_insurance clicked",{location:"Leads"});break;case 1:Q("require_insurance clicked",{location:"Applicants"});break;case 2:Q("require_insurance clicked",{location:"Tenants"});break}return N(D=>({...D,openRequireInsuranceModal:!0}))},R=f=>{switch(f){case 0:Q("get_instant_reports clicked",{location:"Leads"});break;case 1:Q("get_instant_reports clicked",{location:"Applicants"});break;case 2:Q("get_instant_reports clicked",{location:"Tenants"});break}v(`${d}instantscreening`)},j=()=>{switch(n){case"leads":return{smallScreenImg:Fs,desktopImage:_s,title:"Track Your Leads with Ease",description:"When marketing your rental with TurboTenant, we automatically display the renters who are interested. Start marketing your rental by adding your property, and we'll share it with listing sites across the web.",actionLabel:"Market My Rental",onAction:h};case"applicants":return{smallScreenImg:Ls,desktopImage:Rs,title:"Invite a Renter to Apply!",description:e.jsxs("span",{children:["Get all the industry standard information you need to decide if they will be a trustworthy tenant. To send the renter an application, start by adding a rental property.Â ",e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.turbotenant.com/en/articles/4004061-what-does-the-online-rental-application-look-likee",className:Vr.link,children:"Wondering what questions are on our application?"})]}),actionLabel:"Invite to Apply",onAction:h};case"tenants":return{smallScreenImg:qs,desktopImage:Ds,title:"Find Your Next Tenant!",description:"Whether you want to market your rental across the web or invite an interested renter to apply, you first need to add a property. After that, it's easy to stay organized as renters go from lead to applicant to tenant.",actionLabel:"Find My Next Tenant",onAction:h};default:return{}}},q=()=>{switch(n){case"leads":return"My Leads - TurboTenant";case"applicants":return"My Applicants - TurboTenant";case"tenants":return"My Tenants - TurboTenant";default:return null}};return b?e.jsx(Rt,{style:{marginTop:p},reason:b,source:"owner-renters-list"}):w()&&!s?t.id&&!t.onboarding_completed?e.jsx(es,{to:"/onboarding/process"}):e.jsxs("div",{style:{marginTop:p},children:[e.jsx(Ie,{title:q(),children:e.jsx(as,{...j()})}),n!=="leads"&&e.jsx(Wn,{onScreenTenant:h})]}):e.jsxs("div",{style:{marginTop:p},children:[e.jsxs(ga,{children:[e.jsx(Oe,{exact:!0,path:`${d}renters/leads`,render:f=>e.jsx(Ie,{title:"My Leads - TurboTenant",children:e.jsx(cn,{...f,user:t,loading:s,listings:i})})}),e.jsx(Oe,{exact:!0,path:`${d}archived/leads`,render:f=>e.jsx(Ie,{title:"My Archived Leads - TurboTenant",children:e.jsx(cn,{...f,user:t,archived:!0,loading:s,listings:i})})}),e.jsx(Oe,{exact:!0,path:`${d}renters/applicants`,render:f=>e.jsx(Ie,{title:"My Applicants - TurboTenant",children:e.jsx(ea,{...f,user:t,loading:s,listings:i,onRequireInsurance:()=>A(1),onGetInstantReport:()=>R(1)})})}),e.jsx(Oe,{exact:!0,path:`${d}renters/tenants`,render:f=>e.jsx(Ie,{title:"My Tenants - TurboTenant",children:e.jsx(oa,{...f,user:t,loading:s,listings:i,addTenant:k})})}),e.jsx(Oe,{exact:!0,path:`${d}renters/tenants/archived`,render:f=>e.jsx(Ie,{title:"My Archived Tenants - TurboTenant",children:e.jsx(aa,{...f,user:t})})}),e.jsx(Oe,{exact:!0,path:`${d}renters/tenants/past`,render:f=>e.jsx(Ie,{title:"My Past Tenants - TurboTenant",children:e.jsx(sa,{...f,user:t,listings:i})})})]}),e.jsx(is,{open:S.openRequireInsuranceModal,onClose:()=>{Q("not_right_now clicked",{location:"RI Modal"}),N(f=>({...f,openRequireInsuranceModal:!1}))}})]})};la.propTypes={addTenant:a.func,features:a.array,loading:a.bool,listings:a.array,user:a.object,failedNetworkRequest:a.bool};const _c=t=>{const[s,{loading:i}]=Se(ns),k=(d,r,n)=>s({variables:{listingId:d,tenant:r,lease:n}}).then(p=>p&&p.data),{user:b,loading:g}=un(),{listings:v,loading:m}=ts({variables:{mode:"ROOTS_ONLY",sort:"ALPHABETICAL"}});return e.jsx(la,{loading:g||m,loadingMutation:i,...t,addTenant:k,user:b,listings:v})};export{_c as default};
//# sourceMappingURL=RentersListContainer-LLSMDbLl.js.map
