const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DEryBBf5.js","assets/TownhouseColor--VjQBVqd.js","assets/TownhouseColor-WrJ8iT_z.css","assets/main-dumNSXg9.js","assets/main-W79NOdIC.css","assets/index-56dI0Kdm.js","assets/AddNewLeadModal-Crz9YkrQ.js","assets/detailed_lead.fragment-DkOpsOoq.js","assets/AddNewLeadModal-PxNG5SRX.css","assets/Tenants-YQpcizTs.js","assets/useChatArchive-Cd6Myl8B.js","assets/Block-Bmvgl2yE.js","assets/isLoggedInRenter-DW316R4Q.js","assets/BackArrow-DmJUErXj.js","assets/MessagesLoadingAnimation-Clib0gcD.js","assets/messagesLoading.animation-CJfAGeUN.js","assets/index-Bsvl63Hc.css"])))=>i.map(i=>d[i]);
import{ca as C,t as E,cb as A,F as I,cc as y,a$ as M,ai as u,b2 as U}from"./main-dumNSXg9.js";import{j as e,p as N,r as t,L as r,k as P,a3 as w,ab as L,a9 as S}from"./TownhouseColor--VjQBVqd.js";import{u as T}from"./index-BlG6RgPG.js";const W="-l9ud",k="_7NOPV",R="WOvJW",b="j6I1U",s={container:W,assistantsWrapper:k,icon:R,title:b},O=t.lazy(()=>u(()=>import("./index-DEryBBf5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])).then(a=>({default:a.CometChatUI}))),d=56,V=U.smallScreenWidth,G=()=>{const{features:a,loading:g,muaUser:h}=E(),{loading:m}=A(),n=a?.includes(I.MESSAGING_V2),i=N(),[p,c]=t.useState(null),x=y(h),f=M(),l=T(),j=l?l-d:`calc(100vh - ${d}px)`;return t.useEffect(()=>{(async()=>{if(n)try{const{CometChat:o}=await u(async()=>{const{CometChat:_}=await import("./TownhouseColor--VjQBVqd.js").then(v=>v.C);return{CometChat:_}},__vite__mapDeps([1,2]));await o.getLoggedinUser()?c(!0):i("/owners/messages-loading")}catch(o){console.error("CometChat check failed, redirecting to loading:",o),i("/owners/messages-loading")}else c(!0)})()},[n,i]),g||m?e.jsx(r,{loading:!0}):p===null?e.jsx(r,{loading:!0}):x?e.jsxs("div",{className:P(s.container,s.assistantsWrapper),children:[e.jsx(w,{name:"lock",size:"xl",className:s.icon}),e.jsx(L,{className:s.title,children:"Messages is locked."}),e.jsx(S,{size:"medium",children:"Your role as an Assistant does not allow you to access Messages in this account."})]}):n?e.jsx("div",{className:s.container,style:{height:f<=V?j:"100vh"},children:e.jsx(t.Suspense,{fallback:e.jsx(r,{loading:!0}),children:e.jsx(O,{})})}):e.jsx("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{children:["The new messaging feature is currently unavailable during the development phase due to limitations on Cometchat.",e.jsx("br",{}),"For development/testing, please enable MESSAGING_V2 feature flag."]})})},$=()=>e.jsx(C,{children:e.jsx(G,{})});export{$ as default};
//# sourceMappingURL=index-NYBpVIFp.js.map
