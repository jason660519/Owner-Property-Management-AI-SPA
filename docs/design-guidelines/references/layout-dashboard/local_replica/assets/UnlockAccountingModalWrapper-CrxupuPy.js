import{b2 as w,j as t,ab as ie,d as C,a9 as x,B as j,s as T,P as k,k as te,al as ae,aB as se,t as re,p as le,o as oe,r as b}from"./TownhouseColor--VjQBVqd.js";import{t as P,fy as ce,x as E,E as p,aP as F,b9 as O,dE as U,dF as $,fz as q,fA as de,co as ue,cs as _,a7 as me,fB as fe,fC as ge,aa as V}from"./main-dumNSXg9.js";const pe=`#import './plain_listing.fragment.graphql'

fragment ParentListingFragment on Listing {
  parent_listing {
    id
    nickname
    unit
    property_role
    address
    parent_listing {
      id
      nickname
      unit
      property_role
      address
    }
  }
}
`,y={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ParentListingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Listing"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"parent_listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nickname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"property_role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent_listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nickname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"property_role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:306,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:pe}}},ke=s=>{const o={};return s.filter(function(a){if(a.kind!=="FragmentDefinition")return!0;const c=a.name.value;return o[c]?!1:(o[c]=!0,!0)})};y.definitions=ke(y.definitions.concat(w.definitions));const ve=(s,o)=>{const a=(e,n)=>{if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){const i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}return e&&"selectionSet"in e&&e.selectionSet&&e.selectionSet.selections.forEach(i=>{a(i,n)}),e&&"variableDefinitions"in e&&e.variableDefinitions&&e.variableDefinitions.forEach(i=>{a(i,n)}),e&&"definitions"in e&&e.definitions&&e.definitions.forEach(i=>{a(i,n)}),n},c=e=>{const n={};return e.definitions.forEach(function(i){"name"in i&&i.name&&(n[i.name.value]=a(i,new Set))}),n},r=(e,n)=>{for(let i=0;i<e.definitions.length;i++){const d=e.definitions[i];if(d&&"name"in d&&d.name&&d.name.value==n)return d}},f=c(s),g=Object.assign({},s,{definitions:[r(s,o)]}),v=f[o]||new Set,u=new Set;let l=new Set;for(v.forEach(e=>{l.add(e)});l.size>0;){const e=l;l=new Set,e.forEach(n=>{u.has(n)||(u.add(n),(f[n]||new Set).forEach(d=>{l.add(d)}))})}return u.forEach(e=>{const n=r(s,e);n&&g.definitions.push(n)}),g};ve(y,"ParentListingFragment");const he=`#import '../../../fragments/plain_listing.fragment.graphql'
#import '../../../fragments/parent_listing.fragment.graphql'

query getExpensesList(
  $limit: Int
  $offset: Int
  $listingFilter: [String]
  $categoryFilter: [ExpenseCategoryGqlEnum]
  $dateFilter: ExpenseDateFilter
  $customStartDate: Date
  $customEndDate: Date
) {
  userData {
    id
    expensesPaginated(
      first: $limit
      offset: $offset
      listingFilter: $listingFilter
      categoryFilter: $categoryFilter
      dateFilter: $dateFilter
      customStartDate: $customStartDate
      customEndDate: $customEndDate
    ) {
      data {
        total
        metadata {
          totalAmount
        }
        edges {
          node {
            id
            listing {
              ...PlainListingFragment
              ...ParentListingFragment
              root_listing {
                ...PlainListingFragment
              }
            }
            date_paid
            amount_paid
            category
            description
            notes
            documents {
              id
              name
              title
              url
              created_at
            }
          }
        }
      }
    }
  }
}
`,S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getExpensesList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listingFilter"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"categoryFilter"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"ExpenseCategoryGqlEnum"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dateFilter"}},type:{kind:"NamedType",name:{kind:"Name",value:"ExpenseDateFilter"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"customStartDate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Date"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"customEndDate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Date"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expensesPaginated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"listingFilter"},value:{kind:"Variable",name:{kind:"Name",value:"listingFilter"}}},{kind:"Argument",name:{kind:"Name",value:"categoryFilter"},value:{kind:"Variable",name:{kind:"Name",value:"categoryFilter"}}},{kind:"Argument",name:{kind:"Name",value:"dateFilter"},value:{kind:"Variable",name:{kind:"Name",value:"dateFilter"}}},{kind:"Argument",name:{kind:"Name",value:"customStartDate"},value:{kind:"Variable",name:{kind:"Name",value:"customStartDate"}}},{kind:"Argument",name:{kind:"Name",value:"customEndDate"},value:{kind:"Variable",name:{kind:"Name",value:"customEndDate"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metadata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalAmount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlainListingFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ParentListingFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"root_listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlainListingFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"date_paid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount_paid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"documents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1253,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:he}}},G=s=>{const o={};return s.filter(function(a){if(a.kind!=="FragmentDefinition")return!0;const c=a.name.value;return o[c]?!1:(o[c]=!0,!0)})};S.definitions=G(S.definitions.concat(w.definitions));S.definitions=G(S.definitions.concat(y.definitions));const Ne=(s,o)=>{const a=(e,n)=>{if(e.kind==="FragmentSpread")n.add(e.name.value);else if(e.kind==="VariableDefinition"){const i=e.type;i.kind==="NamedType"&&n.add(i.name.value)}return e&&"selectionSet"in e&&e.selectionSet&&e.selectionSet.selections.forEach(i=>{a(i,n)}),e&&"variableDefinitions"in e&&e.variableDefinitions&&e.variableDefinitions.forEach(i=>{a(i,n)}),e&&"definitions"in e&&e.definitions&&e.definitions.forEach(i=>{a(i,n)}),n},c=e=>{const n={};return e.definitions.forEach(function(i){"name"in i&&i.name&&(n[i.name.value]=a(i,new Set))}),n},r=(e,n)=>{for(let i=0;i<e.definitions.length;i++){const d=e.definitions[i];if(d&&"name"in d&&d.name&&d.name.value==n)return d}},f=c(s),g=Object.assign({},s,{definitions:[r(s,o)]}),v=f[o]||new Set,u=new Set;let l=new Set;for(v.forEach(e=>{l.add(e)});l.size>0;){const e=l;l=new Set,e.forEach(n=>{u.has(n)||(u.add(n),(f[n]||new Set).forEach(d=>{l.add(d)}))})}return u.forEach(e=>{const n=r(s,e);n&&g.definitions.push(n)}),g};Ne(S,"getExpensesList");const Se="/assets/import-automatically-DxDCFQVs.gif",_e="yzZgu",Ee="FXfp5",be="A5DJr",Fe="_9-O-V",xe="rKYnB",ye="wk0cf",Ie="gCUU1",Te="mq34s",Pe="eZBiJ",h={modal:_e,closeIcon:Ee,banner:be,title:Fe,helpfulInfoCard:xe,helpfulInfoList:ye,helpfulInfoParagraph:Ie,footer:Te,upgradeAccountingBtn:Pe},Ae=[{title:"Automatic import",text:"Securely link your bank to bring in transactions automatically."},{title:"Tax-ready Schedule E",text:"Instantly generate your Schedule E for stress-free tax prep."},{title:"Rule creation",text:"Put your bookkeeping on cruise control with custom rules that automatically categorize recurring transactions."}],B=({onClose:s,onUpgradeAccounting:o,loading:a,open:c})=>{const{user:r}=P(),{trialActivated:f,loading:g}=ce(),u=E(r,p.GT_PREMIUM_MODAL_EXPERIMENT.name)?.includes("accounting_bundle"),l=()=>f?"Upgrade My Bookkeeping":u?q(r)||de(r)?"Try for free":"Learn More":"Try for free";return t.jsxs(F,{open:c,onClose:s,size:"small",banner:t.jsx("img",{src:Se,alt:"Unlock automatic importing"}),bannerClassName:h.banner,closeIconClassName:h.closeIcon,showCloseIcon:!0,disableCloseIcon:a,disableOutsideClick:!0,id:"unlock-automatic-importing-modal",className:h.modal,children:[t.jsx(F.Header,{children:t.jsx(ie,{className:h.title,children:"Keep your accounting books updated automatically!"})}),t.jsx(F.Content,{children:t.jsx(O,{noTitle:!0,noIcon:!0,className:h.helpfulInfoCard,children:t.jsx(U,{className:h.helpfulInfoList,children:Ae.map(e=>t.jsx($,{icon:"checkmark-filled",iconProps:{color:C.primary},children:t.jsxs("div",{children:[t.jsx(x,{weight:"semi",children:e.title}),t.jsx(x,{size:"small",className:h.helpfulInfoParagraph,children:e.text})]})},e.title))})})}),t.jsx(F.Footer,{layout:"row",className:h.footer,children:t.jsx(j,{onClick:()=>{o(),T("upgrade_accounting clicked",{location:"Upgrade modal"})},loading:a||g,className:h.upgradeAccountingBtn,"data-qa":"accounting-unlock-modal-try-free-button",children:l()})})]})};B.propTypes={onClose:k.func.isRequired,onUpgradeAccounting:k.func.isRequired,loading:k.bool,open:k.bool};const De="TiAoK",Me="zEv11",Le="nqo-D",Re="DQaOJ",Ve="txNGP",we="KDEsJ",Ce="WA74H",je="aLRru",Oe="qTJ0T",Ue="-qYEo",$e="_64-ZF",qe="dOAFW",Ge="QvYRl",m={wrapper:De,cardWrapper:Me,card:Le,header:Re,avatar:Ve,title:we,content:Ce,helpfulInfoCard:je,helpfulInfoList:Oe,helpfulInfoParagraph:Ue,treatmentVariant:$e,footer:qe,upgradeAccountingBtn:Ge},Be=[{title:"Portfolio insights",text:"Stay on top of income, expenses, and property value with an at-a-glance dashboard built for real estate investors."},{title:"Detailed financial reports",text:"Get ready-made reports like Profit & Loss, Balance Sheet, and Cash Flow â€” no spreadsheets required."},{title:"Tax-ready Schedule E",text:"Instantly generate your Schedule E for stress-free tax prep."}],H=({onUpgradeAccounting:s,disabled:o})=>{const{user:a}=P({},!1),c=E(a,p.ACCOUNTING_INSIGHTS_V1.name),r=c===p.ACCOUNTING_INSIGHTS_V1.variants.treatment,f=E(a,p.GT_PREMIUM_MODAL_EXPERIMENT.name),v=[p.GT_PREMIUM_MODAL_EXPERIMENT.variants.accounting_bundle_2,p.GT_PREMIUM_MODAL_EXPERIMENT.variants.accounting_bundle_3,p.GT_PREMIUM_MODAL_EXPERIMENT.variants.accounting_bundle_1,"accounting_bundle_1_cf","accounting_bundle_3_cf"].includes(f),u=()=>v&&r?"learn_more":r?"start_free_trial":"get_started",l=()=>v&&!c?"Learn More":r?"Try for free":"Get Started";return t.jsx("div",{className:m.wrapper,children:t.jsx("div",{className:te(m.cardWrapper,{[m.treatmentVariant]:r}),children:t.jsxs(ae,{className:m.card,children:[t.jsxs("div",{className:m.header,children:[t.jsx(se,{iconType:"multiColor",icon:"calculator",size:"xxl",className:m.avatar}),t.jsx("h2",{className:m.title,children:"Unlock your full financial picture with Accounting"})]}),t.jsx("div",{className:m.content,children:t.jsx(O,{noTitle:!0,noIcon:!0,className:m.helpfulInfoCard,children:t.jsx(U,{className:m.helpfulInfoList,children:Be.map(e=>t.jsx($,{icon:"checkmark-filled",iconProps:{color:C.primary},children:t.jsxs("div",{children:[t.jsx(x,{weight:"semi",children:e.title}),t.jsx(x,{size:"small",className:m.helpfulInfoParagraph,children:e.text})]})},e.title))})})}),t.jsx("div",{className:m.footer,children:t.jsx(j,{onClick:()=>{s();const e=u();T(`${e} clicked`,{location:"Insights Upgrade Modal"})},disabled:o,className:m.upgradeAccountingBtn,children:l()})})]})})})};H.propTypes={onUpgradeAccounting:k.func.isRequired,disabled:k.bool};const He=({onClose:s,open:o,setShowEmptyState:a,segmentLocation:c})=>{const r=re(),f=le(),{PRIVATE_BASE_PATH:g,PREMIUM_PRO_YEARLY_199_SHORT_CODE:v}=oe(),{user:u}=P({},!1),[l,e]=b.useState(!1),[n,i]=b.useState(!1),[d,A]=b.useState(o),[z,Q]=b.useState(!1),W=E(u,p.GT_PREMIUM_MODAL_EXPERIMENT.name),X=u?.premium_subscription_subscribed,I=W?.includes("accounting_bundle"),Y=q(u)||!I,{unitCount:J}=ue(),N=r.pathname.includes(_.insights),K=r.pathname.includes(_.transactions),Z=r.pathname.includes(_.transactionsLanding),D=r.pathname.includes(_.transactionsExpenses),M=()=>N?"Insights Upgrade Modal":Z?V.TRANSACTIONS_AUTO_IMPORT:D?V.TRANSACTIONS_EXPENSES_AUTO_IMPORT:c||"Accounting Page",L=()=>{I&&!X?(i(!0),T("gbb_premium_modal loaded",{location:M()})):e(!0),N||A(!1)},ee=()=>{s(),a?.(!1),r.pathname.includes(_.transactionsLanding)?f(`${g}accounting/transactions/all`,{replace:!0}):!N&&!K&&f(`${g}dashboard`)},ne=E(u,p.ACCOUNTING_INSIGHTS_V1.name)===p.ACCOUNTING_INSIGHTS_V1.variants.treatment;return t.jsxs(t.Fragment,{children:[N?t.jsx(H,{onUpgradeAccounting:L,disabled:l||n}):t.jsx(B,{open:d,onClose:s,onUpgradeAccounting:L,loading:l||n}),I&&!Y&&n&&t.jsx(me,{onClose:()=>{i(!1),N||s()},onSuccess:R=>{i(!1),R===v&&ee()},openLocation:M()}),l&&t.jsx(fe,{unitCount:J,refetchQueries:D?[{query:S}]:[],forceFreeTrial:ne,open:l,onClose:()=>{e(!1),N||s()},onSuccess:()=>{e(!1),Q(!0),N&&A(!1)}}),z&&t.jsx(ge,{})]})};He.propTypes={onClose:k.func,open:k.bool,setShowEmptyState:k.func,segmentLocation:k.string};export{He as U,S as _};
//# sourceMappingURL=UnlockAccountingModalWrapper-CrxupuPy.js.map
