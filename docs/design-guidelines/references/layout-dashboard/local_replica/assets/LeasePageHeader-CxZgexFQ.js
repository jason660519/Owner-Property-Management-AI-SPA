import{p as O,o as V,G as c,r as D,an as G,j as e,k as X,B as j,s as r,P as a}from"./TownhouseColor--VjQBVqd.js";import{P as z}from"./PremiumSubscriptionBanner-fx5JsfcE.js";import{bk as H,dg as n,b0 as Q,dh as W,di as J,dj as K,dk as M,cr as o}from"./main-dumNSXg9.js";import{s as m}from"./LeaseListItemCardWrapped-DnBL1ogY.js";const Z={LEASE_INDEX_PAGE_FILTERS:"LEASE_INDEX_PAGE_FILTERS"},U="ewjBx",Y="C-sg8",ee="_3TAA-",se="VdVD1",ae="Bi2WH",te="LX7hB",ne="_3nqPR",ie="jdQLw",re="tN5ty",oe="l-ZKa",le="j4zLP",ce="SCd-u",de="_04kFy",me="_4kRGQ",he="caovx",s={container:U,square:Y,typeToggle:ee,top:se,addLeaseBtn:ae,title:te,search:ne,bottom:ie,innerContainer:re,btn:oe,tabs:le,tabItem:ce,right:de,premiumBanner:me,dropdownTrigger:he},ge=({className:S,type:l,onTabChange:v=()=>({}),showSearch:L,onSearch:_=()=>({}),showFilter:h,searchValue:N,onFiltersChange:P=()=>({}),showAddLease:g,listings:u,loadingListings:I,selectedIds:f,leases:p,user:i,onChangeSort:C,loading:E})=>{const w=O(),{PRIVATE_BASE_PATH:d}=V(),x=H(),k=c(i,"premium_subscription_subscribed",!1),b=i?.has_past_leases>0,B=c(i,"listings_count",0)+c(i,"tenants_count",0)+c(i,"applicants_count",0)===0,y=(p?.length===0||B)&&!b,A=p?.length===0&&b,T=!k&&!y&&!A,[F,R]=D.useState(()=>{const $=JSON.parse(G(Z.LEASE_INDEX_PAGE_FILTERS)||"{}")?.dateSort;return m.find(q=>q.value===$)?.label||m[0].label});return E?e.jsxs(n,{children:[e.jsxs(n.Section,{justify:"space",align:"center",children:[e.jsx("h1",{className:s.title,"data-qa":"leases-index-title",id:"leases-index-title",children:l==="active"?"Lease Profiles":"Past Lease Profiles"}),e.jsx(n.Button,{size:"round"})]}),e.jsxs(n.Section,{align:"center",gap:"sm",margin:"bsm",wrap:!0,children:[e.jsx(n.Button,{}),e.jsx(n.Button,{size:"large"}),e.jsx(n.Button,{})]})]}):e.jsxs("div",{className:X(s.container,S),children:[e.jsxs("div",{className:s.top,children:[e.jsx("h1",{className:s.title,"data-qa":"leases-index-title",id:"leases-index-title",children:l==="active"?"Lease Profiles":"Past Lease Profiles"}),g&&!x&&e.jsx("div",{className:s.right,children:e.jsx(j,{to:`${d}leases/create?showInsuranceStep=true`,onClick:()=>{r("add_new_lease clicked",{location:"Lease Index"})},className:s.btn,variant:"outline",id:"add-lease-btn",children:"Add New Lease"})}),g&&x&&e.jsx(j,{type:"tertiary",icon:Q,className:s.addLeaseBtn,to:`${d}leases/create?showInsuranceStep=true`,onClick:()=>{r("add_new_lease clicked",{location:"Lease Index"})},id:"add-lease-btn",children:"Add"})]}),T&&e.jsx(z,{className:s.premiumBanner,to:"/owners/add-digital-lease/select-lease",onClick:()=>{r("get_new_lease_agreement clicked",{location:"Lease Index"})}}),e.jsx("div",{className:s.bottom,children:e.jsxs("div",{className:s.innerContainer,children:[e.jsx("div",{className:s.typeToggle,id:"leases-type-toggle",children:e.jsx(W,{containerClassName:s.tabs,itemClassName:s.tabItem,onChange:t=>{v(t),r(`${t}_toggle clicked`,{location:"Lease Index"}),w(`${d}leases/${t==="active"?"":"past"}`)},selectedValue:l,options:[{value:"active",label:"Active"},{value:"past",label:"Past"}]})}),L&&e.jsx("div",{className:s.search,children:e.jsx(J,{value:N,onChange:t=>_(t.target.value),onClick:()=>{r("search clicked",{location:"Lease Index"})},placeholder:`Search ${l==="active"?"":"Past"} Leases...`,icon:K,className:s.searchField,id:"search-field"})}),h&&e.jsx(M,{filterName:"Rentals",properties:u,hideSearch:u?.length<5,onApplyFilters:P,loading:I,className:s.square,selectedIds:f}),e.jsx("div",{className:s.right,children:h&&e.jsxs(o,{closeOnClick:!0,children:[e.jsx(o.Trigger,{children:e.jsxs("div",{className:s.dropdownTrigger,children:["Sort by ",e.jsx("b",{children:F}),e.jsx(o.Arrow,{})]})}),e.jsx(o.Content,{children:m.map(t=>e.jsx(o.Item,{as:"button",className:s.sortOption,onClick:()=>{C(t),R(t.label)},children:t.label},`${t.value}${t.direction}`))})]})})]})})]})};ge.propTypes={className:a.string,type:a.oneOf(["active","past"]).isRequired,onTabChange:a.func,showSearch:a.bool,onSearch:a.func,showFilter:a.bool,searchValue:a.string,onFiltersChange:a.func,showAddLease:a.bool,leases:a.array,user:a.object,onChangeSort:a.func,loadingListings:a.bool,listings:a.array,selectedIds:a.array,loading:a.bool};export{ge as L,Z as P};
//# sourceMappingURL=LeasePageHeader-CxZgexFQ.js.map
