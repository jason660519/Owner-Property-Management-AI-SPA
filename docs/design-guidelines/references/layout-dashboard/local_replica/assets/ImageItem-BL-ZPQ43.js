import{r as h,j as C,P as e}from"./TownhouseColor--VjQBVqd.js";const y=({style:$,avoidCache:b,imageUrl:a,className:I,rotation:d,autofill:j,...v})=>{const[c,w]=h.useState(0),[H,S]=h.useState(!1),i=h.useRef(null),W=n=>`${n}?${new Date().getTime()}`,A=()=>{Array.isArray(a)&&c+1<a.length&&w(c+1)};let s=Array.isArray(a)?a[c]:a;s=s?b?W(s):s:void 0;const{transform:E,...R}=$;let t={...{...R,transform:`${E||""} rotate(${-90*d}deg)`}};if(j)if(H&&i.current&&i.current.parentNode){const{naturalWidth:n,naturalHeight:u,parentNode:T}=i.current,{clientWidth:o=1,clientHeight:r=1}=T,p=d%2!==0,g=p?u:n,f=p?n:u,x=Math.max(o/g,r/f)||1,l=Math.round(g*x),m=Math.round(f*x);p?l>o?(t.width=`${r}px`,t.height="auto",t.left="0px",t.top=`${-(l-r)/2}px`):(t.width="auto",t.height=`${o}px`,t.left=`${-(m-o)/2}px`,t.top="0px"):l>o?(t.width="auto",t.height=`${r}px`,t.left=`${-(l-o)/2}px`,t.top="0px"):(t.width=`${o}px`,t.height="auto",t.left="0px",t.top=`${-(m-r)/2}px`),t.position="absolute",t.objectFit="cover"}else t={...t,width:"100%",height:"100%",top:"0px",left:"0px",position:"absolute",objectFit:"cover"};return C.jsx("img",{src:s,onLoad:()=>S(!0),onError:A,ref:i,className:I,style:t,...v})};y.defaultProps={style:{},avoidCache:!1,rotation:0};y.propTypes={style:e.object,imageUrl:e.oneOfType([e.string,e.arrayOf(e.string)]),rotation:e.number,className:e.string,avoidCache:e.bool,onError:e.func,autofill:e.bool};export{y as I};
//# sourceMappingURL=ImageItem-BL-ZPQ43.js.map
