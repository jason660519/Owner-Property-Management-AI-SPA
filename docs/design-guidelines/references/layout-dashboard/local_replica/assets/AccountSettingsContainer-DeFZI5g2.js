import{j as e,R as Ke,k as j,P as o,r as g,v as U,E as oe,aH as Ua,a5 as _,o as fe,s as x,ag as we,ad as Xn,a9 as T,a8 as Xe,ar as tn,d as ke,B as Q,ab as xe,as as Va,u as sn,a4 as Qe,F as Y,I as Be,p as an,w as pe,L as Ye,al as ti,U as ln,G as V,K as Ha,af as wn,b as Ya,a3 as Ga,Q as si,i as Ge,at as Cn,q as hs,b1 as Qa,b0 as Wa,J as ii,b7 as Zn,aa as ai,ae as Ls,V as Tn,aC as An,am as Ve,W as Pt,D as za,aB as Ka,bI as Za,aF as Xa,av as Ja,ac as eo,t as no,S as to,c as so}from"./TownhouseColor--VjQBVqd.js";import{dx as en,bk as gt,aP as q,fD as oi,lA as io,ho as ao,gJ as oo,gK as co,hp as lo,f as ci,lv as os,aa as Ln,q as bs,aM as rn,g7 as Dn,co as ro,fy as uo,bn as He,lB as mo,br as Bn,l as Ce,n as $e,o as ae,dl as Qt,bO as li,cr as Ze,b1 as po,ba as ri,ht as ho,dm as bo,aJ as nn,lC as di,y as ui,F as mi,cc as vt,h_ as qt,g as fo,aj as go,X as fs,lD as vo,lE as xo,a7 as Jn,a9 as me,ja as Ut,aK as dt,lF as yo,Z as qn,dO as ko,t as vn,dN as No,lG as et,x as pi,E as cs,h7 as R,j as Ae,eg as jo,c9 as So,eh as hi,lH as _o,gz as On,b3 as Vt,fq as bi,a8 as fi,lI as Co,cH as gi,a$ as vi,kz as xi,be as gs,bf as yi,bs as vs,bw as xs,a1 as wo,ko as To,bx as ki,gy as Po,fg as Bs,lJ as Ao,fz as qs,fA as Eo,ar as At,$ as Io,a0 as $o,u as ys,bo as Ni,d0 as Ht,a2 as zn,eQ as ls,h$ as Ro,v as Pn,p as mt,c as ut,d8 as Fo,bq as Mo,bp as Do,ed as Oo,lK as Lo,aS as ji,cF as Bo,gZ as qo,ds as Us,dq as Yt,bu as Uo,d9 as Si,cK as Vo,lL as _i,lM as Ho,lN as Yo,cY as Nt,jY as Go,cw as Qo,lO as Wo,aL as zo,b8 as rs,b6 as ds,fj as Ko,fh as Zo,bY as Ci,bS as Xo,aX as Et,dh as Wt,fp as Jo,fx as ec,dz as nc,dA as Vs,dB as tc,dC as sc,lP as ic,lQ as pt,lR as ac,lS as wi,b5 as oc,lT as cc,lU as lc,lV as rc,ke as dc,dp as uc,ey as mc,lW as pc,b_ as hc,c4 as bc,b0 as fc,ib as gc,lX as vc,lY as xc,aI as yc,gF as kc,k8 as Nc,dn as jc,aV as Sc,bB as _c,bC as Cc}from"./main-dumNSXg9.js";import{R as wc,N as Tc}from"./NotificationModal-BtOrPqqr.js";import{_ as Pc}from"./updateUserEmail-C-T-fg6H.js";import Ac from"./EmailPreferencesRoute-BiNVPRcB.js";import{A as Ec,a as Ic}from"./AddBankAccount-Di2B1k2O.js";import{L as ks}from"./LegalZoomBannerWrapped-BdwqLHoM.js";import{O as $c}from"./OfflineToOnlineConversionModal-rzszdUD7.js";import{C as Rc}from"./CheckboxField-CH_TivEf.js";import{E as Ti}from"./ExclamationRedFilled-Bzga-kKQ.js";import{u as Fc}from"./useEntitiesQuery-Cfuo2upn.js";import{I as Pi}from"./InfoModal-D5RMBJJI.js";import{S as Mc}from"./SubscriptionPayModal-Fnib479B.js";import{P as Dc}from"./PaymentMethodInfoCard-CvThXISQ.js";import{D as Oc}from"./DownloadPaymentReceiptButton-CiiUlZG1.js";import{_ as Lc,E as Bc,g as qc,R as Uc,r as Vc}from"./rotatePhoto-adU7LGDS.js";import{R as xt}from"./ReferralColor-CBa_42fm.js";import{C as Ai}from"./CheckboxGroupFields-htUp2YLH.js";import{g as Hc}from"./getUserPremiumPrice-DAZxVxbP.js";import{i as It}from"./isMainUser-BvUNagru.js";import{_ as zt}from"./additionalUsersQuery-2jijOuG3.js";import{r as Yc}from"./format-round-decimal-number-ceil-DulQwiGk.js";import{i as Gc}from"./isLowerThan-DhUjaS_l.js";import{C as Qc,u as Wc,P as zc}from"./PrescreenerCustomQuestionsForm-Mzr3zfAQ.js";import{A as Kc}from"./AlertModal--93869rJ.js";import{_ as Ei}from"./updatePassword-CRw_-zJf.js";import{I as Ii}from"./InformationCircle-DXQq8tda.js";import"./CheckMark-FBlC4w0-.js";import"./RenterPreferences-B3a0oaTx.js";import"./ResourcesNav-B2ZqehRt.js";import"./ManageBankAccount-CanCiq3t.js";import"./ConfirmBankNicknameModalWrapped-DyiU_dJq.js";import"./constants-BXPqLcbd.js";import"./receipt.fragment-cmkptTMN.js";import"./getCustomPreScreenerQuestions-q6Ha4UZW.js";import"./isLengthBetweenWithLimits-BGyQWJds.js";const Zc=`mutation updateUserProfile($first_name: String, $last_name: String) {
  updateUserProfile(input: { first_name: $first_name, last_name: $last_name }) {
    ok
  }
}
`,Xc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateUserProfile"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first_name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last_name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUserProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"first_name"},value:{kind:"Variable",name:{kind:"Name",value:"first_name"}}},{kind:"ObjectField",name:{kind:"Name",value:"last_name"},value:{kind:"Variable",name:{kind:"Name",value:"last_name"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:202,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Zc}}},jt=({title:n,render:s,...i})=>e.jsx(Ke,{...i,render:a=>e.jsx(en,{title:n,children:s(a)})}),Jc=`mutation toggleOwnerFastPayouts($fast_payouts_enabled: Boolean) {
  toggleOwnerFastPayouts(
    input: { fast_payouts_enabled: $fast_payouts_enabled }
  ) {
    ok
  }
}
`,el={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"toggleOwnerFastPayouts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fast_payouts_enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"toggleOwnerFastPayouts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"fast_payouts_enabled"},value:{kind:"Variable",name:{kind:"Name",value:"fast_payouts_enabled"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:208,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Jc}}},nl="GGbo8",tl="ktNI6",sl="FgwPq",Kt={achPayoutSpeedWarning:nl,exclamation:tl,learmore:sl},Ns=({short:n=!1,className:s})=>e.jsxs("p",{className:j(Kt.achPayoutSpeedWarning,s),children:[e.jsx("b",{children:"If a tenant’s payment bounces after being deposited, it may be withdrawn from your account, similar to a bounced check, and also delay all other payments"}),"."," ",!n&&e.jsxs(e.Fragment,{children:["Expedited payout speed is not recommended if ",e.jsx("i",{children:"any"})," of your tenants have a history of bounced payments."]})," ",n&&e.jsxs(e.Fragment,{children:[e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.turbotenant.com/en/articles/4004080-rent-payments-guide#h_d4ab5d8ad9",className:Kt.learmore,children:"Learn more"}),"."]}),e.jsx(Ti,{className:Kt.exclamation})]});Ns.propTypes={short:o.bool,className:o.string};const il="igHBl",al="raGvB",ol="rspQt",cl="NpdZU",ll="eZe--",rl="q8T6E",dl="gI6aH",ul="tjlNs",cn={container:il,section:al,option:ol,payoutSpeedRadio:cl,warning:ll,label:rl,acceptTermsAndConditions:dl,successContainer:ul},ml=({onClose:n,isFastPayoutEnabled:s})=>{const i=gt(),[a,c]=g.useState(!1),[u]=U(el,{refetchQueries:[{query:oe}],awaitRefetchQueries:!0}),d=g.useCallback(async({fast_payouts_enabled:h})=>{await u({variables:{fast_payouts_enabled:h}}),c(!0)});return e.jsx(q,{showCloseIcon:!0,fullScreen:i,open:!0,className:j(cn.container),onCancel:()=>{n()},onClose:n,containerClassName:cn.modalWrap,children:e.jsx(oi,{initialValues:{fast_payouts_enabled:s},onSubmit:d,children:({values:h,pristine:p,valid:m,submitting:t})=>e.jsx(e.Fragment,{children:a?e.jsxs("div",{className:cn.successContainer,children:[e.jsx(Ua,{width:"80px",height:"80px",color:"#04BF8D"}),e.jsx("h1",{children:"ACH Payout Speed Updated!"}),e.jsxs("p",{children:["All future ACH rent payments will be"," ",e.jsxs("b",{children:[" ",h?.fast_payouts_enabled?"expedited (2-4 business days)":"standard (5-7 business days)"]}),"."]}),e.jsx(_,{type:"button",onClick:n,children:"SOUNDS GOOD"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:cn.section,children:[e.jsx("h1",{children:"Choose ACH Payout Speed"}),e.jsx(io,{inline:!1,name:"fast_payouts_enabled",className:cn.payoutSpeedRadio,radioRowClassName:cn.option,options:[{value:!1,label:e.jsx("span",{className:cn.label,children:"Standard Payout Time (5-7 business days)"}),description:e.jsx("i",{children:"Payments are deposited into your bank account after they clear a tenant’s bank account."})},{value:!0,label:e.jsx("span",{className:cn.label,children:"Expedited Payout Time (2-4 business days)"}),description:e.jsxs("i",{children:["Payments may be deposited into your bank account before they clear a tenant’s bank account."," ",e.jsxs("b",{children:[" ","Not recommended if any of your tenants have a history of bounced payments"]}),"."]})}]}),h.fast_payouts_enabled&&e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:cn.warning,short:!0}),e.jsx(Rc,{name:"accept_terms_and_conditions",label:"I understand and agree to the above",className:cn.acceptTermsAndConditions,validate:l=>l?void 0:"This field is required"})]})]}),e.jsx(_,{loading:t,type:"submit",disabled:p||!m||t,children:"SAVE"})]})})})})},pl="_-7j8U",Hs={container:pl},Ys="Settings Rent Payments Empty State",Gs="payments settings",$i=({isAssistant:n,accountRole:s})=>{const i=ao(),{PRIVATE_BASE_PATH:a}=fe(),c=oo({hasUserFinishedPaymentsOnboarding:!1,wantsOfflineTracking:!1}),u=`${a}payments/setup/lease`;return e.jsx("div",{className:Hs.container,children:c?e.jsx(co,{onSetupRentClick:()=>{i()},segmentTrackingLocation:Ys,setupLink:u,className:"mt-0",emptyStateLoadedTrackingLocation:Gs}):e.jsx(lo,{triggerSegmentEventOnLoad:Gs,className:Hs.paymentsContainer,segmentLocation:Ys,action:{to:`${a}payments/setup/lease`,onClick:async()=>{await i()},label:"get started",eventName:"get_started"},isAssistant:n,accountRole:s})})};$i.propTypes={isAssistant:o.bool,accountRole:o.string};const hl="j5Vkp",bl="QVpyX",fl="Mb4Xa",gl="muv-f",vl="PSQVk",xl="nsd6I",yl="nue74",kl="pE6h9",Nl="_4z1Yo",jl="zEgzr",Sl="KXYfq",_l="OIU1q",Cl="jIP9S",wl="QSsCT",Tl="QkGTZ",Pl="heXqI",Al="m6UkT",El="rNLiZ",Il="nvLqw",$l="rDRKY",Rl="hbrqi",ne={container:hl,accounts:bl,heading:fl,title:gl,actionBtn:vl,banner:xl,actionIcon:yl,addEntityBtn:kl,actions:Nl,separator:jl,achPayoutSpeed:Sl,achPayoutSpeedHeader:_l,achFee:Cl,achFeeHeader:wl,achPayoutSpeedDescription:Tl,achPayoutSpeedLearnMore:Pl,warning:Al,achPayoutSpeedChange:El,premium:Il,achPayoutSpeedPremiumFlag:$l,whoWillPayFee:Rl},Ri=({isPremium:n,openPremiumModal:s,isAssistant:i,accountRole:a})=>{const{innerWidth:c}=ci(),{PRIVATE_BASE_PATH:u}=fe(),d=c<=bs,h=n?{onClick:x("add_new_entity clicked",{location:"rent_payments_settings"}),to:`${u}settings/rent-payments/add-entity`}:{onClick:()=>s({openLocation:Ln.ENTITY_BANK_ACCOUNTS})},p=n?{to:{pathname:`${u}settings/rent-payments/add-bank-account`,state:{redirectTo:`${u}settings/rent-payments`,fromSettings:!0}}}:{onClick:s},m=d?"ADD ENTITY":"ADD NEW ENTITY",t=d?"ADD BANK":"ADD A BANK ACCOUNT";return e.jsxs("div",{className:ne.heading,children:[e.jsx("h2",{className:ne.title,children:"Bank Accounts"}),e.jsxs("div",{className:ne.actions,children:[e.jsxs(_,{className:j(ne.actionBtn,ne.addEntityBtn,{[ne.banner]:!n}),secondary:!0,...h,disabled:i,"data-tooltip-id":"add-entity-tooltip",children:[m,!n&&e.jsx(os,{className:ne.actionIcon})]}),e.jsxs(_,{className:j(ne.actionBtn,{[ne.banner]:!n}),...p,disabled:i,"data-tooltip-id":"add-bank-tooltip",children:[t,!n&&e.jsx(os,{className:ne.actionIcon})]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs(we,{id:"add-entity-tooltip",children:["Your role as an ",a," does not allow you to perform this action."]}),e.jsxs(we,{id:"add-bank-tooltip",children:["Your role as an ",a," does not allow you to perform this action."]})]})]})]})};Ri.propTypes={isPremium:o.bool,openPremiumModal:o.func,isAssistant:o.bool,accountRole:o.string};const Fl="Mehbj",Ml="_5gPkQ",Dl="_5KI7L",Ol="cewHS",Ll="e2Klg",Bl="YZUyB",Un={container:Fl,innerContainer:Ml,status:Dl,subHeader:Ol,tag:Ll,btnWrapper:Bl},Fi=({onSubmit:n,isAssistant:s,accountRole:i})=>{const a=g.useCallback((...c)=>{x("collect_rent_with_turbotenant clicked",{location:"Settings Rent Payments"}),n(...c)},[n]);return e.jsxs(rn,{className:Un.container,children:[e.jsxs(Xn,{children:["Rent Payments: ",e.jsx("span",{className:Un.status,children:"Tracking Only"})]}),e.jsx(T,{children:"Rent Payment Tracking includes automatic payment reminders and receipts for you and your tenants. Plus, simplify tracking by keeping all your payments and receipts organized in one place."}),e.jsxs(rn,{className:Un.innerContainer,children:[e.jsxs(Xe,{className:Un.subHeader,children:["Start Collecting Rent with TurboTenant"," ",e.jsx(Dn,{small:!0,uppercase:!1,className:Un.tag,children:"Free For Landlords"})]}),e.jsxs(T,{children:["You’ll benefit from everything included in tracking, plus you can say goodbye to coordinating rent check pickups, waiting for the mail, or dealing with bank deposit issues."," ",e.jsx(tn,{target:"_blank",href:"https://support.turbotenant.com/en/articles/4004080-rent-payments-guide",children:"Learn how rent collection with TurboTenant works"}),"."]}),e.jsxs("div",{className:Un.btnWrapper,children:[e.jsx(_,{onClick:a,disabled:s,"data-tooltip-id":"convert-to-online-tooltip",children:"Collect rent with TurboTenant"}),s&&e.jsxs(we,{id:"convert-to-online-tooltip",children:["Your role as an ",i," does not allow you to perform this action."]})]})]}),e.jsx(ks,{page:"rent_payments"})]})};Fi.propTypes={onSubmit:o.func.isRequired,isAssistant:o.bool,accountRole:o.string};const js=({color:n,...s})=>e.jsx("svg",{viewBox:"0 0 24 24",...s,fill:n,children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3018 12.2128C17.3661 12.2128 19.0393 13.9485 19.0393 16.0911C19.0393 16.931 18.7818 17.7084 18.3442 18.343L20.8198 20.9104C21.0601 21.1596 21.0601 21.5638 20.8198 21.813C20.6013 22.0397 20.2594 22.0603 20.0185 21.8748L19.9495 21.813L17.4744 19.2453C16.8621 19.6996 16.112 19.9669 15.3018 19.9669C13.2376 19.9669 11.5642 18.2322 11.5642 16.0911C11.5642 13.9485 13.2374 12.2128 15.3018 12.2128ZM14.9396 2C15.0692 2 15.1945 2.04238 15.2985 2.11978L15.3722 2.18429L18.8687 5.76833L18.8775 5.77745C18.8888 5.78954 18.8997 5.80208 18.91 5.81507L18.9327 5.84521L18.939 5.85422C18.9459 5.86436 18.9525 5.87472 18.9589 5.88528C18.9677 5.90028 18.976 5.91539 18.9836 5.93081L18.9885 5.94045C19.0103 5.98644 19.027 6.03556 19.0377 6.08699C19.0399 6.09811 19.042 6.10958 19.0438 6.12112L19.0459 6.13572L19.0516 6.22234V12.1957C19.0516 12.5483 18.776 12.834 18.4362 12.834C18.1246 12.834 17.8671 12.5939 17.8264 12.2823L17.8208 12.1957L17.819 6.86L14.3568 6.86064C14.0453 6.86064 13.7878 6.6205 13.747 6.30895L13.7414 6.22234L13.741 3.276L6.23079 3.2766V19.9201L11.443 19.9202C11.7546 19.9202 12.012 20.1603 12.0528 20.4719L12.0584 20.5585C12.0584 20.8816 11.8269 21.1487 11.5265 21.1909L11.443 21.1968H5.6154C5.30385 21.1968 5.04637 20.9566 5.00562 20.6451L5 20.5585V2.6383C5 2.31515 5.23152 2.04809 5.53189 2.00583L5.6154 2H14.9396ZM15.3018 13.4894C13.9172 13.4894 12.795 14.6535 12.795 16.0911C12.795 17.527 13.9172 18.6903 15.3018 18.6903C16.6863 18.6903 17.8085 17.527 17.8085 16.0911C17.8085 14.6535 16.6863 13.4894 15.3018 13.4894ZM10.408 16.3361C10.7479 16.3361 11.0234 16.6219 11.0234 16.9744C11.0234 17.2976 10.7919 17.5646 10.4915 17.6069L10.408 17.6127H7.94645C7.60657 17.6127 7.33105 17.327 7.33105 16.9744C7.33105 16.6513 7.56256 16.3842 7.86294 16.342L7.94645 16.3361H10.408ZM10.408 13.9468C10.7479 13.9468 11.0234 14.2326 11.0234 14.5851C11.0234 14.9082 10.7919 15.1753 10.4915 15.2176L10.408 15.2234H7.94645C7.60657 15.2234 7.33105 14.9376 7.33105 14.5851C7.33105 14.2619 7.56256 13.9949 7.86294 13.9526L7.94645 13.9468H10.408ZM14.3282 9.93721C14.6681 9.93721 14.9436 10.223 14.9436 10.5755C14.9436 10.8987 14.7121 11.1657 14.4118 11.208L14.3282 11.2138H7.94645C7.60657 11.2138 7.33105 10.928 7.33105 10.5755C7.33105 10.2524 7.56256 9.98531 7.86294 9.94304L7.94645 9.93721H14.3282ZM14.3282 7.54786C14.6681 7.54786 14.9436 7.83363 14.9436 8.18616C14.9436 8.5093 14.7121 8.77637 14.4118 8.81863L14.3282 8.82446H7.94645C7.60657 8.82446 7.33105 8.53868 7.33105 8.18616C7.33105 7.86301 7.56256 7.59595 7.86294 7.55368L7.94645 7.54786H14.3282ZM10.8317 5.1585C11.1716 5.1585 11.4471 5.44428 11.4471 5.7968C11.4471 6.11995 11.2156 6.38701 10.9152 6.42928L10.8317 6.4351H7.94645C7.60657 6.4351 7.33105 6.14933 7.33105 5.7968C7.33105 5.47365 7.56256 5.20659 7.86294 5.16433L7.94645 5.1585H10.8317ZM14.972 3.568L14.9719 5.58385L16.937 5.584L14.972 3.568Z",fill:"#033A6D"})});js.defaultProps={width:25,height:24,color:ke.primary};js.propTypes={width:o.number,height:o.number,color:o.string};const ql=g.memo(js),Ss=({color:n,...s})=>e.jsx("svg",{viewBox:"0 0 25 24",...s,fill:n,children:e.jsx("path",{d:"M14.1 2c.338 0 .612.274.612.612v2.173c.68.176 1.221.348 1.656.546l1.557-1.557a.612.612 0 0 1 .866 0l2.31 2.31c.239.239.239.627 0 .866l-1.557 1.556c.198.435.37.978.546 1.657h2.173c.338 0 .612.274.612.612v2.45a.612.612 0 0 1-.612.612H20.09c-.177.682-.349 1.223-.547 1.657l1.557 1.557a.612.612 0 0 1 0 .866l-2.309 2.309a.612.612 0 0 1-.866 0l-1.558-1.557c-.434.198-.974.37-1.656.547v2.172A.612.612 0 0 1 14.1 22h-2.45a.612.612 0 0 1-.612-.612v-2.172c-.683-.177-1.223-.35-1.658-.547l-1.556 1.556a.612.612 0 0 1-.866 0l-2.31-2.308a.612.612 0 0 1 0-.866l1.558-1.557c-.198-.435-.37-.975-.547-1.657H3.487a.612.612 0 0 1-.612-.612v-2.45c0-.338.274-.612.612-.612H5.66c.177-.682.349-1.222.547-1.657L4.649 6.95a.612.612 0 0 1 0-.866l2.309-2.31c.24-.239.627-.239.866 0L9.38 5.331c.435-.198.976-.37 1.657-.546V2.612c0-.338.274-.612.612-.612h2.45Zm-.613 1.224h-1.224v2.04a.612.612 0 0 1-.469.595c-1.049.253-1.785.486-2.209.745a.612.612 0 0 1-.752-.09l-1.442-1.44-1.444 1.443L7.39 7.958c.2.2.238.51.09.752-.259.424-.492 1.159-.747 2.21a.612.612 0 0 1-.595.468H4.099v1.224h2.038c.283 0 .529.194.595.468.255 1.051.488 1.786.747 2.21a.612.612 0 0 1-.09.752l-1.442 1.442 1.444 1.443 1.441-1.442c.2-.2.511-.237.753-.09.424.26 1.159.493 2.21.748a.612.612 0 0 1 .468.595v2.038h1.224v-2.038c0-.283.194-.529.468-.595 1.051-.255 1.785-.488 2.209-.747a.612.612 0 0 1 .752.09l1.443 1.441 1.443-1.443-1.442-1.442a.612.612 0 0 1-.09-.752c.26-.424.493-1.159.748-2.21a.612.612 0 0 1 .595-.468h2.038v-1.224h-2.039a.612.612 0 0 1-.595-.469c-.252-1.044-.487-1.785-.746-2.21a.612.612 0 0 1 .09-.752l1.44-1.44-1.443-1.444-1.442 1.442c-.2.2-.51.236-.752.09-.424-.26-1.16-.494-2.208-.746a.612.612 0 0 1-.469-.595v-2.04Zm-.612 4.49a4.286 4.286 0 1 1 0 8.572 4.286 4.286 0 0 1 0-8.572Zm0 1.225a3.062 3.062 0 1 0 0 6.123 3.062 3.062 0 0 0 0-6.123Z"})});Ss.defaultProps={width:25,height:24,color:ke.primary};Ss.propTypes={width:o.number,height:o.number,color:o.string};const Ul=g.memo(Ss),Vl=`query taxForms($id: String!) {
  taxForms(id: $id) {
    id
    filing_statuses {
      effective_at
      jurisdiction {
        country
        state
        level
      }
      value
    }
    reporting_year
    pdfToken
  }
}
`,Hl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"taxForms"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"taxForms"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filing_statuses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"effective_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jurisdiction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reporting_year"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pdfToken"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:268,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Vl}}},Mi=({...n})=>e.jsxs("svg",{viewBox:"0 0 48 48",...n,children:[e.jsx("path",{d:"M32.841 27.335a5.509 5.509 0 1 1 0 11.017 5.509 5.509 0 0 1 0-11.017ZM12.333 5.667v2.5l.014.15c.07.388.41.683.82.683H34v1.667H9.833A.833.833 0 0 0 9 11.5v19.167c0 .92-.747 1.666-1.667 1.666l-.194-.01a1.666 1.666 0 0 1-1.472-1.656v-25h6.666Z",fill:"#7FE3FF"}),e.jsx("path",{d:"M32.841 25.668a7.175 7.175 0 0 1 5.63 11.625l5.285 5.284a.833.833 0 1 1-1.179 1.179l-5.285-5.284a7.145 7.145 0 0 1-4.45 1.546 7.175 7.175 0 0 1 0-14.35Zm0 1.667a5.509 5.509 0 1 0 0 11.017 5.509 5.509 0 0 0 0-11.017ZM13.167 4c.46 0 .833.373.833.833v2.5h20.833c.41 0 .75.295.82.684l.014.15v2.5h2.5c.409 0 .749.294.82.683l.013.15v8.333a.833.833 0 1 1-1.667 0v-7.5H10.667v18.334c0 .607-.163 1.176-.447 1.667h9.613a.833.833 0 1 1 0 1.666h-12.5A3.332 3.332 0 0 1 4 30.667V4.833c0-.46.373-.833.833-.833h8.334Zm-.834 1.667H5.667v25c0 .855.642 1.559 1.472 1.655l.194.011c.92 0 1.667-.747 1.667-1.666V11.5c0-.46.373-.833.833-.833H34V9H13.167a.834.834 0 0 1-.82-.684l-.014-.15v-2.5Z",fill:"#042238"})]});Mi.defaultProps={width:48,height:48};const Yl=g.memo(Mi),Gl="cbgKc",Ql="xWXNE",Wl="_94PNR",Zt={content:Gl,alignCenter:Ql,button:Wl},Di=({onClose:n})=>e.jsxs(e.Fragment,{children:[e.jsx(q.Header,{className:Zt.alignCenter,children:e.jsx(Yl,{})}),e.jsxs(q.Content,{className:Zt.content,children:[e.jsx(Xe,{children:"No tax forms found"}),e.jsxs(T,{align:"center",children:["You don’t have any 1099-K forms for this entity. If you qualify for one, it will be added automatically."," ",e.jsx(tn,{href:"https://support.turbotenant.com/en/articles/7914822-1099-k-guide-for-rent-payments",target:"_blank",children:"Learn more"}),"."]})]}),e.jsx(q.Footer,{children:e.jsx(_,{variant:"primary",onClick:n,className:Zt.button,children:"Okay"})})]});Di.propTypes={onClose:o.func};const zl="bD-Ex",Kl="_0qLBN",Qs={container:zl,button:Kl},Zl=()=>{const{PRIVATE_BASE_PATH:n}=fe();return e.jsxs("div",{className:Qs.container,children:[e.jsx(Xe,{children:"Want to make tax season easier?"}),e.jsx(T,{children:"TurboTenant Accounting saves you time and money. You’ll create an easy to share tax packet ready for your CPA, or tax software."}),e.jsx(Q,{to:`${n}accounting/transactions`,onClick:()=>{x("learn_more clicked",{location:"1099 Tax Form Modal"})},className:Qs.button,type:"secondary",children:"Learn More"})]})},Xl="_7O04M",Jl="x-9jC",er="NEAjz",nr="-aSI9",tr="_-6i1f",sr="_44bsf",ir="BW2Sc",In={desc:Xl,title:Jl,table:er,tableHeader:nr,row:tr,year:sr,reducePadding:ir},Oi=({taxForms:n})=>{const{API_URL:s}=fe(),[i,a]=g.useState(!1),{isUserAccountingSubscribed:c,loading:u}=ro(),{isTrialActive:d,loading:h}=uo();return g.useEffect(()=>{!u&&!h&&typeof d=="boolean"&&typeof c=="boolean"&&!d&&!c&&a(!0)},[d,c,h,u]),e.jsxs(q.Content,{noHeader:!0,noFooter:!0,children:[e.jsx(xe,{className:In.title,children:"Tax forms"}),e.jsxs(T,{className:In.desc,children:["View and download Form 1099-K tax documents used to report certain payment transactions."," ",e.jsx(tn,{href:"https://support.turbotenant.com/en/articles/7914822-1099-k-guide-for-rent-payments",target:"_blank",children:"Learn more"}),"."]}),e.jsxs("div",{className:j(In.table,{[In.reducePadding]:i}),children:[e.jsx(Va,{size:"small",uppercase:!0,weight:"bold",className:In.tableHeader,children:"reporting year"}),n.map(p=>e.jsxs("div",{className:In.row,children:[e.jsx("div",{className:In.year,children:p.reporting_year}),e.jsx(He,{href:`${s}/public/owners/tax-forms/${p.pdfToken}`,target:"_blank",icon:"download"})]},p.reporting_year))]}),i&&e.jsx(Zl,{})]})};Oi.propTypes={taxForms:o.array.isRequired};const Li=({onClose:n,taxForms:s,loading:i})=>i?e.jsx(q.Content,{noHeader:!0,noFooter:!0,children:e.jsx(mo,{})}):s?.length>0?e.jsx(Oi,{taxForms:s}):e.jsx(Di,{onClose:n});Li.propTypes={onClose:o.func.isRequired,taxForms:o.array,loading:o.bool.isRequired};const Bi=({entityId:n,onClose:s,open:i})=>{const{data:a,loading:c}=sn(Hl,{variables:{id:n},skip:!i});return e.jsx(q,{showCloseIcon:!0,size:"small",open:i,onClose:s,children:e.jsx(Li,{onClose:s,loading:c,taxForms:a?.taxForms})})};Bi.propTypes={entityId:o.string.isRequired,onClose:o.func.isRequired,open:o.bool.isRequired};const ar="kWInI",or="dQbXw",cr="wV0U4",lr="JtpWL",rr="i72hR",dr="ciT24",ur="Nkorz",mr="caGk8",pr="cGTm0",hr="-pO6v",br="TnJmT",fr="gxn2p",gr="InfOR",vr="p1Y3U",xr="UD5Lb",yr="FwnIa",kr="YPs63",Nr="mw0Sn",jr="fCTu9",Sr="FjjEI",_r="Abg2o",Cr="MNaqO",wr="B2-dg",Tr="H3hIA",te={account:ar,data:or,bankNickName:cr,nickName:lr,bankInfo:rr,bankIcon:dr,accountEnding:ur,updateBankButtonMobile:mr,actions:pr,updateBankButton:hr,noMarginRight:br,actionIcon:fr,changeBankBtn:gr,premiumAccount:vr,erroredAccount:xr,alertContainer:yr,alertIcon:kr,form:Nr,name:jr,formActions:Sr,formBtn:_r,deleteModal:Cr,iconWrapper:wr,modalDescription:Tr},qi=n=>{const{id:s,bankName:i,lastFourDigits:a,nickname:c,isPremium:u,hasMoreThanOneBankAccount:d,onUpdateBankAccountNickname:h,onRemoveBankAccount:p,status:m,handleChangeBank:t,isAssistant:l,accountRole:r}=n,b=m==="ERRORED",[f,v]=g.useState(!1),N=Bn();return e.jsxs("div",{className:j(te.account,{[te.premiumAccount]:u,[te.erroredAccount]:b}),children:[e.jsxs("div",{className:j(te.data,{[te.oneAccount]:!d}),children:[f?e.jsx(Qe,{onSubmit:async({nickname:y})=>{await h(s,y),v(!1)},subscription:{submitting:!0,values:!0},initialValues:{nickname:c},children:({handleSubmit:y,submitting:C})=>e.jsxs("form",{onSubmit:y,className:te.form,children:[e.jsx(Y,{component:$e,name:"nickname",id:"nickname",placeholder:"Enter nickname",className:te.name,validate:Ce(ae),maxLength:25,help:(A="")=>`${A.length} / 25 characters used`}),e.jsxs("div",{className:te.formActions,children:[e.jsx(_,{className:te.formBtn,type:"submit",loading:C,children:"Save"}),e.jsx(_,{className:te.formBtn,secondary:!0,onClick:()=>{v(!1)},children:"Cancel"})]})]})}):e.jsx("div",{className:te.bankNickName,children:e.jsx("span",{className:te.nickName,children:c||i})}),e.jsxs("div",{className:te.bankInfo,children:[e.jsx(Qt,{className:te.bankIcon,width:17,height:18}),e.jsxs("span",{className:te.accountEnding,children:["Checking account - ",a]})]}),b&&e.jsxs(li,{icon:Ti,type:"danger",containerClassName:te.alertContainer,iconClassName:te.alertIcon,children:["Funds cannot be deposited into this account."," "]}),b&&e.jsx(_,{className:te.updateBankButtonMobile,small:!0,variant:"danger",onClick:()=>t(s),disabled:l,"data-tooltip-id":"update-bank-mobile-tooltip",children:"update bank"}),l&&e.jsxs(we,{id:"update-bank-mobile-tooltip",children:["Your role as an ",r," does not allow you to perform this action."]})]}),e.jsxs("div",{className:te.actions,children:[b&&e.jsx(_,{className:j(te.updateBankButton,{[te.noMarginRight]:!u}),small:!0,variant:"danger",onClick:()=>t(s),disabled:l,"data-tooltip-id":"update-bank-tooltip",children:"update bank"}),l&&e.jsxs(we,{id:"update-bank-tooltip",children:["Your role as an ",r," does not allow you to perform this action."]}),u&&!f&&e.jsxs(Ze,{children:[e.jsx(Ze.Trigger,{disabled:l,children:e.jsx("span",{style:{cursor:"pointer"},"data-tooltip-id":"dropdown-actions-tooltip",children:e.jsx(Be,{name:"more-vertical",size:"md"})})}),e.jsxs(Ze.Content,{children:[e.jsx(Ze.Item,{as:"button",icon:po,onClick:()=>v(!0),children:"Edit Nickname"}),e.jsx(Ze.Item,{as:"button",icon:Qt,onClick:()=>t(s),children:"Change Bank"}),e.jsx(Ze.Item,{as:"button",icon:ri,onClick:()=>{d?p(s):N(y=>e.jsx(ho,{open:!0,onClose:y,title:"An entity must have at least one bank account assigned.",description:e.jsxs("div",{className:te.modalDescription,children:[e.jsxs("p",{children:["You have two options to remove the bank account ending in ",a,":"]}),e.jsxs("ul",{children:[e.jsx("li",{children:"Replace it with a new bank account - see “Change Bank” option in the menu options for this bank"}),e.jsx("li",{children:"Delete the entity on the Entity Settings page"})]})]}),buttonLabel:"OK",iconWrapperClassName:te.iconWrapper,className:te.deleteModal}))},children:"Delete"})]})]}),l&&e.jsxs(we,{id:"dropdown-actions-tooltip",children:["Your role as an ",r," does not allow you to perform this action."]}),!u&&!b&&e.jsx(_,{className:te.changeBankBtn,icon:Qt,iconProps:{className:te.actionIcon,width:16,height:15},tertiary:!0,onClick:()=>t(s),disabled:l,"data-tooltip-id":"change-bank-tooltip",children:"Change Bank"}),l&&e.jsxs(we,{id:"change-bank-tooltip",children:["Your role as an ",r," does not allow you to perform this action."]})]})]})};qi.propTypes={id:o.string,bankName:o.string,lastFourDigits:o.string,nickname:o.string,handleChangeBank:o.func,isPremium:o.bool.isRequired,hasMoreThanOneBankAccount:o.bool.isRequired,onRemoveBankAccount:o.func,onUpdateBankAccountNickname:o.func,status:o.string,isAssistant:o.bool,accountRole:o.string};const Pr="MvqQ9",Ar="qeKJT",Er="QG3DY",Ir="rL-0F",$r="KcUNj",Rr="A9rQY",Fr="CysJs",Mr="Pazkm",mn={container:Pr,header:Ar,buttons:Er,entityInfo:Ir,entityName:$r,entityType:Rr,entitySettings:Fr,addBankAccountBtn:Mr},Ui=({entity:n,isPremium:s,onRemoveBankAccount:i,isAssistant:a,accountRole:c})=>{const[u,d]=g.useState(!1),[h,p]=g.useState(null),m=an(),{id:t,active_external_accounts:l=[],entity_name:r,business_type:b}=n,f=l.length>1,v=l.length===0,[N]=bo(),{PRIVATE_BASE_PATH:y}=fe(),C=g.useCallback(()=>{x("tax_forms clicked",{location:"rent_payments_settings"}),p(!0)},[]),A=g.useCallback(()=>{x("entity_settings clicked",{location:"rent_payments_settings"}),d(!0)},[]),S=async(P,E)=>{try{await N({variables:{id:P,nickname:E}})}catch{pe("An error has occurred.")}},F=P=>{m(`${y}payments/bank-account/replace-bank-account/${P}`,{state:{redirectTo:`${y}settings/rent-payments`,fromSettings:!0,accountToBeReplaced:P,entityId:t}})};return e.jsxs(rn,{className:mn.container,children:[e.jsxs("div",{className:mn.header,children:[e.jsxs("div",{className:mn.entityInfo,children:[e.jsx("span",{className:mn.entityName,children:r}),e.jsx("span",{className:mn.entityType,children:b==="individual"?"personal":b})]}),e.jsxs("div",{className:mn.buttons,children:[e.jsx(nn,{className:mn.entitySettings,icon:ql,onClick:C,disabled:a,children:"Tax Forms"}),e.jsx(nn,{className:mn.entitySettings,icon:Ul,onClick:A,disabled:a,children:"Entity Settings"})]})]}),l&&l.map(P=>e.jsx(qi,{id:P.id,bankName:P.bank_name,lastFourDigits:P.last4,nickname:P.nickname,handleChangeBank:F,isPremium:s,hasMoreThanOneBankAccount:f,onRemoveBankAccount:i,onUpdateBankAccountNickname:S,status:P.status,isAssistant:a,accountRole:c},P.id)),v&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{variant:"outline",to:{pathname:`${y}settings/rent-payments/add-bank-account`,state:{entityId:t,fromSettings:!0}},className:mn.addBankAccountBtn,disabled:a,"data-tooltip-id":"add-bank-account-tooltip",children:"ADD A BANK ACCOUNT"}),a&&e.jsxs(we,{id:"add-bank-account-tooltip",children:["Your role as an ",c," does not allow you to perform this action."]})]}),e.jsx(di,{open:u,onClose:()=>{d(!1)},onPasswordValid:()=>{d(!1),m(`${y}settings/rent-payments/edit-entity/${n?.id}`)}}),e.jsx(Bi,{entityId:t,onClose:()=>p(!1),open:h})]})};Ui.propTypes={entity:o.object,isPremium:o.bool,onRemoveBankAccount:o.func,isAssistant:o.bool,accountRole:o.string};const Vi=({user:n,muaUser:s})=>{const[i,a]=g.useState(null),[c,u]=g.useState(null),[d,h]=g.useState(!1),p=Bn(),{GBB_PRO_YEARLY_119_PLAN_ID:m}=fe(),[t]=ui(mi.DISABLE_FAST_PAYOUTS),l=vt(s),r=qt(s),b=Ut[r],f=n?.premium_subscription_subscribed,v=n?.plan_name===m,N=n?.plan_name?.includes?.("essentials"),y=f&&!v&&!N,[C,A]=g.useState(n?.covers_ach_fee),S=f&&!t(),F=fo(n),{wantsOfflineTracking:P,hasUserFinishedPaymentsOnboarding:E,loading:k}=go(),{data:I,loading:L}=sn(fs),$=I?.entities||[],z=g.useMemo(()=>$?.reduce((B,le)=>({...B,[le.id]:le.active_external_accounts.find(on=>on.default_for_currency)}),{}),[$]),[ge,{loading:he}]=vo(),[ee]=U(xo,{refetchQueries:[{query:oe}]}),w=[{label:"The tenant will pay the $2 fee",value:!1},{label:"I will pay the $2 fee (deducted from the payment I receive)",value:!0}],Z=async B=>{try{await ge({variables:{id:B}}),a(null),ln("Bank account removed successfully")}catch(le){console.log(le),pe("An error has occurred.")}},X=g.useCallback(({openLocation:B=Ln.BANK_ACCOUNTS})=>{p(le=>e.jsx(Jn,{openLocation:B,onClose:le,singlePaymentAction:le,onSuccess:le,refetchQueries:[oe,me],benefitsType:"payments",copy:"multipleBankAccounts"}))},[]),Se=g.useCallback(()=>{p(B=>e.jsx(ml,{isFastPayoutEnabled:S,onClose:B,onSuccess:B}))},[S,n]),Ne=async B=>{try{A(B),h(!0),await ee({variables:{coverAchFee:B}}),ln(B?"You will now pay the ACH fee.":"Your tenant will now pay the ACH fee.")}catch(le){console.error(le),pe("Something went wrong, please try again."),A(!B)}finally{h(!1)}};return L||k?e.jsx(Ye,{loading:!0}):P&&!E?e.jsx(Fi,{onSubmit:()=>{p(B=>e.jsx($c,{firstName:n.first_name,open:!0,onClose:B}))},isAssistant:l,accountRole:b}):!F||F?.length===0||!E?e.jsx($i,{isAssistant:l,accountRole:b}):e.jsxs(e.Fragment,{children:[e.jsxs(ti,{className:ne.container,children:[e.jsx(Ri,{isPremium:f,openPremiumModal:X,isAssistant:l,accountRole:b}),e.jsx("div",{className:ne.accounts,children:$&&$.map(B=>e.jsx(Ui,{entity:B,isPremium:f,onRemoveBankAccount:le=>{u(z[B.id]?.id!==le?z[B.id]:B.active_external_accounts.find(on=>on.id!==le)),a(le)},isAssistant:l,accountRole:b},B.id))}),e.jsx(ks,{page:"rent_payments"}),e.jsx("hr",{className:ne.separator}),e.jsxs("div",{className:ne.achPayoutSpeed,children:[e.jsxs("h2",{className:ne.achPayoutSpeedHeader,children:["ACH Payout Speed:"," ",e.jsx("span",{children:S?"Expedited (2-4 business days)":"Standard (5-7 Business Days)"})]}),e.jsxs("p",{className:ne.achPayoutSpeedDescription,children:[S?"Payments may be deposited into your bank account before they clear your renter’s bank account.":e.jsxs(e.Fragment,{children:["Payments are only deposited into your bank account ",e.jsx("b",{children:"after"})," ","they clear a tenant’s bank account."]})," ",e.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.turbotenant.com/en/articles/4004080-rent-payments-guide#h_d4ab5d8ad9",className:ne.achPayoutSpeedLearnMore,children:[" ","Learn more about payout speed"]}),"."]}),S&&e.jsx(Ns,{className:ne.warning}),e.jsxs(Q,{className:j(ne.achPayoutSpeedChange,{[ne.premium]:f}),onClick:f?Se:X,disabled:l,"data-tooltip-id":"ach-payout-speed-tooltip",children:[e.jsx("span",{children:"CHANGE PAYOUT SPEED"}),!f&&e.jsx(os,{className:ne.achPayoutSpeedPremiumFlag})]}),l&&e.jsxs(we,{id:"ach-payout-speed-tooltip",children:["Your role as an ",b," does not allow you to perform this action."]})]}),e.jsx("div",{className:ne.achFee,children:e.jsxs(Ye,{loading:d,children:[e.jsxs("h2",{className:ne.achFeeHeader,children:["ACH Fee"," ",y&&e.jsx("span",{color:ke.successGreen,children:"(Waived)"})]}),y?e.jsx("p",{className:ne.achPayoutSpeedDescription,children:"There is usually a $2 fee for every payment made through a bank account, which the tenant is responsible for paying by default. Because you’re a Premium member, this fee is automatically waived!"}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:ne.achPayoutSpeedDescription,children:["There is a processing fee for all rent payments made through a bank account. By default, the tenant is responsible for covering these fees, but you have the option to pay the fee on behalf of your tenant. Or"," ",e.jsx("a",{className:ne.achPayoutSpeedLearnMore,onClick:X,children:"get this fee automatically waived"})," ","when you subscribe to Premium."]}),e.jsx("p",{className:ne.whoWillPayFee,children:"Who will pay the fee?"}),e.jsx(dt,{vertical:!0,options:w,input:{value:!!C,onChange:Ne}})]})]})})]}),e.jsx(yo,{onDeleteClick:()=>Z(i),isDeleteLoading:he,open:!!i,onCancel:()=>a(null),replacementBankAccount:c?.nickname||`${c?.bank_name} ${c?.last4}`})]})};Vi.propTypes={user:o.object,muaUser:o.object};const Dr=`mutation editEntity($id: String!, $data: StripeSetupInput) {
  editEntity(input: { id: $id, data: $data }) {
    ok
  }
}
`,Or={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"editEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NamedType",name:{kind:"Name",value:"StripeSetupInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editEntity"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:160,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Dr}}},Lr=()=>{const[n]=U(Or,{refetchQueries:[{query:oe},{query:fs}],awaitRefetchQueries:!0});return n},Br=`mutation removeEntity($id: String!) {
  removeEntity(input: { id: $id }) {
    ok
  }
}
`,qr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeEntity"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:126,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Br}}},Ur=()=>{const[n,{loading:s,client:i}]=U(qr,{refetchQueries:[{query:oe},{query:fs}],awaitRefetchQueries:!0});return[g.useCallback(async a=>{await n({variables:{id:a}}),i.resetStore()},[]),s]},Vr="GM8XQ",Hr="_66wDz",Yr="P-6PP",Gr="DqB4K",Qr="Zyr7K",st={modal:Vr,title:Hr,description:Yr,cancelButton:Gr,row:Qr},Hi=({entityId:n,open:s,onCancel:i,onSuccess:a,replacementEntity:c})=>{const u=qn(),[d,h]=Ur(),p=c?.active_external_accounts?.find(m=>m.default_for_currency);return e.jsxs(q,{className:st.modal,open:s,children:[e.jsx("h1",{className:st.title,children:"Are you sure? "}),e.jsxs("p",{className:st.description,children:["Any charges (or pending deposits) currently assigned to this entity's bank accounts will be"," ",e.jsxs("b",{children:["automatically assigned to the bank account"," ",e.jsxs("i",{children:[p?.nickname||p?.bank_name," -"," ",p?.bank_account_last4]})," ","(",c?.entity_name,")"]}),"."]}),e.jsxs("div",{className:st.row,children:[e.jsx(_,{onClick:i,secondary:!0,className:st.cancelButton,children:"Cancel"}),e.jsx(_,{onClick:async()=>{try{await d(n),a()}catch(m){const t=V(m,"graphQLErrors[0].message")||"Something went wrong";u(t)}},id:"confirm_delete_bank",loading:h,children:"Remove Entity"})]})]})};Hi.propTypes={onDeleteClick:o.func,isDeleteLoading:o.bool,open:o.bool,onCancel:o.func};const Wr="Uiygh",zr="Njr7k",Kr="_4Rdbd",Zr="KOEwO",St={container:Wr,removeEntityCard:zr,loader:Kr,withMargin:Zr},Xr=()=>{const n=an(),[s,i]=g.useState(!1),{entityId:a}=Ha(),{entities:c,loading:u}=Fc({fetchPolicy:"cache-and-network"}),{entity:d,refetch:h,loading:p}=ko(a),{user:m,loading:t}=vn({polling:!1}),l=Lr(),{PRIVATE_BASE_PATH:r}=fe(),b=m?.premium_subscription_subscribed,f=c.length>1,v=b&&f,N=m?.payments_data?.id===a,[y,C]=c,A=N?C:y,S=(A?.active_external_accounts||[]).length>0,F=p||t||u,P=g.useCallback(async k=>{x("entity_changes saved",{location:"edit_entity_form"});const I=await l({variables:{id:a,data:k}});return await h(),I?.data?.editEntity},[a,l,h]),E=g.useCallback(k=>{ln(k||"Entity successfully updated."),n(`${r}settings/rent-payments`,{replace:!0})},[ln,n]);return e.jsxs(Ye,{loading:F,message:"Fetching entity information...",hideContent:!0,className:j(St.loader,{[St.withMargin]:F}),children:[e.jsx(No,{title:"Edit Entity",entity:d,user:m,withDescription:!1,submitLabel:"SAVE",customSaveOperation:P,onSuccess:E,className:St.container,withUnsavedChangesPrompt:!0,inProduct:!0}),v&&e.jsxs(e.Fragment,{children:[e.jsxs(rn,{className:St.removeEntityCard,children:[e.jsx("h1",{children:"Remove Entity"}),e.jsx(Q,{disabled:!S,type:"danger",variant:"outline",onClick:()=>i(!0),width:232,children:"REMOVE ENTITY"})]}),e.jsx(Hi,{entityId:d?.id,replacementEntity:A,open:s,onSuccess:()=>{x("entity removed",{location:"edit_entity_form"}),i(!1),E("Entity successfully removed.")},onCancel:()=>i(!1)})]})]})},Jr=`#import "../../fragments/premium_plus_subscription_info.fragment.graphql"

mutation reactivatePremiumPlusSubscription(
  $shouldReactivateVIPSupportAddon: Boolean
) {
  reactivatePremiumPlusSubscription(
    input: { shouldReactivateVIPSupportAddon: $shouldReactivateVIPSupportAddon }
  ) {
    premiumSubscriptionInfo {
      ...PremiumPlusSubscriptionInfoFragment
    }
  }
}
`,$t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"reactivatePremiumPlusSubscription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shouldReactivateVIPSupportAddon"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactivatePremiumPlusSubscription"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"shouldReactivateVIPSupportAddon"},value:{kind:"Variable",name:{kind:"Name",value:"shouldReactivateVIPSupportAddon"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"premiumSubscriptionInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PremiumPlusSubscriptionInfoFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:416,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Jr}}},ed=n=>{const s={};return n.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const a=i.name.value;return s[a]?!1:(s[a]=!0,!0)})};$t.definitions=ed($t.definitions.concat(et.definitions));const nd=(n,s)=>{const i=(t,l)=>{if(t.kind==="FragmentSpread")l.add(t.name.value);else if(t.kind==="VariableDefinition"){const r=t.type;r.kind==="NamedType"&&l.add(r.name.value)}return t&&"selectionSet"in t&&t.selectionSet&&t.selectionSet.selections.forEach(r=>{i(r,l)}),t&&"variableDefinitions"in t&&t.variableDefinitions&&t.variableDefinitions.forEach(r=>{i(r,l)}),t&&"definitions"in t&&t.definitions&&t.definitions.forEach(r=>{i(r,l)}),l},a=t=>{const l={};return t.definitions.forEach(function(r){"name"in r&&r.name&&(l[r.name.value]=i(r,new Set))}),l},c=(t,l)=>{for(let r=0;r<t.definitions.length;r++){const b=t.definitions[r];if(b&&"name"in b&&b.name&&b.name.value==l)return b}},u=a(n),d=Object.assign({},n,{definitions:[c(n,s)]}),h=u[s]||new Set,p=new Set;let m=new Set;for(h.forEach(t=>{m.add(t)});m.size>0;){const t=m;m=new Set,t.forEach(l=>{p.has(l)||(p.add(l),(u[l]||new Set).forEach(b=>{m.add(b)}))})}return p.forEach(t=>{const l=c(n,t);l&&d.definitions.push(l)}),d};nd($t,"reactivatePremiumPlusSubscription");const td=`#import "../../fragments/premium_plus_subscription_info.fragment.graphql"

mutation reactivateREIHubSubscription {
  reactivateREIHubSubscription {
    premiumSubscriptionInfo {
      ...PremiumPlusSubscriptionInfoFragment
    }
  }
}
`,Rt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"reactivateREIHubSubscription"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactivateREIHubSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"premiumSubscriptionInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PremiumPlusSubscriptionInfoFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:273,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:td}}},sd=n=>{const s={};return n.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const a=i.name.value;return s[a]?!1:(s[a]=!0,!0)})};Rt.definitions=sd(Rt.definitions.concat(et.definitions));const id=(n,s)=>{const i=(t,l)=>{if(t.kind==="FragmentSpread")l.add(t.name.value);else if(t.kind==="VariableDefinition"){const r=t.type;r.kind==="NamedType"&&l.add(r.name.value)}return t&&"selectionSet"in t&&t.selectionSet&&t.selectionSet.selections.forEach(r=>{i(r,l)}),t&&"variableDefinitions"in t&&t.variableDefinitions&&t.variableDefinitions.forEach(r=>{i(r,l)}),t&&"definitions"in t&&t.definitions&&t.definitions.forEach(r=>{i(r,l)}),l},a=t=>{const l={};return t.definitions.forEach(function(r){"name"in r&&r.name&&(l[r.name.value]=i(r,new Set))}),l},c=(t,l)=>{for(let r=0;r<t.definitions.length;r++){const b=t.definitions[r];if(b&&"name"in b&&b.name&&b.name.value==l)return b}},u=a(n),d=Object.assign({},n,{definitions:[c(n,s)]}),h=u[s]||new Set,p=new Set;let m=new Set;for(h.forEach(t=>{m.add(t)});m.size>0;){const t=m;m=new Set,t.forEach(l=>{p.has(l)||(p.add(l),(u[l]||new Set).forEach(b=>{m.add(b)}))})}return p.forEach(t=>{const l=c(n,t);l&&d.definitions.push(l)}),d};id(Rt,"reactivateREIHubSubscription");const Yi=n=>{n&&window.Intercom&&window.Intercom("trackEvent",n),window.Intercom&&window.Intercom("show");let s=!1;window.Intercom&&window.Intercom("onShow",function(){s=!0}),setTimeout(()=>{s||window.atatus.notify("intercom bubble not present")},2e3)},ad="K8px8",od="sps8U",cd="gOqTk",ld="_7KcQi",rd="m3lnr",dd="LFzr1",ud="qfQyq",md="Hes0Z",pd="PWmEh",hd="jS7Ku",bd="bvukt",fd="XKDzY",gd="V3hkv",vd="YsdEY",xd="_2T71L",yd="jSXBL",J={container:ad,header:od,left:cd,title:ld,status:rd,inactive:dd,canceled:ud,active:md,manageBtn:pd,content:hd,description:bd,canceledDescription:fd,renewText:gd,checklistLink:vd,learnMoreButton:xd,reactivateButton:yd},kd=n=>{const s=n?.current??null,i=n?.status??null,a=s?.current_period_end??null,c=s?.trial_end??null,u=s?.upcoming_invoice?.amount_due??null,d=u?u/100:0;return{status:i,currentPeriodEnd:a,trialEnd:c,upcomingInvoiceAmount:d}},Nd={[R.ACTIVE]:{text:"Active",style:J.active},[R.TRIALING]:{text:"Active",style:J.active},[R.CANCELED]:{text:"Canceled",style:J.canceled},PAUSED:{text:"Active",style:J.active}},jd=(n,s)=>!n||!s?{text:"Inactive",style:J.inactive}:Nd[s]??{text:"Canceled",style:J.canceled},Gi=n=>n?Ae(n):"",Sd=(n,s)=>n==="PAUSED"||n!==R.CANCELED||!s?!1:new Date(s)>=new Date,_d=({currentPeriodEnd:n})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:J.content,children:e.jsxs("p",{className:j(J.description,J.canceledDescription),children:["Your Autopilot subscription is"," ",e.jsxs("strong",{children:["active until ",Gi(n)]}),". At that point your account will revert back to the free plan, and you will no longer have access to Autopilot's fully managed services."]})}),e.jsx(wn,{to:"/onboarding/how-it-works",className:J.reactivateButton,children:"REACTIVATE"})]}),Cd=({currentPeriodEnd:n,upcomingInvoiceAmount:s})=>e.jsxs("div",{className:J.content,children:[e.jsxs("p",{className:J.description,children:["Your Fully Managed subscription is active. Our team has your rental covered."," ",e.jsx("button",{type:"button",className:J.checklistLink,onClick:()=>{Yi("autopilot_reach_out_clicked")},children:"Reach out any time with questions."})]}),e.jsxs("p",{className:J.renewText,children:[e.jsxs("strong",{children:["When you renew on ",Gi(n),","]})," your card will be charged $",s.toFixed(2),"."]})]}),wd=({upcomingInvoiceAmount:n})=>e.jsxs("div",{className:J.content,children:[e.jsxs("p",{className:J.description,children:["Your Fully Managed subscription is active, but billing won't begin until we find a qualified tenant for you."," ",e.jsx(wn,{to:"/owners/properties",className:J.checklistLink,children:"Visit the Tenant Placement tab of a rental that's on Autopilot to see what's next."})]}),e.jsxs("p",{className:J.renewText,children:[e.jsx("strong",{children:"When your new tenant signs the lease,"})," your card will be charged $",n.toFixed(2),"."]})]}),Td=()=>e.jsxs("div",{className:J.content,children:[e.jsx("p",{className:j(J.description,J.canceledDescription),children:"Activate your Fully Managed subscription and we'll handle the management. We combine smart technology with real people to help you earn more, save time and cut costs."}),e.jsx(Q,{type:"primary",to:"/onboarding/how-it-works",width:176,variant:"outline",className:J.learnMoreButton,children:"Learn more"})]}),Pd=({info:n})=>{const{PRIVATE_BASE_PATH:s}=fe(),{user:i}=vn(),c=pi(i,cs.GT_AP_HOW_IT_WORKS.name,"")===cs.GT_AP_HOW_IT_WORKS.variants.variant_1,{status:u,currentPeriodEnd:d,upcomingInvoiceAmount:h}=kd(n),p=c?150:h,m=u==="PAUSED"?R.ACTIVE:u,t=!!(n&&u&&n.current),l=Sd(m,d),r=!t||m===R.CANCELED&&!l?null:m,f=jd(n,l?m:r),v=!!(t&&r),N=u==="PAUSED"||r===R.TRIALING||r===R.ACTIVE,y={currentPeriodEnd:d,upcomingInvoiceAmount:p},C=()=>u==="PAUSED"||r===R.TRIALING?wd(y):r===R.ACTIVE?Cd(y):null;return e.jsxs("div",{className:J.container,children:[e.jsxs("div",{className:J.header,children:[e.jsxs("div",{className:J.left,children:[e.jsx("h3",{className:J.title,children:"Autopilot:"}),e.jsx("span",{className:j(J.status,f.style),children:f.text})]}),N&&e.jsx(Q,{type:"primary",variant:"outline",size:"sm",className:J.manageBtn,onClick:()=>{x("autopilot_manage_plan clicked",{location:"Billing Screen"}),Yi("autopilot_manage_plan_clicked")},children:"Manage Plan"})]}),l&&_d(y),!l&&(v?C():Td())]})},Ad="_864BF",Ed="bed9a",Xt={container:Ad,buttonHolder:Ed},Id=({paymentMethod:n,onUpdateCard:s,blockCardRemoval:i,isAssistant:a})=>{const c=!!n;return e.jsxs("div",{className:Xt.container,children:[e.jsx(xe,{id:"settings-card-title",className:"mb-4",children:c?"Billing Method":"No Billing Method on File"}),e.jsx(T,{className:"mb-8",children:"This is the payment method you have on file for making TurboTenant purchases."}),e.jsxs("div",{children:[c&&e.jsx(Dc,{paymentMethod:n,removable:!i&&!a,editable:!a,onEdit:s,hideLabels:!0,isBillingPaymentMethod:!0}),!c&&e.jsxs("div",{className:Xt.buttonHolder,children:[e.jsx("div",{"data-tooltip-id":"settings-update-card","data-tooltip-hidden":!a,children:e.jsx(Q,{id:"settings-add-card-btn",size:"md",onClick:s,className:Xt.add,variant:"outline",disabled:a,children:"Add A Card"})}),e.jsx(we,{id:"settings-update-card",children:e.jsx("span",{children:"Your role as an assistant does not allow you to perform this action."})})]})]})]})},$d="mP4K3",Rd="_6jb2j",Fd="nCYhg",Md="VqO0Z",Dd="xVVOj",Od="QRwLb",Ld="jVY6p",Bd="cphnz",qd="ZqWFb",Ud="dwfB2",Vd="_3XG7d",Me={container:$d,columnDate:Rd,columnDescription:Fd,columnDateAndDescription:Md,columnReceiptInfo:Dd,columnAmount:Od,label:Ld,td:Bd,table:qd,tr:Ud,downloadReceiptButton:Vd},Hd=()=>{const{data:n,loading:s}=sn(Lc,{fetchPolicy:"network-only"}),{REI_HUB_INCLUDED_IN_PREMIUM_SHORT_CODE:i}=fe();if(s||!n?.receipts?.length)return null;const{receipts:a}=n;return e.jsxs("div",{className:Me.container,children:[e.jsx(Xn,{children:"Receipts"}),e.jsxs("div",{className:Me.table,children:[e.jsxs("div",{className:Me.td,children:[e.jsxs("div",{className:Me.columnReceiptInfo,children:[e.jsx("span",{className:Me.columnDate,children:"DATE"}),e.jsx("span",{className:Me.columnDescription,children:"DESCRIPTION"})]}),e.jsx("div",{className:Me.columnAmount,children:e.jsx("span",{className:Me.label,children:"AMOUNT"})})]}),a.filter(c=>c.payment_type!==i).map(c=>e.jsxs("div",{className:Me.tr,id:`${c.payment_type}`,children:[e.jsxs("div",{className:Me.columnDateAndDescription,children:[e.jsx("span",{className:Me.columnDate,children:e.jsx("b",{children:e.jsx(jo,{date:c?.date,format:"MM/DD/YYYY",timezone:c?.listing_tz,dateOnly:c?.is_offline})})}),e.jsxs("span",{className:Me.columnDescription,children:[c.description==="Online Application"?"Screening Fee":c.description," ",c.promo_code?e.jsxs("em",{children:["(Applied: ",c.promo_code.toUpperCase()," ",c.amount_off?So(hi(c.amount_off)):null,c.percent_off?`${c.percent_off}%`:null," Off",")"]}):null]})]}),e.jsxs("div",{"data-qa":"column-amount",className:Me.columnAmount,children:[e.jsxs("strong",{children:["$ ",c.amount]}),e.jsx(Oc,{paymentStatus:c.receipt_status,id:c.id,className:Me.downloadReceiptButton,type:c.payment_type})]})]},`receipt-item-${c.id}`))]})]})},Yd="t-68r",Gd="Oj7AJ",Qd="fiz7w",Wd="nj1KS",zd="R3gWf",Kd="CWRb8",Vn={container:Yd,title:Gd,desc:Qd,secDesc:Wd,list:zd,buttonHolder:Kd},_s=({onDone:n,onClose:s,renewDate:i})=>e.jsxs(q,{open:!0,className:Vn.container,children:[e.jsx("h2",{className:Vn.title,children:"Cancel Maintenance Plus?"}),e.jsxs("p",{className:Vn.desc,children:["If you cancel, your Maintenance Plus subscription will be active until"," ",i,". This will not cancel any current Lula work."]}),e.jsxs("p",{className:Vn.secDesc,children:[e.jsx("b",{children:"You’ll lose out on:"})," "]}),e.jsxs("ul",{className:Vn.list,children:[e.jsx("li",{children:"24/7 expert troubleshooting with tenant"}),e.jsx("li",{children:"Scheduling directly between Pro and tenant"}),e.jsx("li",{children:"Real-time updates with before & after photos"}),e.jsx("li",{children:"Final work reviewed to ensure quality standards"})]}),e.jsxs("div",{className:Vn.buttonHolder,children:[e.jsx(_,{onClick:s,secondary:!0,children:"Nevermind"}),e.jsx(_,{onClick:n,children:"Cancel Subscription"})]})]});_s.propTypes={onClose:o.func,onDone:o.func,renewDate:o.string};_s.defaultProps={onClose:()=>{},onDone:()=>{},renewDate:""};const Zd=`#import "../../fragments/maintenance_plus_subscription_info.fragment.graphql"

mutation cancelMaintenancePlus($subscriptionId: String!) {
  cancelMaintenancePlus(input: { subscriptionId: $subscriptionId }) {
    maintenancePlusSubscriptionInfo {
      ...MaintenancePlusSubscriptionInfoFragment
    }
  }
}
`,Ft={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"cancelMaintenancePlus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subscriptionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelMaintenancePlus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"subscriptionId"},value:{kind:"Variable",name:{kind:"Name",value:"subscriptionId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"maintenancePlusSubscriptionInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MaintenancePlusSubscriptionInfoFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:345,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Zd}}},Xd=n=>{const s={};return n.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const a=i.name.value;return s[a]?!1:(s[a]=!0,!0)})};Ft.definitions=Xd(Ft.definitions.concat(_o.definitions));const Jd=(n,s)=>{const i=(t,l)=>{if(t.kind==="FragmentSpread")l.add(t.name.value);else if(t.kind==="VariableDefinition"){const r=t.type;r.kind==="NamedType"&&l.add(r.name.value)}return t&&"selectionSet"in t&&t.selectionSet&&t.selectionSet.selections.forEach(r=>{i(r,l)}),t&&"variableDefinitions"in t&&t.variableDefinitions&&t.variableDefinitions.forEach(r=>{i(r,l)}),t&&"definitions"in t&&t.definitions&&t.definitions.forEach(r=>{i(r,l)}),l},a=t=>{const l={};return t.definitions.forEach(function(r){"name"in r&&r.name&&(l[r.name.value]=i(r,new Set))}),l},c=(t,l)=>{for(let r=0;r<t.definitions.length;r++){const b=t.definitions[r];if(b&&"name"in b&&b.name&&b.name.value==l)return b}},u=a(n),d=Object.assign({},n,{definitions:[c(n,s)]}),h=u[s]||new Set,p=new Set;let m=new Set;for(h.forEach(t=>{m.add(t)});m.size>0;){const t=m;m=new Set,t.forEach(l=>{p.has(l)||(p.add(l),(u[l]||new Set).forEach(b=>{m.add(b)}))})}return p.forEach(t=>{const l=c(n,t);l&&d.definitions.push(l)}),d};Jd(Ft,"cancelMaintenancePlus");const eu="jjhGX",nu="EVPmc",tu="YiI-C",su="koAMH",iu="Z26hQ",au="wwrAo",ou="yRe7H",cu="kCPPk",lu="_9622P",ru="Irl7D",du="_2g8uf",uu="GMqDa",Re={container:eu,header:nu,left:tu,title:su,status:iu,inactive:au,canceled:ou,active:cu,cancelButton:lu,content:ru,description:du,button:uu},Qi=({info:n,user:s})=>{const[i,a]=g.useState(!1),c=V(s,"maintenance_plus_subscription_subscribed",!1),u=n.current,d=n.status,h=V(n,"current.current_period_end",null),p=gt(),{PRIVATE_BASE_PATH:m}=fe(),[t,{loading:l}]=U(Ft,{refetchQueries:[{query:me},{query:oe}]}),r=async(v={})=>{try{await t({variables:{subscriptionId:u.id,...v}}),ln("Maintenance Plus subscription canceled. You will no longer be charged.")}catch{pe("An error has occurred")}};let b,f;return c?d===R.ACTIVE?(b="Active",f=Re.active):d===R.PAST_DUE?(b="Past due",f=Re.canceled):(b="Canceled",f=Re.canceled):(b="Inactive",f=Re.inactive),e.jsxs("div",{className:Re.container,id:"maintenance-plus",children:[e.jsxs("div",{className:Re.header,children:[e.jsx("div",{className:Re.left,children:e.jsxs("h3",{className:Re.title,children:["Maintenance Plus Subscription:",e.jsx("span",{className:j(Re.status,f),children:b})]})}),d===R.ACTIVE?e.jsx(nn,{loading:l,onClick:()=>{a(!0)},className:Re.cancelButton,children:p?"cancel":"cancel subscription"}):null]}),e.jsxs("div",{className:Re.content,children:[!c&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:Re.description,children:"With Maintenance Plus, TurboTenant partnered with Lula to handle your inbound maintenance requests, troubleshoot issues directly with your tenant, and send a vetted Pro to your rental (if necessary) - all while keeping quality and price top of mind."}),e.jsx(Q,{className:Re.button,secondary:!0,to:`${m}maintenance/maintenance-requests`,children:"View Maintenance"})]}),c&&d===R.ACTIVE&&e.jsx("p",{className:Re.description,children:"You're currently enjoying seamless handling of inbound maintenance requests, direct troubleshooting with your tenant, and the option to dispatch a vetted Pro to your rental."}),c&&d!==R.ACTIVE&&e.jsxs("p",{className:Re.description,children:["Your Maintenance Plus subscription is"," ",e.jsxs("strong",{children:["active until ",Ae(h)]}),"."]}),i?e.jsx(_s,{onClose:()=>a(!1),onDone:()=>{r(),a(!1)},renewDate:Ae(h)}):null]})]})};Qi.propTypes={info:o.object,user:o.object};const mu="NNa33",pu="FhZ3X",hu="SXC-a",bu="b8Adv",fu="dLIUx",gu="APPM0",Hn={container:mu,iconHolder:pu,title:hu,description:bu,buttonHolder:fu,modal:gu},Cs=({onClose:n,isOpen:s,discount:i})=>e.jsx(q,{open:s,className:Hn.modal,onClose:n,children:e.jsxs("div",{className:Hn.container,children:[e.jsx("div",{className:Hn.iconHolder,children:e.jsx(xt,{})}),e.jsx("h2",{className:Hn.title,children:"Discount automatically applied!"}),e.jsxs("p",{className:Hn.description,children:["You will see your ",e.jsxs("span",{children:["$",i]})," discount automatically applied when it's time to renew. Thanks for being a subscriber!"]}),e.jsx("div",{className:Hn.buttonHolder,children:e.jsx(_,{onClick:n,children:"sounds good"})})]})});Cs.propTypes={onClose:o.func.isRequired,isOpen:o.bool.isRequired,discount:o.number};Cs.defaultProps={onClose:()=>{},isOpen:!1,discount:25};const vu="ORVWr",xu="cCkqK",yu="g6vle",ku="X46LS",Nu="fIAnX",ju="_93wVM",Su="PC9mK",_u="NhdTh",Cu="Hk3hB",wu="P7YCp",Tu="OVGjn",Pu="gmODw",Au="YxNNX",Eu="_3OYau",Iu="omRAy",$u="l3l7i",Ru="bQ0WY",_e={container:vu,icon:xu,contentHolder:yu,title:ku,description:Nu,discountSummary:ju,row:Su,discount:_u,divider:Cu,total:wu,desc:Tu,price:Pu,perMonth:Au,perYear:Eu,buttonHolder:Iu,mainButton:$u,flatButton:Ru},ws=({open:n,onDone:s,onCancel:i,billedOn:a,premiumPrice:c,className:u,onClose:d,loadingCoupon:h,discount:p})=>{const m=c-p;return e.jsxs(q,{open:n,className:j(_e.container,u),onClose:d,children:[e.jsx("div",{className:_e.icon,children:e.jsx(xt,{})}),e.jsxs("div",{className:_e.contentHolder,children:[e.jsxs("h2",{className:_e.title,children:["Before you go, get ",e.jsxs("span",{children:["$",p]})," off when it's time to renew!"]}),e.jsx("p",{className:_e.description,children:"Don't lose access to your Premium exclusive benefits! Here's a gift for continuing your Premium subscription."}),e.jsxs("div",{className:_e.discountSummary,children:[e.jsxs("div",{className:_e.row,children:[e.jsx("span",{children:"SUBSCRIPTION PRICE"}),e.jsxs("span",{children:["$",c]})]}),e.jsxs("div",{className:_e.row,children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{className:_e.discount,children:["-$",p]})]})]}),e.jsx(On,{text:"",className:_e.divider}),e.jsxs("div",{className:_e.total,children:[e.jsxs("div",{className:_e.desc,children:[e.jsx("p",{children:"YOUR PRICE"}),e.jsxs("span",{children:["Billed annually on ",a]})]}),e.jsxs("div",{className:_e.price,children:[e.jsxs("span",{className:_e.perMonth,children:[" ","$",parseFloat(m/12).toFixed(2),"/month"]}),e.jsxs("span",{className:_e.perYear,children:["$",m]})]})]}),e.jsxs("div",{className:_e.buttonHolder,children:[e.jsx(_,{onClick:s,className:_e.mainButton,loading:h,children:"claim discount"}),e.jsx(nn,{onClick:i,className:_e.flatButton,children:"no thanks, i still want to cancel"})]})]})]})};ws.propTypes={billedOn:o.string,premiumPrice:o.number,discount:o.number,onCancel:o.func,onDone:o.func,className:o.string,open:o.bool};ws.defaultProps={onCancel:()=>{},onDone:()=>{},date:"",billedOn:"",premiumPrice:""};const Fu="VLBr2",Mu="X6b01",Du="UEtY8",Ou="wHFp4",Lu="ZjOXQ",it={container:Fu,title:Mu,secDesc:Du,list:Ou,buttonHolder:Lu},Ws=["Rental Accounting with REI Hub","Custom Pre-screener & Application Questions","Income Insights",e.jsxs(e.Fragment,{children:["Lower Screening Fees — ",e.jsx("i",{children:"$45 instead of $55"})]}),"Marketing Call Forwarding","Unlimited E-Signatures",e.jsxs(e.Fragment,{children:["Free ACH Payments — ",e.jsx("i",{children:"Normally $2"})]}),"Unlimited Bank Accounts",e.jsxs(e.Fragment,{children:["Unlimited Lease Agreements — ",e.jsx("i",{children:"Normally $59"})]}),"Unlimited Lease Addendums",e.jsxs(e.Fragment,{children:["Landlord Forms Pack — ",e.jsx("i",{children:"Normally $199"})]}),e.jsxs(e.Fragment,{children:["Deposits in 2-4 Business Days — ",e.jsx("i",{children:"Normally 5-7"})]}),e.jsxs(e.Fragment,{children:["Phone Support — ",e.jsx("i",{children:"Normally chat support only"})]}),e.jsxs(e.Fragment,{children:["Priority Chat Support — ",e.jsx("i",{children:"We respond to you faster!"})]})],Bu=["Custom Pre-screener & Application Questions","Unlimited Lease Agreements","Unlimited Lease Addendums","Landlord Forms Pack",e.jsxs(e.Fragment,{children:["Deposits in 2-4 Business Days ",e.jsx("i",{children:"— Normally 5-7"})]}),e.jsxs(e.Fragment,{children:["Phone Support ",e.jsx("i",{children:"— Normally chat support only"})]}),e.jsxs(e.Fragment,{children:["Priority Chat Support ",e.jsx("i",{children:"— We respond to you faster!"})]})],Gt=({onDone:n,onClose:s,isProPlan:i=!1,isPremiumPlusPlan:a=!1,location:c})=>(g.useEffect(()=>{x("cancel_subscription modal loaded",{location:c})},[]),e.jsxs(q,{open:!0,className:it.container,children:[e.jsx("h2",{className:it.title,children:"Cancel your subscription?"}),e.jsxs("p",{className:it.secDesc,children:["If you continue, ",e.jsx("b",{children:"you will lose access to"}),":"," "]}),e.jsx("ul",{className:it.list,children:i?e.jsx(e.Fragment,{children:Bu.map((u,d)=>e.jsx("li",{children:e.jsx("span",{children:u})},`li-${d}`))}):e.jsx(e.Fragment,{children:(a?Ws:Ws.slice(1)).map((u,d)=>e.jsx("li",{children:e.jsx("span",{children:u})},`li-${d}`))})}),e.jsxs("div",{className:it.buttonHolder,children:[e.jsx(_,{onClick:s,secondary:!0,children:"Nevermind"}),e.jsx(_,{onClick:n,children:"Yes, Continue"})]})]}));Gt.propTypes={onClose:o.func,onDone:o.func,date:o.string,renewDate:o.string,isProPlan:o.bool,isPremiumPlusPlan:o.bool,location:o.string};Gt.defaultProps={onClose:()=>{},onDone:()=>{},date:""};function qu(n,s){return[{label:"I no longer have a rental property",value:"NO_LONGER_HAVE_RENTAL_PROPERTY",id:"NO_LONGER_HAVE_RENTAL_PROPERTY"},{label:"I am hiring a property manager",value:"HIRED_PROPERTY_MANAGER",id:"HIRED_PROPERTY_MANAGER"},{label:"I'm switching property management software",value:"SWITCHING_SOFTWARE",id:"SWITCHING_SOFTWARE"},{label:`I no longer need the ${n?"Pro":`Premium${s?" Plus":""}`} features`,value:"DONT_NEED_PREMIUM",id:"DONT_NEED_PREMIUM"},{label:"I don't want it to auto-renew",value:"DONT_WANT_TO_AUTO_RENEW",id:"DONT_WANT_TO_AUTO_RENEW"},{label:"Something else",value:"SOMETHING_ELSE",id:"SOMETHING_ELSE",additionalInput:{label:"Please specify:",value:"SOMETHING_ELSE_INPUT",id:"SOMETHING_ELSE_INPUT",isOptional:!0,name:"something_else_input"}}]}const Uu="_6fvPB",Vu="_9dj0y",Hu="-DC36",Yu="_1cVXq",_t={modal:Uu,title:Vu,fieldLabel:Hu,buttonHolder:Yu},ht=({onDone:n,isOpen:s,onClose:i,className:a,isProPlan:c=!1,isPremiumPlusPlan:u=!1})=>{const d={cancel_premium_reasons:[]},h=async p=>{await n?.(p)};return e.jsxs(q,{open:s,className:j(_t.modal,{[a]:a!=null}),onClose:i,children:[e.jsxs("h2",{className:_t.title,children:["Why are you canceling"," ",c?"Pro":`Premium${u?" Plus":""}`,"?"]}),e.jsx(Qe,{onSubmit:h,initialValues:d,keepDirtyOnReinitialize:!0,subscription:{submitting:!0,values:!0},children:({handleSubmit:p,submitting:m})=>e.jsxs("form",{onSubmit:p,children:[e.jsx(Vt,{}),e.jsx(Ai,{id:"cancel_premium_reasons",name:"cancel_premium_reasons",label:"We value your feedback.",labelProps:{className:_t.fieldLabel},options:qu(c,u)}),e.jsx("div",{className:_t.buttonHolder,children:e.jsx(_,{type:"submit",loading:m,id:"submit_cancel_premium_reasons",children:"Submit"})})]})})]})};ht.propTypes={onDone:o.func.isRequired,isOpen:o.bool.isRequired,isProPlan:o.bool,isPremiumPlusPlan:o.bool};ht.defaultProps={onDone:()=>{},isOpen:!1};const Gu="C9nmu",Qu="efC1h",Wu="LSFxR",zu="Kh30X",Ku="wW-q-",Zu="R4LBe",Yn={upgradeBanner:Gu,icon:Qu,circle:Wu,title:zu,description:Ku,cta:Zu},Xu=()=>{const n=an(),s=Ya(),i=()=>{x("upgrade_plan clicked",{location:"Billing"});const a=new URLSearchParams(s.search);a.set("showUpgradeModal","true"),n({pathname:s.pathname,search:a.toString()},{replace:!0})};return e.jsxs("div",{className:Yn.upgradeBanner,children:[e.jsx(bi,{className:Yn.icon,color:"#033A6D",starColor:"#FF9250"}),e.jsx("div",{children:e.jsx("div",{className:Yn.circle,children:e.jsx(Ga,{name:"reputation"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:Yn.title,children:"Get the most out of TurboTenant"}),e.jsx("p",{className:Yn.description,children:"Get access to unlimited e-signatures, free ACH payments, income analysis, lower screening fees, and more!"})]}),e.jsx("div",{children:e.jsx(_,{className:Yn.cta,onClick:i,children:"Upgrade Plan"})})]})},Ju=`mutation cancelPremiumQuestionnaire(
  $cancelReason: CancelPremiumQuestionnaireInput
) {
  cancelPremiumQuestionnaire(input: { cancelReason: $cancelReason }) {
    ok
  }
}
`,Wi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"cancelPremiumQuestionnaire"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cancelReason"}},type:{kind:"NamedType",name:{kind:"Name",value:"CancelPremiumQuestionnaireInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelPremiumQuestionnaire"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"cancelReason"},value:{kind:"Variable",name:{kind:"Name",value:"cancelReason"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:212,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Ju}}},em=`#import "../../fragments/premium_plus_subscription_info.fragment.graphql"

mutation cancelPremiumPlusSubscription($subscriptionId: String!) {
  cancelPremiumPlusSubscription(input: { subscriptionId: $subscriptionId }) {
    premiumSubscriptionInfo {
      ...PremiumPlusSubscriptionInfoFragment
    }
  }
}
`,bt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"cancelPremiumPlusSubscription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subscriptionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelPremiumPlusSubscription"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"subscriptionId"},value:{kind:"Variable",name:{kind:"Name",value:"subscriptionId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"premiumSubscriptionInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PremiumPlusSubscriptionInfoFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:345,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:em}}},nm=n=>{const s={};return n.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const a=i.name.value;return s[a]?!1:(s[a]=!0,!0)})};bt.definitions=nm(bt.definitions.concat(et.definitions));const tm=(n,s)=>{const i=(t,l)=>{if(t.kind==="FragmentSpread")l.add(t.name.value);else if(t.kind==="VariableDefinition"){const r=t.type;r.kind==="NamedType"&&l.add(r.name.value)}return t&&"selectionSet"in t&&t.selectionSet&&t.selectionSet.selections.forEach(r=>{i(r,l)}),t&&"variableDefinitions"in t&&t.variableDefinitions&&t.variableDefinitions.forEach(r=>{i(r,l)}),t&&"definitions"in t&&t.definitions&&t.definitions.forEach(r=>{i(r,l)}),l},a=t=>{const l={};return t.definitions.forEach(function(r){"name"in r&&r.name&&(l[r.name.value]=i(r,new Set))}),l},c=(t,l)=>{for(let r=0;r<t.definitions.length;r++){const b=t.definitions[r];if(b&&"name"in b&&b.name&&b.name.value==l)return b}},u=a(n),d=Object.assign({},n,{definitions:[c(n,s)]}),h=u[s]||new Set,p=new Set;let m=new Set;for(h.forEach(t=>{m.add(t)});m.size>0;){const t=m;m=new Set,t.forEach(l=>{p.has(l)||(p.add(l),(u[l]||new Set).forEach(b=>{m.add(b)}))})}return p.forEach(t=>{const l=c(n,t);l&&d.definitions.push(l)}),d};tm(bt,"cancelPremiumPlusSubscription");const sm=`#import "../../fragments/premium_plus_subscription_info.fragment.graphql"

mutation applyCancelationCouponToPremiumPlusSubscription {
  applyCancelationCouponToPremiumPlusSubscription {
    premiumSubscriptionInfo {
      ...PremiumPlusSubscriptionInfoFragment
    }
  }
}
`,ft={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"applyCancelationCouponToPremiumPlusSubscription"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"applyCancelationCouponToPremiumPlusSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"premiumSubscriptionInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PremiumPlusSubscriptionInfoFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:311,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:sm}}},im=n=>{const s={};return n.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const a=i.name.value;return s[a]?!1:(s[a]=!0,!0)})};ft.definitions=im(ft.definitions.concat(et.definitions));const am=(n,s)=>{const i=(t,l)=>{if(t.kind==="FragmentSpread")l.add(t.name.value);else if(t.kind==="VariableDefinition"){const r=t.type;r.kind==="NamedType"&&l.add(r.name.value)}return t&&"selectionSet"in t&&t.selectionSet&&t.selectionSet.selections.forEach(r=>{i(r,l)}),t&&"variableDefinitions"in t&&t.variableDefinitions&&t.variableDefinitions.forEach(r=>{i(r,l)}),t&&"definitions"in t&&t.definitions&&t.definitions.forEach(r=>{i(r,l)}),l},a=t=>{const l={};return t.definitions.forEach(function(r){"name"in r&&r.name&&(l[r.name.value]=i(r,new Set))}),l},c=(t,l)=>{for(let r=0;r<t.definitions.length;r++){const b=t.definitions[r];if(b&&"name"in b&&b.name&&b.name.value==l)return b}},u=a(n),d=Object.assign({},n,{definitions:[c(n,s)]}),h=u[s]||new Set,p=new Set;let m=new Set;for(h.forEach(t=>{m.add(t)});m.size>0;){const t=m;m=new Set,t.forEach(l=>{p.has(l)||(p.add(l),(u[l]||new Set).forEach(b=>{m.add(b)}))})}return p.forEach(t=>{const l=c(n,t);l&&d.definitions.push(l)}),d};am(ft,"applyCancelationCouponToPremiumPlusSubscription");const om="XnfJS",cm="_1sFIB",lm="ED1Xp",rm="leYBF",dm="CDkXY",um="Ug6lV",mm="S2CN2",pm="VJr16",hm="NdN1q",bm="l4Bg1",fm="akWyZ",gm="Vd25f",vm="_3zjpP",xm="MWaeC",ym="QMDUk",ce={container:om,header:cm,left:lm,title:rm,status:dm,inactive:um,canceled:mm,active:pm,manageBtn:hm,content:bm,description:fm,button:gm,renewTex:vm,renewal:xm,link:ym},Ct={pro:"Pro Plan",premium:"Premium Plan",premiumPlus:"Premium Plus Plan",default:"Premium"},zs=25,zi=({info:n,user:s,handlePremiumReactivation:i,reactivatePremiumLoading:a,openCancelSubscriptionModal:c})=>{const u=V(s,"premium_subscription_subscribed",!1),{GBB_PRO_YEARLY_119_SHORT_CODE:d,GBB_PREMIUM_PLUS_YEARLY_299_SHORT_CODE:h,GBB_PREMIUM_PLUS_YEARLY_249_SHORT_CODE:p,GBB_PRO_YEARLY_119_PLAN_ID:m}=fe(),t=V(n,"current.subscription_short_code",""),l=t===d,r=t===h||t===p,b=V(n,"cancelation_coupon_applied",!1),f=V(n,"current.enabled_at",null),v=Hc(s),N=n?.current,y=n?.status,C=V(n,"current.current_period_end",null),A=y===R.ACTIVE,[S,F]=g.useState(null),[P,E]=g.useState(A&&c),[k,I]=g.useState(!A&&c),{PRIVATE_BASE_PATH:L}=fe(),$=an(),[z,ge]=g.useState(!1),[he,ee]=g.useState(!1),[w,Z]=g.useState(!1),[X,{loading:Se}]=U(ft,{refetchQueries:[{query:me},{query:oe}]}),[Ne]=U(Wi),dn=async()=>{try{await X()}catch{pe("An error has occurred")}},[B,{loading:le}]=U(bt,{refetchQueries:[{query:me}],awaitRefetchQueries:!0}),on=async()=>{try{await B({variables:{subscriptionId:N.id}}),ln("Subscription canceled. You will no longer be charged.")}catch{pe("An error has occurred")}};let qe,Fe;u?y===R.ACTIVE?(qe="Active",Fe=ce.active):y===R.PAST_DUE?(qe="Past due",Fe=ce.canceled):(qe="Canceled",Fe=ce.canceled):(qe="Inactive",Fe=ce.inactive);const En=u?r?Ct.premiumPlus:l?Ct.pro:Ct.premium:Ct.default,D=n?.current?.future_plan_id===m,re=Ae(C),je=()=>l?"At that point your account will revert back to the free plan, and you will no longer have access to faster deposits, unlimited lease agreements, priority support, and more!":r?"At that point your account will revert back to the free plan, and you will no longer have access to rental accounting, waived ACH fees, unlimited lease agreements and e-signs, income insights, priority support, and more!":e.jsxs(e.Fragment,{children:["At that point your account will revert back to the free plan, and you will no longer have access to faster deposits, unlimited lease agreements and e-signs, unlimited bank accounts for rent payments, and more!"," ",e.jsx("a",{href:"https://support.turbotenant.com/en/articles/6046107-what-is-included-in-the-premium-subscription",target:"_blank",rel:"noreferrer",className:ce.link,children:"Learn more about Premium"})]});return e.jsxs("div",{className:ce.container,children:[e.jsxs("div",{className:ce.header,children:[e.jsxs("div",{className:ce.left,children:[e.jsxs("h3",{className:ce.title,children:[En,": "]}),e.jsx("span",{className:j(ce.status,Fe),children:qe})]}),y===R.ACTIVE&&e.jsx(Q,{loading:le,onClick:()=>{x("manage_plan clicked",{location:"billing"}),$(`${L}settings/billing/manage-your-plan`)},type:"primary",variant:"outline",size:"sm",className:ce.manageBtn,children:"Manage Plan"})]}),u?e.jsxs("div",{className:ce.content,children:[y===R.ACTIVE&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:ce.description,children:l?"You currently have expedited rent payouts, unlimited lease agreements, priority listing review, and more!":e.jsxs(e.Fragment,{children:[r?"You currently have faster deposits, waived ACH fees, unlimited lease agreements and e-signs, income insights, rental accounting, and more!":"You currently have faster deposits, unlimited lease agreements and e-signs, unlimited bank accounts for rent payments, and more!"," ",e.jsx("a",{href:"https://support.turbotenant.com/en/articles/6046107-what-is-the-premium-plan-and-what-is-included-with-my-purchase",rel:"noreferrer",target:"_blank",className:ce.link,children:"Learn more about Premium"})]})}),e.jsxs("p",{className:ce.renewTex,children:[e.jsx("strong",{children:D?`When your plan renews on ${re}`:`When you renew on ${re}`}),", ",D?"it will change to ‘Pro’ and your card will be charged $119.00":`your card will be charged $${(N?.upcoming_invoice?.amount_due?N?.upcoming_invoice?.amount_due/100:v).toFixed(2)}`,"."]}),l&&e.jsx(Xu,{})]}),y===R.PAST_DUE&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:ce.description,children:["If you don't update your card soon, your account will revert back to the free plan, and you will no longer have access to faster deposits, unlimited lease agreements and e-signs, priority support, unlimited bank accounts for rent payments, and more!"," ",e.jsx("a",{href:"https://support.turbotenant.com/en/articles/6046107-what-is-the-premium-plan-and-what-is-included-with-my-purchase",target:"_blank",rel:"noreferrer",className:ce.link,children:"Learn more about Premium"}),"."," "]}),e.jsxs("p",{className:ce.renewTex,children:[e.jsxs("strong",{children:["Once the card on file is updated, you will be charged $",(N?.upcoming_invoice?.amount_due?N?.upcoming_invoice?.amount_due/100:v).toFixed(2),"."]})," ","Your premium membership renews yearly."]})]}),y!==R.ACTIVE&&y!==R.PAST_DUE&&e.jsxs("p",{className:ce.description,children:["Your ",l?"Pro":"Premium"," subscription is"," ",e.jsxs("strong",{children:["active until ",Ae(C)]}),". ",je()]}),e.jsx("div",{className:ce.renewal,children:y!==R.ACTIVE&&y!==R.PAST_DUE?e.jsx(Q,{loading:a,onClick:()=>i(!0),type:"primary",variant:"outline",size:"sm",width:"hug",className:ce.renewal,children:"REACTIVATE"}):null})]}):e.jsxs("div",{className:ce.content,children:[e.jsx("p",{className:ce.description,children:"Upgrade to have access to faster deposits, unlimited lease agreements and e-signs, unlimited bank accounts for rent payments, and more!"}),e.jsx(Q,{className:ce.button,type:"primary",variant:"outline",onClick:()=>F("buy"),children:"Learn more"})]}),S?e.jsx(Jn,{openLocation:Ln.BILLING,onClose:()=>{F(null)},onSuccess:()=>{F(null)},refetchQueries:[oe,fi,me],hideButtons:S!=="buy"}):null,A&&P&&e.jsx(Gt,{isProPlan:l,isPremiumPlusPlan:r,onClose:()=>{x("nevermind clicked",{location:"billing modal"}),E(!1)},onDone:()=>{x("yes_continue clicked",{location:"billing modal"}),ge(!0),E(!1)},renewDate:Ae(C)}),!A&&k&&e.jsx(Pi,{open:k,icon:e.jsx(Co,{width:42,height:42,color:ke.babyBlue}),onClose:()=>I(!1),title:"You are not subscribed to Premium.",action:"Okay, got it"}),e.jsx(ht,{isProPlan:l,isPremiumPlusPlan:r,isOpen:z,onClose:()=>ge(!1),onDone:async ye=>{x("cancelation_reason clicked",{location:"billing modal"});let un=ye?.cancel_premium_reasons;un?.length===0&&(un=void 0);const xn=ye?.unhappy_input||void 0,yn=ye?.something_else_input||void 0,tt={cancelReason:{cancel_premium_reasons:un,...yn||xn?{description:{SOMETHING_ELSE_INPUT:yn,UNHAPPY_INPUT:xn}}:{}}};await Ne({variables:tt}),!b&&f&&Ge(f).isBefore(Ge().subtract(30,"days"))?ee(!0):await on(),ge(!1)}}),e.jsx(ws,{open:he,onClose:()=>ee(!1),onCancel:()=>{x("no_thanks clicked",{location:"billing modal"}),ee(!1),on()},onDone:async()=>{x("claim_discount clicked",{location:"billing modal"}),await dn(),Z(!0),ee(!1)},loadingCoupon:Se,billedOn:Ae(C,"MM/DD/YY"),discount:zs,premiumPrice:N?.upcoming_invoice?.amount_due/100}),e.jsx(Cs,{discount:zs,isOpen:w,onClose:()=>{x("sounds_good clicked",{location:"billing modal"}),Z(!1)}})]})};zi.propTypes={info:o.object,user:o.object,handlePremiumReactivation:o.func,reactivatePremiumLoading:o.bool,openCancelSubscriptionModal:o.bool};const km=si(zi),Le={CONFUSING_HARD_TO_USE:"CONFUSING_HARD_TO_USE",WANTS_MANAGED_BOOKKEEPING:"WANTS_MANAGED_BOOKKEEPING",DONT_UNDERSTAND_VALUE:"DONT_UNDERSTAND_VALUE",TOO_EXPENSIVE:"TOO_EXPENSIVE",DIDNT_USE_ENOUGH:"DIDNT_USE_ENOUGH",USE_ANOTHER_PLATFORM:"USE_ANOTHER_PLATFORM"},Nm=[{label:"I found it confusing or hard to use",value:Le.CONFUSING_HARD_TO_USE,id:Le.CONFUSING_HARD_TO_USE},{label:"I’d rather have someone manage my books for me",value:Le.WANTS_MANAGED_BOOKKEEPING,id:Le.WANTS_MANAGED_BOOKKEEPING},{label:"I don't understand the value of the platform",value:Le.DONT_UNDERSTAND_VALUE,id:Le.DONT_UNDERSTAND_VALUE},{label:"It's too expensive for what I need",value:"TOO_EXPENSIVE",id:"TOO_EXPENSIVE",additionalInput:{value:Le.PRICE_RANGE,id:Le.PRICE_RANGE,name:"price_range",type:"select",placeholder:"Select a price that feels fair to your needs",options:[{label:"Under $10/month",value:"UNDER_10"},{label:"$10–$20/month",value:"10_TO_20"},{label:"$20–$30/month",value:"20_TO_30"},{label:"Over $30/month",value:"OVER_30"}]}},{label:"I didn't use it enough",value:Le.DIDNT_USE_ENOUGH,id:Le.DIDNT_USE_ENOUGH},{label:"I use another accounting platform",value:Le.USE_ANOTHER_PLATFORM,id:Le.USE_ANOTHER_PLATFORM,additionalInput:{value:"PLATFORM_CHOICE",id:"PLATFORM_CHOICE",name:"platform_choice",type:"select",placeholder:"Select one",options:[{label:"AppFolio",value:"APPFOLIO"},{label:"Buildium",value:"BUILDIUM"},{label:"Yardi",value:"YARDI"},{label:"Entrata",value:"ENTRATA"},{label:"Quickbooks",value:"QUICKBOOKS"},{label:"TenantCloud",value:"TENANTCLOUD"},{label:"Excel",value:"EXCEL"},{label:"Stessa",value:"STESSA"}]}}],jm="bdtPz",Ks={buttonHolder:jm},Ki=({onDone:n,onDiscount:s,shouldShowOffer:i})=>{const a={cancel_accounting_reasons:[]},c=u=>{const d=u.cancel_accounting_reasons||[];return!(d.length===0||d.includes("TOO_EXPENSIVE")&&!u.price_range||d.includes("USE_ANOTHER_PLATFORM")&&!u.platform_choice)};return e.jsxs("div",{children:[e.jsx(xe,{children:"We're sorry to see you go!"}),e.jsx(T,{className:"mb-16",children:"Please take a moment to let us know why."}),e.jsx(Qe,{onSubmit:u=>{x("cancel_subscription clicked",{location:"Cancelation Modal"}),n(u)},initialValues:a,keepDirtyOnReinitialize:!0,subscription:{submitting:!0,values:!0},children:({handleSubmit:u,submitting:d,values:h})=>e.jsxs("form",{onSubmit:u,children:[e.jsx(Vt,{}),e.jsx(Ai,{id:"cancel_accounting_reasons",name:"cancel_accounting_reasons",options:Nm}),e.jsxs("div",{className:Ks.buttonHolder,children:[e.jsx(Q,{htmlType:"submit",variant:"fill",loading:d,disabled:!c(h),id:"cancel_subscription",children:"Cancel Subscription"}),i&&e.jsx(Q,{variant:"ghost",className:Ks.discountButton,onClick:()=>{x("wait_i_want_to_get_50%_off clicked",{location:"Cancelation Modal"}),s()},children:"Wait, I want to get 50% off"})]})]})})]})};Ki.propTypes={onDone:o.func.isRequired,onDiscount:o.func.isRequired,shouldShowOffer:o.bool};const Sm="WxA5A",_m="s7vUU",Cm="H4Ir1",wm="gJg6l",Tm="KUb19",Pm="TwCbl",Am="_0cVhe",$n={container:Sm,title:_m,desc:Cm,secDesc:wm,thirdDesc:Tm,list:Pm,buttonHolder:Am},Ts=({renewDate:n,onClose:s,onOffer:i})=>e.jsxs("div",{className:$n.container,children:[e.jsx("h2",{className:$n.title,children:"Cancel REI Hub?"}),e.jsxs("p",{className:$n.desc,children:["If you cancel, your REI Hub subscription will be",e.jsxs("b",{children:[" active until ",n]}),"."," "]}),e.jsxs("p",{className:$n.secDesc,children:[e.jsx("b",{children:"You’ll lose out on:"})," "]}),e.jsxs("ul",{className:$n.list,children:[e.jsxs("li",{children:[e.jsx("b",{children:"Access to your account, including your financial data"})," "]}),e.jsxs("li",{children:[e.jsx("b",{children:"Landlord-specific accounting software"})," "]}),e.jsxs("li",{children:[e.jsx("b",{children:"Automated bookkeeping and data entry"})," "]}),e.jsxs("li",{children:[e.jsx("b",{children:"Comprehensive one-click reports"})," "]})]}),e.jsxs("p",{className:$n.thirdDesc,children:[e.jsx("em",{children:"If you cancel, we recommend exporting your historical data from REI Hub or you will lose access to it. You can always re-access your REI Hub account in the future by re-subscribing."})," "]}),e.jsxs("div",{className:$n.buttonHolder,children:[e.jsx(_,{onClick:()=>{x("nevermind clicked",{location:"cancel reihub subscription"}),s()},secondary:!0,children:"Nevermind"}),e.jsx(_,{onClick:()=>{x("cancel_subscription_modal_one clicked",{location:"cancel reihub subscription"}),i()},children:"CANCEL SUBSCRIPTION"})]})]});Ts.propTypes={onClose:o.func,onOffer:o.func,renewDate:o.string};Ts.defaultProps={onClose:()=>{},onOffer:()=>{},renewDate:""};const Em="nW4OM",Im="e6809",$m="_9SFM3",Rm="_0epRP",wt={container:Em,title:Im,texarea:$m,buttonHolder:Rm},Zi=({onDone:n,onDiscount:s,shouldShowOffer:i})=>{const a=c=>{i?x("cancel_subscription_modal_two clicked",{location:"cancel reihub subscription"}):x("cancel_subscription_modal_three clicked",{location:"cancel reihub subscription"}),n(c)};return e.jsxs("div",{className:wt.container,children:[e.jsx("h2",{className:wt.title,children:"Got it, we’re sorry to see you go!"}),e.jsx(Qe,{onSubmit:a,children:({handleSubmit:c})=>e.jsxs("form",{onSubmit:c,children:[e.jsx(Y,{className:wt.texarea,component:gi,hint:"(Optional)",name:"cancel_reason",label:"Why are you canceling?"}),e.jsx(_,{type:"submit",children:"CANCEL SUBSCRIPTION"})]})}),i&&e.jsx("div",{className:wt.buttonHolder,children:e.jsx(nn,{onClick:()=>{x("get_percent_off clicked",{location:"billing"}),s()},children:"WAIT, I WANT TO GET 50% OFF"})})]})};Zi.propTypes={onDiscount:o.func,onDone:o.func,shouldShowOffer:o.bool};const Fm="vPS4Z",Mm="DAbBx",Dm="fyvIh",Om="mHIxG",Lm="vF3od",at={container:Fm,iconHolder:Mm,title:Dm,desc:Om,buttonHolder:Lm},Ps=({onClose:n})=>e.jsxs("div",{className:at.container,children:[e.jsx("div",{className:at.iconHolder,children:e.jsx(xt,{})}),e.jsx("h2",{className:at.title,children:"Discount applied!"}),e.jsxs("p",{className:at.desc,children:["You will see your ",e.jsx("span",{children:"50%"})," discount in next month's bill. Thanks for being a subscriber!"]}),e.jsx("div",{className:at.buttonHolder,children:e.jsx(_,{onClick:()=>{x("sounds_good clicked",{location:"cancel reihub subscription"}),n()},children:"sounds good"})})]});Ps.propTypes={onClose:o.func};Ps.defaultProps={onClose:()=>{}};const Bm="PvBzi",qm="CK-PX",Um="V-vZq",Vm="S1Xit",Hm="O7FgZ",ot={container:Bm,iconHolder:qm,title:Um,desc:Vm,buttonHolder:Hm},Ym=({onDiscount:n,onDescription:s})=>e.jsxs("div",{className:ot.container,children:[e.jsx("div",{className:ot.iconHolder,children:e.jsx(xt,{})}),e.jsxs("h2",{className:ot.title,children:["Before you cancel, get ",e.jsx("span",{children:"50%"})," off one month on us!"]}),e.jsx("p",{className:ot.desc,children:"Don't lose access to important information (you'll thank yourself come tax season). Here's a gift for continuing your REI Hub subscription."}),e.jsxs("div",{className:ot.buttonHolder,children:[e.jsx(_,{onClick:()=>{x("claim_offer clicked",{location:"cancel reihub subscription"}),n()},children:"claim offer"}),e.jsx(nn,{onClick:()=>{x("no_thanks_cancel clicked",{location:"cancel reihub subscription"}),s()},children:"no thanks, i want to cancel"})]})]}),Gm="j7M8-",Qm="CrA6L",Wm="YbHZY",zm="_8-Eld",Km="_46Anj",Zm="l2-RR",Xm="XfKPg",Jm="Ds0ZP",Jt={container:Gm,CancelFirst:Qm,Offer:Wm,Discount:zm,Description:Km,CancelAccountingQuestionnaire:Zm,close:Xm,pulse:Jm},ep=()=>e.jsx(Be,{name:"close",color:"close-darkbg"}),np={CancelFirst:Ts,Offer:Ym,Discount:Ps,Description:Zi,CancelAccountingQuestionnaire:Ki},Xi=({onDone:n,onClose:s,renewDate:i,shouldShowOffer:a,applyCoupon:c})=>{const[u,d]=g.useState("CancelFirst"),h=()=>{const p=np[u];return e.jsx(p,{renewDate:i,onOffer:()=>{d(a?"Offer":"CancelAccountingQuestionnaire")},onDiscount:async()=>{c(),d("Discount")},onClose:s,onDone:m=>{const t={};m.cancel_accounting_reasons&&(t.cancel_reason=JSON.stringify({cancel_accounting_reasons:m.cancel_accounting_reasons,price_range:m.price_range,platform_choice:m.platform_choice})),n(t)},onDescription:()=>d("CancelAccountingQuestionnaire"),shouldShowOffer:a})};return e.jsxs(q,{open:!0,autoFocus:!1,className:j(Jt.container,Jt[u]),onClose:s,children:[["Description","Offer","CancelAccountingQuestionnaire"].includes(u)&&e.jsx(He,{icon:ep,onClick:s,className:Jt.close}),h()]})};Xi.propTypes={onClose:o.func,onDone:o.func,applyCoupon:o.func,shouldShowOffer:o.bool,renewDate:o.string};const tp=`#import "../../fragments/premium_plus_subscription_info.fragment.graphql"

mutation applyCouponToReiHubSubscription {
  applyCouponToReiHubSubscription {
    premiumSubscriptionInfo {
      ...PremiumPlusSubscriptionInfoFragment
    }
  }
}
`,Mt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"applyCouponToReiHubSubscription"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"applyCouponToReiHubSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"premiumSubscriptionInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PremiumPlusSubscriptionInfoFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:279,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:tp}}},sp=n=>{const s={};return n.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const a=i.name.value;return s[a]?!1:(s[a]=!0,!0)})};Mt.definitions=sp(Mt.definitions.concat(et.definitions));const ip=(n,s)=>{const i=(t,l)=>{if(t.kind==="FragmentSpread")l.add(t.name.value);else if(t.kind==="VariableDefinition"){const r=t.type;r.kind==="NamedType"&&l.add(r.name.value)}return t&&"selectionSet"in t&&t.selectionSet&&t.selectionSet.selections.forEach(r=>{i(r,l)}),t&&"variableDefinitions"in t&&t.variableDefinitions&&t.variableDefinitions.forEach(r=>{i(r,l)}),t&&"definitions"in t&&t.definitions&&t.definitions.forEach(r=>{i(r,l)}),l},a=t=>{const l={};return t.definitions.forEach(function(r){"name"in r&&r.name&&(l[r.name.value]=i(r,new Set))}),l},c=(t,l)=>{for(let r=0;r<t.definitions.length;r++){const b=t.definitions[r];if(b&&"name"in b&&b.name&&b.name.value==l)return b}},u=a(n),d=Object.assign({},n,{definitions:[c(n,s)]}),h=u[s]||new Set,p=new Set;let m=new Set;for(h.forEach(t=>{m.add(t)});m.size>0;){const t=m;m=new Set,t.forEach(l=>{p.has(l)||(p.add(l),(u[l]||new Set).forEach(b=>{m.add(b)}))})}return p.forEach(t=>{const l=c(n,t);l&&d.definitions.push(l)}),d};ip(Mt,"applyCouponToReiHubSubscription");const ap=`#import "../../fragments/premium_plus_subscription_info.fragment.graphql"

mutation cancelReiHubSubscription(
  $subscriptionId: String!
  $cancel_reason: String
) {
  cancelReiHubSubscription(
    input: { subscriptionId: $subscriptionId, cancel_reason: $cancel_reason }
  ) {
    reiHubSubscriptionInfo {
      ...PremiumPlusSubscriptionInfoFragment
    }
  }
}
`,Dt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"cancelReiHubSubscription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subscriptionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cancel_reason"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelReiHubSubscription"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"subscriptionId"},value:{kind:"Variable",name:{kind:"Name",value:"subscriptionId"}}},{kind:"ObjectField",name:{kind:"Name",value:"cancel_reason"},value:{kind:"Variable",name:{kind:"Name",value:"cancel_reason"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reiHubSubscriptionInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PremiumPlusSubscriptionInfoFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:402,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:ap}}},op=n=>{const s={};return n.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const a=i.name.value;return s[a]?!1:(s[a]=!0,!0)})};Dt.definitions=op(Dt.definitions.concat(et.definitions));const cp=(n,s)=>{const i=(t,l)=>{if(t.kind==="FragmentSpread")l.add(t.name.value);else if(t.kind==="VariableDefinition"){const r=t.type;r.kind==="NamedType"&&l.add(r.name.value)}return t&&"selectionSet"in t&&t.selectionSet&&t.selectionSet.selections.forEach(r=>{i(r,l)}),t&&"variableDefinitions"in t&&t.variableDefinitions&&t.variableDefinitions.forEach(r=>{i(r,l)}),t&&"definitions"in t&&t.definitions&&t.definitions.forEach(r=>{i(r,l)}),l},a=t=>{const l={};return t.definitions.forEach(function(r){"name"in r&&r.name&&(l[r.name.value]=i(r,new Set))}),l},c=(t,l)=>{for(let r=0;r<t.definitions.length;r++){const b=t.definitions[r];if(b&&"name"in b&&b.name&&b.name.value==l)return b}},u=a(n),d=Object.assign({},n,{definitions:[c(n,s)]}),h=u[s]||new Set,p=new Set;let m=new Set;for(h.forEach(t=>{m.add(t)});m.size>0;){const t=m;m=new Set,t.forEach(l=>{p.has(l)||(p.add(l),(u[l]||new Set).forEach(b=>{m.add(b)}))})}return p.forEach(t=>{const l=c(n,t);l&&d.definitions.push(l)}),d};cp(Dt,"cancelReiHubSubscription");const lp="/assets/banner-D09bqDeB.png",rp="FmCKQ",dp="w5MUs",up="SQcO5",mp="_4cecA",pp="_--xzc",hp="EpCsH",Gn={modalHeader:rp,modalBanner:dp,modalContent:up,listTitle:mp,list:pp,buttonsContainer:hp},bp=({onClose:n})=>{const s=()=>{x("schedule_a_free_consultation clicked",{location:"Managed bookkeeping modal"}),n()},i=()=>{x("no_thanks clicked",{location:"Managed bookkeeping modal"}),n()};return e.jsxs(Cn,{hideCloseButton:!0,isOpen:!0,size:"sm",children:[e.jsx(Cn.Header,{className:Gn.modalHeader,children:e.jsx("img",{alt:"Schedule Consultation banner",className:Gn.modalBanner,src:lp})}),e.jsxs(Cn.Content,{className:Gn.modalContent,children:[e.jsx(xe,{children:"We've cancelled your subscription"}),e.jsx(T,{children:"We totally understand managing real estate books can be confusing and time consuming, and that is why we also offer a managed bookkeeping service."}),e.jsx(T,{className:Gn.listTitle,children:"Key benefits include:"}),e.jsxs("ul",{className:Gn.list,children:[e.jsx("li",{children:e.jsx(T,{children:"1-on-1 calls for personalized support"})}),e.jsx("li",{children:e.jsx(T,{children:"Guidance on how to set up and maintain your books"})}),e.jsx("li",{children:e.jsx(T,{children:"Ask about best practices for real estate bookkeeping"})}),e.jsx("li",{children:e.jsx(T,{children:"Get help understanding reports and account balances"})})]}),e.jsxs("div",{className:Gn.buttonsContainer,children:[e.jsx(Q,{href:"https://calendly.com/rei_hub/expert-bookkeeping-intro-call?month=2025-09",target:"_blank",onClick:s,children:"Schedule a free consultation"}),e.jsx(Q,{variant:"ghost",onClick:i,children:"No thanks"})]})]})]})},fp="LZAmV",gp="kLOtz",vp="_3J2j1",xp="FYOp7",yp="DyDgV",kp="lZQBP",Np="TLwON",jp="kPf7W",Sp="SMmoS",_p="m1Oc9",Cp="mnB5G",wp="S9Lqx",se={container:fp,header:gp,left:vp,title:xp,status:yp,inactive:kp,canceled:Np,active:jp,content:Sp,description:_p,renewTex:Cp,link:wp},Tp="reihub_50_1m",Ji=({info:n,user:s,handleReiHubReactivation:i,reactivateReiHubLoading:a})=>{const c=an(),[u,d]=g.useState(!1),h=s?.reihub_subscription_subscribed,{PRIVATE_BASE_PATH:p,REI_HUB_INCLUDED_IN_PREMIUM_SHORT_CODE:m}=fe(),t=n?.current,l=t?.subscription_short_code,r=l==="TT_REI_HUB_ANNUAL"||l==="TT_REI_HUB_ANNUAL_PRICE_FULL"||l==="TT_ACCOUNTING_ANNUAL_STANDARD"||l==="TT_REI_HUB_ANNUAL_ADD_ON",b=l===m,f=l==="TT_REI_HUB_QUARTERLY",N=r?"yearly":f?"every 3 months":"monthly",y=n?.status,C=n?.current?.current_period_end??null,[A,S]=g.useState(!1),F=vi(),P=(t?.upcoming_invoice?.amount_due||0)/100,[E]=U(Mt,{refetchQueries:[{query:me},{query:oe}]}),[k,{loading:I}]=U(Dt,{refetchQueries:[{query:me},{query:oe}]}),L=async()=>{try{await E()}catch{pe("An error has occurred")}},$=async(X={})=>{try{await k({variables:{subscriptionId:t.id,...X}}),x("cancel_reihub_subscription confirmed",{location:"reihub billing subscription modal"});const Se=X.cancel_reason?JSON.parse(X.cancel_reason).cancel_accounting_reasons:[];Array.isArray(Se)&&Se.some(Ne=>[Le.WANTS_MANAGED_BOOKKEEPING,Le.CONFUSING_HARD_TO_USE].includes(Ne))?(d(!0),x("managed_bookkeeping_modal opened",{location:"Managed bookkeeping modal"})):ln("Accounting subscription canceled. You will no longer be charged.")}catch(Se){console.error(Se),pe("An error has occurred")}},z={[R.ACTIVE]:{text:"Active",style:se.active},[R.PAST_DUE]:{text:"Past due",style:se.canceled},[R.TRIALING]:{text:"Free trial",style:se.active},default:{text:"Canceled",style:se.canceled}},he=h?z[y]||z.default:{text:"Inactive",style:se.inactive},ee=!n?.current?.upcoming_invoice?.discount_applied&&n?.current?.coupon_applied!==Tp&&!n?.cancelation_coupon_applied&&!r&&!f,w=[R.ACTIVE,R.TRIALING].includes(y)&&!b,Z=()=>{h?i():c(`${p}accounting/transactions`)};return e.jsxs("div",{className:se.container,children:[e.jsxs("div",{className:se.header,children:[e.jsxs("div",{className:se.left,children:[e.jsx("h3",{className:se.title,children:"Accounting:"}),e.jsx("span",{className:j(se.status,he.style),children:he.text})]}),w&&e.jsx(Q,{loading:I,variant:"ghost",size:"sm",onClick:()=>{x("cancel_reihub_subscription clicked",{location:"reihub billing subscription modal"}),S(!0)},children:F>bs?"cancel subscription":"cancel"})]}),h?e.jsxs("div",{className:se.content,children:[y===R.ACTIVE&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:se.description,children:[b?"TurboTenant’s Rental Accounting software, powered by REI Hub is included with your Premium Plus subscription.":"You are currently subscribed to TurboTenant’s Rental Accounting software, powered by REI Hub."," "]}),b?null:e.jsxs("p",{className:se.renewTex,children:[e.jsxs("strong",{children:["Renews on ",Ae(C)," for $",P.toFixed(2)]}),". Your membership renews ",N," and pricing is based on the number of"," ",e.jsx(wn,{to:`${p}properties`,className:se.link,children:"rentals"})," ","you have in TurboTenant."]})]}),y===R.PAST_DUE&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:se.description,children:"If you don't update your card soon, your Accounting Subscription will be canceled. Any changes to your TurboTenant account will not be reflected in the accounting software until you update the card on file."}),e.jsxs("p",{className:se.renewTex,children:[e.jsxs("strong",{children:["Once the card on file is updated, you will be charged $",P.toFixed(2),"."," "]}),"Your membership renews ",N," and"," ",e.jsx(wn,{to:`${p}accounting/transactions`,className:se.link,state:{scrollToCalculator:!0},children:"pricing"})," ","is based on the number of"," ",e.jsx(wn,{to:`${p}properties`,className:se.link,children:"properties"})," ","you have in TurboTenant."]})]}),y===R.TRIALING&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:se.description,children:"You are currently subscribed to TurboTenant’s Rental Accounting software, powered by REI Hub."}),e.jsxs("p",{className:se.renewTex,children:[e.jsxs("strong",{children:["Free trial ends on ",Ae(C)," ","and renews at $",P.toFixed(2),"."," "]}),"Your membership renews",r?" annually":" monthly"," and pricing is based on the number of"," ",e.jsx(wn,{to:`${p}properties`,className:se.link,children:"rentals"})," ","you have in TurboTenant."]})]}),y!==R.ACTIVE&&y!==R.PAST_DUE&&y!==R.TRIALING&&e.jsxs("p",{className:se.description,children:["Your Accounting subscription is"," ",e.jsxs("strong",{children:["active until ",Ae(C)]}),b?" with your Premium Plus subscription":"",". Afterward, you need to directly"," ",e.jsx("a",{href:"https://app.reihub.net/sign-in",target:"_blank",rel:"noopener noreferrer",className:se.link,children:"log in to REI Hub"})," ","to access historical data. Any changes to your TurboTenant account will not be reflected in REI Hub unless you reactivate your subscription."]}),e.jsx("div",{className:se.renewal,children:y!==R.ACTIVE&&y!==R.PAST_DUE&&y!==R.TRIALING&&!b&&e.jsx(Q,{loading:a,variant:"outline",onClick:Z,type:"primary",width:"hug",children:"REACTIVATE SUBSCRIPTION"})})]}):e.jsxs("div",{className:se.content,children:[e.jsx("p",{className:se.description,children:"Add rental accounting features that will sync your bookkeeping and property management tools together."}),e.jsx(Q,{type:"primary",to:`${p}accounting/transactions`,width:176,children:"Learn more"})]}),A?e.jsx(Xi,{onClose:()=>S(!1),shouldShowOffer:ee,applyCoupon:L,onDone:X=>{$(X),S(!1)},renewDate:Ae(C)}):null,u&&e.jsx(bp,{onClose:()=>{d(!1),x("managed_bookkeeping_modal closed",{location:"Managed bookkeeping modal"})}})]})};Ji.propTypes={info:o.object,user:o.object,handleReiHubReactivation:o.func,reactivateReiHubLoading:o.bool};const Pp=si(Ji),Ap="kVKJZ",Ep={activeLabel:Ap},ea=({user:n})=>{const s=Ge(n.created_at).add(6,"months").format("MM/DD/YYYY");return e.jsxs(e.Fragment,{children:[e.jsxs(xe,{children:["Premium Plan: ",e.jsx("span",{className:Ep.activeLabel,children:"Active"})]}),e.jsxs(T,{children:["You currently have faster deposits, unlimited lease agreements and e-signs, unlimited bank accounts for rent payments, and more!"," ",e.jsx(tn,{href:"https://support.turbotenant.com/en/articles/6046107-what-is-included-in-the-premium-subscription",children:"Learn more about Premium"}),"."]}),e.jsxs(T,{children:["You received free access to Premium as part of the migration from Azibo to TurboTenant."," ",e.jsxs("strong",{children:["You will have access to Premium features until ",s,"."]})]})]})};ea.propTypes={user:xi};const Ip="IG-0i",$p={activeLabel:Ip},na=({user:n})=>{const s=Ge(n.created_at).add(6,"months").format("MM/DD/YYYY");return e.jsxs(rn,{padded:!0,children:[e.jsxs(xe,{children:["Accounting Subscription:"," ",e.jsx("span",{className:$p.activeLabel,children:"Active"})]}),e.jsx(T,{children:"You are currently subscribed to TurboTenant’s Rental Accounting software, powered by REI Hub."}),e.jsxs(T,{children:["You received free access to rental accounting as part of the migration from Azibo to TurboTenant."," ",e.jsxs("strong",{children:["You will have access to accounting features until ",s,"."]})]})]})};na.propTypes={user:xi};const Rp=(n,s,i)=>{const a=s?.status===R.ACTIVE||s?.status===R.PAST_DUE||s?.status===R.TRIALING,c=i?.status===R.ACTIVE||i?.status===R.PAST_DUE||i?.status===R.TRIALING,u=!!n?.is_azibo&&!!n.premium_subscription_subscribed&&!a,d=!!n?.is_azibo&&!!n.reihub_subscription_subscribed&&!c;return{showAziboPremium:u,showAziboAccounting:d}},Fp="DvTIP",Mp="trlEz",Dp="K9Kru",Op="SLtQW",Lp="x29-b",Bp="_-9lpf",qp="R9B6C",pn={container:Fp,cardContainer:Mp,modal:Dp,title:Op,actions:Lp,text:Bp,pulse:qp},ta=({user:n,loadingUser:s,location:i,muaUser:a})=>{const c=an(),[u,d]=g.useState(!1),[h,p]=g.useState(null),m=n?.premium_subscription_subscribed,t=n?.premium_price_signup,l=vt(a),{PRIVATE_BASE_PATH:r,PREMIUM_PLAN_ID_DEFAULT:b,GBB_PRO_YEARLY_119_PLAN_ID:f,GBB_PREMIUM_YEARLY_149_SHORT_CODE:v,GBB_PREMIUM_YEARLY_149_PRICE:N,PREMIUM_Q1_OFFER_COUPON_CODE:y}=fe(),{loading:C,data:A}=sn(me,{fetchPolicy:"cache-and-network"}),{listings:S}=gs({variables:{mode:yi.ROOTS_ONLY},fetchPolicy:"cache-first"},!1),F=g.useMemo(()=>S?.some(ve=>ve.is_autopilot_eligible===!0),[S]),P=Bn(),E=V(n,"maintenance_plus_subscription_subscribed",!1),k=V(n,"maintenance_plus_active_experiment",!1),{premiumPlusSubscriptionInfo:I,reiHubSubscriptionInfo:L,maintenancePlusSubscriptionInfo:$,autopilotSubscriptionInfo:z}=A?.userData?.settingsAndBilling?.data||{},ge=I?.current,he=ge?.current_period_end,ee=ge?.plan_id===f,{showAziboPremium:w,showAziboAccounting:Z}=Rp(n,I,L),X=n?.payment_methods?.find(ve=>ve.is_default),{premium:Se,referral:Ne,cancelPremium:dn,showUpgradeModal:B,showQ1Offer:le,mobile_app:on}=hs.parse(i.search),qe=on==="true"&&window?.ReactNativeWebView,Fe=Se!==void 0,[yt,En]=g.useState(Fe&&!m),[nt,D]=g.useState(Fe&&m);function re(ve){const kt=ve?.status===R.ACTIVE||ve?.status===R.PAST_DUE,qa=ve?.status===R.CANCELED&&new Date(ve?.current?.current_period_end)>new Date;return kt||qa}const je=[I,$].some(re);g.useEffect(()=>{Ne&&Qa(Wa.PREMIUM_REFERRAL,Ne,6048e5)},[]),g.useEffect(()=>{if(le){D(m);return}!Fe||s||(En(!m),D(m))},[Fe,m]);const ye=ve=>{const kt=new URLSearchParams(i.search);kt.delete(ve),c({pathname:i.pathname,search:kt.toString()},{replace:!0})},[un,{loading:xn}]=U($t,{refetchQueries:[{query:oe},{query:me}],awaitRefetchQueries:!0}),yn=async()=>{try{await un(),ln("Auto-renewal has been turned on.")}catch{pe("An error has occurred")}},tt=async()=>{if(!X){p(()=>yn),d(!0);return}yn()},[Ra,{loading:Fa}]=U(Rt,{refetchQueries:[{query:me},{query:oe}]}),Os=async()=>{try{await Ra(),x("purchase_reihub_subscription clicked",{location:"reihub billing subscription modal"}),ln("Auto-renewal has been turned on.")}catch{pe("An error has occurred")}},Ma=async()=>{if(!X){p(()=>Os),d(!0);return}Os()},[Da]=U(vs),Oa=async()=>{try{await Da({variables:{newPlanId:b,referral:"Billing Upgrade Modal",action:"Upgrade"}}),qe&&window.ReactNativeWebView.postMessage("PAYMENT_SUCCESS"),ye("showUpgradeModal"),P(ve=>e.jsx(ki,{open:!0,showCheckMark:!0,showAnimation:!1,title:"Upgrade complete!",primaryLabel:"Sounds Good",primaryAction:()=>{x("sounds_good clicked",{location:"Plan Upgraded Success Modal"}),qe&&window.ReactNativeWebView.postMessage("UPGRADE_COMPLETE"),ve()},className:pn.modal,classNameTitle:pn.title,classNameActions:pn.actions,children:e.jsx("p",{className:pn.text,children:"Enjoy access to all the features that come with your new plan."})}))}catch(ve){console.log(ve),pe("Failed to upgrade to premium")}},La=()=>{const ve=new Date;return ve.setFullYear(ve.getFullYear()+1),Ae(ve,"ll")},Ba=()=>{ye("showUpgradeModal"),qe&&window.ReactNativeWebView.postMessage("UPGRADE_MODAL_CLOSED")};return C||s?null:e.jsxs(Ye,{children:[e.jsxs("div",{className:pn.container,children:[e.jsx("div",{className:pn.cardContainer,children:e.jsx(Id,{blockCardRemoval:je,paymentMethod:X,onUpdateCard:()=>{d(!0),c(`${r}settings/billing/updatecard?change-card`)},isAssistant:l})}),e.jsx("div",{className:pn.cardContainer,children:w?e.jsx(ea,{user:n}):e.jsx(km,{info:I,user:n,handlePremiumReactivation:tt,reactivatePremiumLoading:xn,openCancelSubscriptionModal:!!dn})}),E&&!k&&e.jsx("div",{children:e.jsx(Qi,{info:$,user:n})}),F&&e.jsx("div",{className:pn.cardContainer,children:e.jsx(Pd,{info:z})}),e.jsx("div",{className:j(pn.mYStyle),children:Z?e.jsx(na,{user:n}):e.jsx(Pp,{info:L,user:n,handleReiHubReactivation:Ma,reactivateReiHubLoading:Fa})}),e.jsx(Hd,{})]}),yt&&e.jsx(Jn,{openLocation:Ln.BILLING,onClose:()=>{En(null)},onPayClicked:()=>{ye("premium")},onSuccess:()=>{En(null)},refetchQueries:[oe,fi,me],hideButtons:m}),B&&ee&&e.jsx(xs,{open:!0,onClose:Ba,onUpgrade:Oa,premiumPrice:t,subscriptionEnd:he,muaUser:a}),nt&&!s&&e.jsx(Pi,{open:nt,icon:e.jsx(Be,{name:"success",size:"xl"}),onClose:()=>{D(!1),ye("premium"),le&&(x("sounds_good clicked",{location:"already subscribed modal"}),ye("showQ1Offer"))},title:"You already have a subscription.",description:"You can learn more about your current subscription in Billing Settings.",action:"Sounds good",onLoad:()=>{le?x("already_subscribed modal loaded",{location:"1q25 promo modal"}):x("subscription_already_active loaded",{location:"Billing Settings"})}}),u?e.jsx(wo,{onClose:()=>{d(null)},context:"billing",title:"Add Card for Renewal",onToken:h}):null,le&&!m&&e.jsx(Mc,{onLoad:()=>{x("1q25_premium_promo modal loaded",{location:"billing"})},onClose:()=>{ye("showQ1Offer")},onSuccess:()=>{ye("showQ1Offer"),P(ve=>e.jsx(To,{open:!0,onClose:()=>ve(),segmentLocation:"billing",segmentLoadEvent:"premium_success_modal loaded",showDivider:!1}))},refetchQueries:[oe,me],awaitRefetchQueries:!1,shortCode:v,amount:119,slashedAmount:N,title:"Premium",promoCode:y,disclaimer:`I understand that this Premium Plan will auto-renew for the full price on ${La()}.`,enablePromo:!1,location:"1q25 promo modal",onPayClickedSegmentEvent:"pay clicked"})]})};ta.propTypes={user:o.object,loadingUser:o.bool,location:o.object,muaUser:o.object};const Up="iJ6d5",Vp="kOgS2",Hp="_5247s",Yp="fSqeg",Gp="Y3DQV",Qp="q7p97",Wp="QA0PQ",zp="FQYSC",Kp="xCOAO",Zp="_6pa4N",Xp="PQJ9K",Jp="YDjh1",eh="bkYLK",nh="QEmio",th="gJYJI",sh="QLwdO",Te={container:Up,icon:Vp,contentHolder:Hp,limitedOffer:Yp,title:Gp,description:Qp,discountSummary:Wp,row:zp,divider:Kp,total:Zp,desc:Xp,price:Jp,perYear:eh,buttonHolder:nh,mainButton:th,flatButton:sh},As=({open:n,onDone:s,onCancel:i,billedOn:a,premiumPrice:c,className:u,onClose:d,discount:h,location:p})=>{const[m,t]=ii.useState(!1),l=c-h;return g.useEffect(()=>{x("loyalty_discount modal loaded",{location:p})},[]),e.jsxs(q,{open:n,className:j(Te.container,u),onClose:d,children:[e.jsx("div",{className:Te.icon,children:e.jsx(xt,{})}),e.jsxs("div",{className:Te.contentHolder,children:[e.jsx("span",{className:Te.limitedOffer,children:"Limited Time Offer"}),e.jsxs("h2",{className:Te.title,children:["Wait! Before you go, we’d love to offer you a special discount:"," ",e.jsxs("span",{children:["Save $",h]})]}),e.jsx("p",{className:Te.description,children:"We’re offering you an exclusive discount to enjoy another year of our Premium plan at a lower price."}),e.jsxs("div",{className:Te.discountSummary,children:[e.jsxs("div",{className:Te.row,children:[e.jsx("span",{children:"Subscription price"}),e.jsxs("span",{children:["$",c]})]}),e.jsxs("div",{className:Te.row,children:[e.jsx("span",{children:"Loyalty Discount"}),e.jsxs("span",{children:["($",h,")"]})]})]}),e.jsx(On,{text:"",className:Te.divider}),e.jsxs("div",{className:Te.total,children:[e.jsxs("div",{className:Te.desc,children:[e.jsx("p",{children:"Renewal Amount"}),e.jsxs("span",{children:["Will renew on ",a]})]}),e.jsx("div",{className:Te.price,children:e.jsxs("span",{className:Te.perYear,children:["$",l]})})]}),e.jsxs("div",{className:Te.buttonHolder,children:[e.jsx(_,{onClick:async()=>{t(!0),await s(),t(!1)},className:Te.mainButton,loading:m,children:"Accept Discount"}),e.jsx(nn,{onClick:i,className:Te.flatButton,children:"No Thank You"})]})]})]})};As.propTypes={billedOn:o.string,premiumPrice:o.number,discount:o.number,onCancel:o.func,onDone:o.func,className:o.string,open:o.bool};As.defaultProps={onCancel:()=>{},onDone:()=>{},date:"",billedOn:"",premiumPrice:""};const Es=n=>e.jsx("svg",{...n,viewBox:"0 0 106 106",children:e.jsxs("g",{fill:"none",fillRule:"evenodd",children:[e.jsx("path",{fill:"#033A6D",d:"M77 88 45.834 66.957 14.667 88V0H77z"}),e.jsx("path",{fill:"#FF9250",d:"m45.834 15.304 5.5 13.392H66l-11 9.565 3.667 15.304L45.834 44 33 53.565l3.667-15.304-11-9.565h14.667z"}),e.jsx("circle",{fill:"#FFF",cx:"86",cy:"86",r:"18"}),e.jsx("g",{fill:"#04BF8D",children:e.jsx("path",{d:"M82 62c11 0 20 9 20 20s-9 20-20 20-20-9-20-20 9-20 20-20Zm9.6 12L78.571 85.692 72.4 80.154 70 82.308 78.571 90 94 76.154 91.6 74Z"})})]})});Es.defaultProps={width:34,height:48};Es.propTypes={width:o.number,height:o.number};const sa=g.memo(Es),ih="fw-A2",ah="_9JaZh",oh="OAAVX",ch="nB1IX",lh="kIXto",rh="n9UFf",kn={container:ih,header:ah,icon:oh,body:ch,footer:lh,mainButton:rh},Is=({open:n,endOfPeriod:s,onDone:i,premiumPrice:a,className:c,loadingCoupon:u,discount:d,location:h})=>{const p=a-d;return g.useEffect(()=>{x("subscription_updated modal loaded",{location:h})},[]),e.jsxs(q,{open:n,className:j(kn.container,c),disableCloseIcon:!0,children:[e.jsxs("div",{className:kn.header,children:[e.jsx(sa,{className:kn.icon}),e.jsx("div",{className:kn.title,children:e.jsx("h2",{children:"Subscription updated"})})]}),e.jsxs("div",{className:kn.body,children:[e.jsxs("h3",{className:kn.subTitle,children:["When you renew on ",s,", you will be charged $",p?.toFixed(2),"."]}),e.jsx("p",{children:"You'll remain subscribed to Premium, enjoying all the same features you know and love!"})]}),e.jsx("div",{className:kn.footer,children:e.jsx(_,{onClick:i,className:kn.mainButton,loading:u,children:"Sounds Good"})})]})};Is.propTypes={endOfPeriod:o.string,premiumPrice:o.number,discount:o.number,onDone:o.func,className:o.string,open:o.bool,location:o.string};Is.defaultProps={onCancel:()=>{},onDone:()=>{},date:"",billedOn:"",premiumPrice:""};const dh=`#import "../fragments/subscription.fragment.graphql"

mutation scheduleNextSubscriptionMutation(
  $newPlanId: String!
  $idempotencyKey: String!
) {
  scheduleNextSubscriptionMutation(
    input: { newPlanId: $newPlanId, idempotencyKey: $idempotencyKey }
  ) {
    subscription {
      ...SubscriptionFragment
    }
  }
}
`,Ot={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"scheduleNextSubscriptionMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newPlanId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idempotencyKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scheduleNextSubscriptionMutation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"newPlanId"},value:{kind:"Variable",name:{kind:"Name",value:"newPlanId"}}},{kind:"ObjectField",name:{kind:"Name",value:"idempotencyKey"},value:{kind:"Variable",name:{kind:"Name",value:"idempotencyKey"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SubscriptionFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:361,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:dh}}},uh=n=>{const s={};return n.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const a=i.name.value;return s[a]?!1:(s[a]=!0,!0)})};Ot.definitions=uh(Ot.definitions.concat(Po.definitions));const mh=(n,s)=>{const i=(t,l)=>{if(t.kind==="FragmentSpread")l.add(t.name.value);else if(t.kind==="VariableDefinition"){const r=t.type;r.kind==="NamedType"&&l.add(r.name.value)}return t&&"selectionSet"in t&&t.selectionSet&&t.selectionSet.selections.forEach(r=>{i(r,l)}),t&&"variableDefinitions"in t&&t.variableDefinitions&&t.variableDefinitions.forEach(r=>{i(r,l)}),t&&"definitions"in t&&t.definitions&&t.definitions.forEach(r=>{i(r,l)}),l},a=t=>{const l={};return t.definitions.forEach(function(r){"name"in r&&r.name&&(l[r.name.value]=i(r,new Set))}),l},c=(t,l)=>{for(let r=0;r<t.definitions.length;r++){const b=t.definitions[r];if(b&&"name"in b&&b.name&&b.name.value==l)return b}},u=a(n),d=Object.assign({},n,{definitions:[c(n,s)]}),h=u[s]||new Set,p=new Set;let m=new Set;for(h.forEach(t=>{m.add(t)});m.size>0;){const t=m;m=new Set,t.forEach(l=>{p.has(l)||(p.add(l),(u[l]||new Set).forEach(b=>{m.add(b)}))})}return p.forEach(t=>{const l=c(n,t);l&&d.definitions.push(l)}),d};mh(Ot,"scheduleNextSubscriptionMutation");const ph="JVAby",hh="CR-VJ",bh="kwWmz",fh="EhuTX",gh="QKdS2",vh="vBAaW",xh="xWkFK",yh="uLjKf",kh="_06xEi",Nh="UvG0I",jh="wWSBv",Sh="daVAT",_h="_1cY5d",Ch="uOM8u",be={proPlan:ph,leftAligned:hh,premiumPlanLabel:bh,premiumPlan:fh,allBenefitsContainer:gh,benefitItem:vh,itemIconWrapper:xh,description:yh,disabled:kh,centered:Nh,expandableCard:jh,cardHeader:Sh,cardContent:_h,premiumExpandableCard:Ch};function Kn({item:n,disabled:s,premium:i}){const{icon:a,title:c,description:u}=n;return e.jsxs("div",{className:j(be.benefitItem,{[be.centered]:!u,[be.disabled]:s}),children:[a&&e.jsx("div",{className:be.itemIconWrapper,children:e.jsx(a,{width:27,height:27,color:ke.orangeLight})}),e.jsxs("div",{children:[e.jsx(T,{color:i?"white":"",weight:"bold",children:c}),u&&e.jsx(T,{className:be.description,color:i?"white":"",children:u})]})]},c)}function es({benefits:n,isProPlan:s,scrollToPremiumPlan:i}){const a=gt();return n.map((u,d)=>{const{title:h,titleShort:p,items:m=[]}=u,t=m.filter(f=>f.plan!=="premium")||[],l=a&&m.filter(f=>f.plan==="premium")||[],r=p||h;let b;return a?s?b=e.jsx(Bs,{defaultExpanded:d===0,className:be.expandableCard,headerClassName:be.cardHeader,contentClassName:be.cardContent,title:r,children:e.jsxs("div",{className:be.proPlan,children:[t.map(f=>e.jsx(Kn,{item:f},`non-premium-${f.title}`)),!!l.length&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{className:be.premiumPlanLabel,italic:!0,weight:"semi",children:["Only included with"," ",e.jsx(tn,{onClick:i,children:"Premium Plan"}),":"]}),l.map(f=>e.jsx(Kn,{item:f,disabled:!0},`premium-${f.title}`))]})]})},u.title):b=e.jsx(Bs,{defaultExpanded:d===0,className:j(be.expandableCard,be.premiumExpandableCard),headerClassName:be.cardHeader,contentClassName:be.cardContent,iconProps:{color:ke.white},title:r,children:e.jsx("div",{className:be.premiumPlan,children:m.map(f=>e.jsx(Kn,{item:f,premium:!0},`premium-${f.title}`))})},u.title):b=e.jsxs("div",{className:be.allBenefitsContainer,children:[e.jsxs("div",{className:j(be.proPlan,be.leftAligned),children:[e.jsx(T,{className:j("mb-16",be.sectionTitle),size:"large",weight:"semi",children:r}),t.map(f=>e.jsx(Kn,{item:f},`non-premium-${f.title}`))]}),e.jsxs("div",{className:j(be.premiumPlan,be.leftAligned),children:[e.jsx(T,{className:j("mb-16",be.sectionTitle),color:"white",size:"large",weight:"semi",children:r}),m.map(f=>e.jsx(Kn,{item:f,premium:!0},`premium-${f.title}`))]})]}),b})}Kn.propTypes={item:o.object.isRequired,disabled:o.bool,premium:o.bool};const $s=n=>e.jsx("svg",{...n,viewBox:"0 0 28 28",children:e.jsx("path",{fill:n.color,fillRule:"evenodd",d:"M14 .607c7.333 0 13.333 6 13.333 13.334 0 7.333-6 13.333-13.333 13.333S.667 21.274.667 13.941C.667 6.607 6.667.607 14 .607ZM9.385 7.274 7.333 9.325l4.615 4.616-4.615 4.615 2.052 2.051L14 15.991l4.616 4.616 2.05-2.05-4.615-4.616 4.616-4.616-2.052-2.05L14 11.888 9.385 7.274Z",clipRule:"evenodd"})});$s.defaultProps={width:28,height:28,color:ke.greyLight};$s.propTypes={width:o.number,height:o.number,color:o.string};const wh=g.memo($s),Th="LU4-7",Ph="YEjRP",Ah="aS7FY",ct={actions:Th,benefits:Ph,benefit:Ah},ns="Change Confirmation Pro",Eh=["Income Insights","Lower Screening Fees — <i>Renters pay $45 instead of $55</i>","Marketing Call Forwarding","Unlimited E-Signatures","Free ACH Payments — <i>Normally $2 fee for renters</i>","Unlimited Bank Accounts"],ia=({isDowngrading:n=!1,onChangePlan:s,onClose:i,open:a=!1})=>(g.useEffect(()=>{x("change_to_pro modal loaded",{location:ns})},[]),e.jsxs(q,{open:a,className:ct.container,size:"small",children:[e.jsx(q.Header,{children:e.jsx(xe,{className:"mb-0",children:"Change your plan to Pro?"})}),e.jsxs(q.Content,{className:ct.contentContainer,children:[e.jsxs(T,{className:"mb-12",children:["When your plan renews ",e.jsx("b",{children:"you will lose access to:"})]}),e.jsx("div",{className:ct.benefits,children:Eh.map(c=>e.jsxs("div",{className:ct.benefit,children:[e.jsx(wh,{color:"#BF2C2C"}),e.jsx("div",{dangerouslySetInnerHTML:{__html:c}})]},c))})]}),e.jsxs(q.Footer,{className:ct.actions,children:[e.jsx(_,{onClick:()=>{x("nevermind clicked",{location:ns}),i()},secondary:!0,children:"Nevermind"}),e.jsx(_,{loading:n,onClick:()=>{x("yes_change_plan clicked",{location:ns}),s()},children:"Yes, Change Plan"})]})]}));ia.propTypes={isDowngrading:o.bool,onClose:o.func.isRequired,onChangePlan:o.func.isRequired,open:o.bool};const Ih="GX1-f",$h="VApRt",Rh="E2XpQ",Fh="NfIza",Mh="NymSV",Dh="HMsRj",Oh="_48qBU",Lh="hghR2",Nn={premiumPlan:Ih,planHeader:$h,label:Rh,currentPlanTag:Fh,btn:Mh,disabledBtn:Dh,price:Oh,priceValue:Lh};function us({premiumPlanRef:n,onChangeToPremium:s,isCurrentPlan:i,muaUser:a}){const c=vt(a),u=qt(a),d=Ut[u];return e.jsxs("div",{className:Nn.premiumPlan,ref:n,children:[e.jsxs("div",{className:Nn.planHeader,children:[e.jsx(xe,{className:Nn.label,color:"white",children:"Premium"}),i&&e.jsx(Dn,{className:Nn.currentPlanTag,children:"Subscribed"})]}),e.jsxs("div",{className:Nn.price,children:[e.jsx(xe,{className:Nn.priceValue,color:"white",children:"$149"}),e.jsx(T,{color:"lightGrey",weight:"bold",children:"PER YEAR"})]}),e.jsx(_,{className:j(Nn.btn,Nn.disabledBtn),disabled:i||c,"data-tooltip-id":"upgrade-to-premium-btn-tooltip",onClick:()=>{x("change_to_premium clicked",{location:"Manage Plan"}),s()},children:i?"Current Plan":"Upgrade To Premium"}),c&&e.jsxs(we,{id:"upgrade-to-premium-btn-tooltip",children:["Your role as an ",d," does not allow you to perform this action."]})]})}us.propTypes={premiumPlanRef:o.object,isCurrentPlan:o.bool.isRequired,onChangeToPremium:o.func.isRequired,muaUser:o.object.isRequired};const Bh="y6--b",qh="_4pmCx",Uh="_2VhJA",Vh="kuq17",Hh="_8PwY6",Yh="Wdyg5",Gh="-Lb9P",Qh="_6E9zh",Wh="ix4Lg",hn={proPlan:Bh,allBorders:qh,marginTop:Uh,planHeader:Vh,label:Hh,currentPlanTag:Yh,btn:Gh,price:Qh,priceValue:Wh};function ms({onChangeToPro:n,isCurrentPlan:s,muaUser:i}){const a=vt(i),c=qt(i),u=Ut[c];return e.jsxs("div",{className:j(hn.proPlan,hn.allBorders,hn.marginTop),children:[e.jsxs("div",{className:hn.planHeader,children:[e.jsx(xe,{className:hn.label,children:"Pro"}),s&&e.jsx(Dn,{className:hn.currentPlanTag,children:"Subscribed"})]}),e.jsxs("div",{className:hn.price,children:[e.jsx(xe,{className:hn.priceValue,children:"$119"}),e.jsx(T,{color:"light",weight:"bold",children:"PER YEAR"})]}),e.jsx(_,{className:hn.btn,onClick:()=>{x("change_to_pro clicked",{location:"Manage Plan"}),n()},disabled:s||a,"data-tooltip-id":"upgrade-to-premium-btn-tooltip",children:s?"Current Plan":"Change To Pro"}),a&&e.jsxs(we,{id:"upgrade-to-premium-btn-tooltip",children:["Your role as an ",u," does not allow you to perform this action."]})]})}ms.propTypes={onChangeToPro:o.func.isRequired,isCurrentPlan:o.bool.isRequired,muaUser:o.object.isRequired};const zh="Zhe3r",Kh="_22gCd",Zh="v1vHM",Xh="MnChK",lt={btn:zh,divider:Kh,header:Zh,subTitle:Xh},aa=({endDate:n,onSubmit:s,open:i=!1})=>(g.useEffect(()=>{x("pro_changed modal loaded",{location:"Change Confirmation Pro"})},[]),e.jsxs(q,{open:i,size:"small",children:[e.jsxs(q.Header,{className:lt.header,children:[e.jsx(sa,{width:64,height:64}),e.jsx(xe,{className:"mb-0",children:"Plan changed to Pro"})]}),e.jsxs(q.Content,{children:[e.jsx(On,{className:lt.divider,text:""}),e.jsxs(T,{className:lt.subTitle,weight:"semi",children:["When you renew on ",n,", you will be charged $119.00."]}),e.jsx(T,{className:"mt-8",children:"Until then, you can keep enjoying expedited rent payouts, unlimited lease agreements, priority listing review, and more!"})]}),e.jsx(q.Footer,{className:lt.actions,children:e.jsx(_,{className:lt.btn,onClick:()=>{x("sounds_good clicked",{location:"Pro Changed Modal"}),s()},children:"Sounds Good"})})]}));aa.propTypes={endDate:o.string.isRequired,onSubmit:o.func.isRequired,open:o.bool};const Jh="VETac",eb="Cql6C",nb="i3C54",tb="_6HJGm",sb="g0iG2",ib="luRva",ab="gBvGV",ob="EL7IK",cb="FWJH1",lb="Sx-Pl",rb="ZiB-c",db="_0qj23",ub="DFN9t",mb="Ryoat",pb="_9dlJ6",hb="qAPYJ",bb="hkI2F",fb="bg1BV",gb="I-5hS",vb="_21QDt",xb="iaHiL",yb="_9OeOP",kb="_8u1jg",Nb="zx0zJ",jb="FK7Wl",Sb="Gg6bM",_b="s2lUK",Cb="tPneH",wb="WMnn9",Tb="SxYAi",Pb="niDvH",Ab="vgHuE",Eb="-RIKQ",Ib="OYLm8",$b="j1jDt",bn={container:Jh,backBtn:eb,proPlan:nb,allBorders:tb,marginTop:sb,leftAligned:ib,premiumPlanLabel:ab,premiumPlan:ob,planHeader:cb,label:lb,currentPlanTag:rb,sectionTitle:db,plans:ub,btn:mb,disabledBtn:pb,cancelSubscriptionBtn:hb,price:bb,priceValue:fb,benefitsContainer:gb,allBenefitsContainer:vb,benefitItem:xb,itemIconWrapper:yb,description:kb,disabled:Nb,centered:jb,expandableCard:Sb,cardHeader:_b,cardContent:Cb,premiumExpandableCard:wb,iconClassName:Tb,modal:Pb,title:Ab,actions:Eb,text:Ib,pulse:$b},oa=({loadingUser:n,onCancelSubscription:s,user:i,muaUser:a})=>{const c=an(),{showUpgradeModal:u}=hs.parse(location.search),d=i?.premium_price_signup,h=gt(),p=fe(),m=g.useRef(null),[t,l]=g.useState(!1),r=Bn(),[b,{loading:f}]=U(Ot),[v]=U(vs),{loading:N,data:y}=sn(me),C=n?[]:Ao("billing",i,p),{premiumPlusSubscriptionInfo:A}=y?.userData?.settingsAndBilling?.data||{},S=Ge(A?.current?.current_period_end||Ge().add(1,"year")).format("MM/DD/YYYY"),F=A?.current?.current_period_end,P=()=>{m.current&&m.current.scrollIntoView({behavior:"smooth"})},E=()=>l(!0),k=()=>{x("upgrade_plan clicked",{location:"Billing"});const w=new URLSearchParams(location.search);w.set("showUpgradeModal","true"),c({pathname:location.pathname,search:w.toString()},{replace:!0})},I=w=>{const Z=new URLSearchParams(location.search);Z.delete(w),c({pathname:location.pathname,search:Z.toString()},{replace:!0})},L=async()=>{let w;try{const Z=Io();await b({variables:{newPlanId:p.GBB_PRO_YEARLY_119_PLAN_ID,idempotencyKey:Z}}),l(!1),r(X=>e.jsx(aa,{open:!0,endDate:S,onSubmit:()=>{X(),c(`${p.PRIVATE_BASE_PATH}settings/billing`)}}))}catch(Z){const X=Z?.graphQLErrors[0]?.message||"Failed to downgrade";pe(X),w=Z?.graphQLErrors}$o(w)},$=async()=>{try{await v({variables:{newPlanId:p.PREMIUM_PLAN_ID_DEFAULT,referral:"Billing Upgrade Modal",action:"Upgrade"}}),I("showUpgradeModal"),r(w=>e.jsx(ki,{open:!0,showCheckMark:!0,showAnimation:!1,title:"Upgrade complete!",primaryLabel:"Sounds Good",primaryAction:()=>{x("sounds_good clicked",{location:"Plan Upgraded Success Modal"}),w()},className:bn.modal,classNameTitle:bn.title,classNameActions:bn.actions,children:e.jsx("p",{className:bn.text,children:"Enjoy access to all the features that come with your new plan."})}))}catch(w){console.log(w),pe("Failed to upgrade to premium")}};if(n||N)return null;const z=A?.current?.subscription_short_code===p.GBB_PRO_YEARLY_119_SHORT_CODE,he=pi(i,cs.GT_PREMIUM_MODAL_EXPERIMENT.name).includes("metered_display_only"),ee=qs(i)||Eo(i)||qs(i);return e.jsxs("div",{className:bn.container,children:[e.jsx(At,{className:bn.backBtn,onClick:()=>c(`${p.PRIVATE_BASE_PATH}settings/billing`)}),!he&&!ee&&e.jsxs(e.Fragment,{children:[e.jsx(xe,{children:"Manage your plan"}),e.jsxs(T,{className:"mb-16",children:["Any plan changes will take effect on ",S]}),h?e.jsxs(e.Fragment,{children:[e.jsx(us,{onChangeToPremium:k,premiumPlanRef:m,isCurrentPlan:!z,muaUser:a}),e.jsx(es,{benefits:C}),e.jsx(ms,{onChangeToPro:E,isCurrentPlan:z,muaUser:a}),e.jsx(es,{isProPlan:!0,benefits:C,scrollToPremiumPlan:P})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:bn.plans,children:[e.jsx(ms,{onChangeToPro:E,isCurrentPlan:z,muaUser:a}),e.jsx(us,{onChangeToPremium:k,isCurrentPlan:!z,muaUser:a})]}),e.jsx(es,{benefits:C})]})]}),e.jsx(Q,{className:j(bn.btn,bn.cancelSubscriptionBtn),type:"primary",variant:"outline",onClick:()=>{x("cancel_subscription clicked",{location:"Manage Plan"}),s()},children:"Cancel Subscription"}),t&&e.jsx(ia,{open:t,onClose:()=>l(!1),onChangePlan:L,isDowngrading:f}),u&&z&&e.jsx(xs,{open:!0,onClose:()=>I("showUpgradeModal"),onUpgrade:()=>$(),premiumPrice:d,subscriptionEnd:F,muaUser:a})]})};oa.propTypes={onCancelSubscription:o.func.isRequired,loadingUser:o.bool.isRequired,user:o.object.isRequired,muaUser:o.object.isRequired};const Rb="pNqmI",Zs={cancelPremiumQuestionnaireModal:Rb},ca=({loadingUser:n,user:s,muaUser:i})=>{const a=an(),c=30,{GBB_PRO_YEARLY_119_SHORT_CODE:u,GBB_PREMIUM_PLUS_YEARLY_299_SHORT_CODE:d}=fe(),h=qn(),p=ys(),{data:m}=sn(me,{fetchPolicy:"cache-and-network",skip:n||!s?.id}),{premiumPlusSubscriptionInfo:t}=m?.userData?.settingsAndBilling?.data||{},[l]=U(Wi),r=t?.current,[b]=U(bt,{refetchQueries:[{query:me}],awaitRefetchQueries:!0}),f=async()=>{try{await b({variables:{subscriptionId:r.id}}),p("Subscription canceled. You will no longer be charged.")}catch(E){throw h("An error has ocurred"),E}},v=Bn(),N=t?.current?.current_period_end??null,y=t?.current?.subscription_short_code??"",C=y===u,A=y===d,[S,{loading:F}]=U(ft,{refetchQueries:[{query:me},{query:oe}]}),P=g.useCallback(E=>async k=>{try{x("cancelation_reason clicked",{location:"billing modal"});let I=k?.cancel_premium_reasons;I?.length===0&&(I=void 0);const L=k?.unhappy_input||void 0,$=k?.something_else_input||void 0,z={cancelReason:{cancel_premium_reasons:I,...$||L?{description:{SOMETHING_ELSE_INPUT:$,UNHAPPY_INPUT:L}}:{}}};await l({variables:z}),await f(),E(),a("/owners/settings/billing")}catch(I){console.error(I)}},[f,a]);return e.jsx(oa,{loadingUser:n,user:s,muaUser:i,onCancelSubscription:()=>v(E=>e.jsx(Gt,{location:"Manage Plan",isProPlan:C,isPremiumPlusPlan:A,onClose:()=>{x("nevermind clicked",{location:"Cancel Subscription Modal"}),E()},onDone:()=>{x("yes_continue clicked",{location:"billing modal"});const k=Ge(N).diff(Ge(),"days");!t?.cancelation_coupon_applied&&k<=60?(v(I=>e.jsx(As,{open:!0,location:"Cancel Subscription Modal",onClose:I,onCancel:()=>{x("no_thank_you clicked",{location:"Loyalty Discount Modal"}),v(L=>e.jsx(ht,{className:Zs.cancelPremiumQuestionnaireModal,isProPlan:C,isPremiumPlusPlan:A,isOpen:!0,onClose:L,onDone:P(L)})),I()},onDone:async()=>{x("accept_discount clicked",{location:"Loyalty Discount Modal"});try{await S(),v(L=>e.jsx(Is,{open:!0,location:"Loyalty Discount Modal",onDone:()=>{x("sounds_good clicked",{location:"Subscription Updated Modal"}),L()},endOfPeriod:Ae(N,"MM/DD/YYYY"),discount:c,premiumPrice:r?.upcoming_invoice?.amount_due/100})),I()}catch{h("An error has ocurred")}},loadingCoupon:F,billedOn:Ae(N,"MM/DD/YYYY"),discount:c,premiumPrice:r?.upcoming_invoice?.amount_due/100})),E()):(v(I=>e.jsx(ht,{className:Zs.cancelPremiumQuestionnaireModal,isProPlan:C,isPremiumPlusPlan:A,isOpen:!0,onClose:I,onDone:P(I)})),E())},renewDate:Ae(N)}))})};ca.propTypes={loadingUser:o.bool.isRequired,user:o.object.isRequired,muaUser:o.object.isRequired};const Fb=`mutation inviteUser(
  $email: String!
  $first_name: String!
  $last_name: String!
  $resending_invite: Boolean
  $role: AccountAccessRole = ACCOUNT_ADMIN
  $listingIds: [String] = []
  $portfolioIds: [String] = []
) {
  inviteUser(
    input: {
      email: $email
      first_name: $first_name
      last_name: $last_name
      resending_invite: $resending_invite
      role: $role
      listingIds: $listingIds
      portfolioIds: $portfolioIds
    }
  ) {
    ok
  }
}
`,la={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"inviteUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first_name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last_name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resending_invite"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"role"}},type:{kind:"NamedType",name:{kind:"Name",value:"AccountAccessRole"}},defaultValue:{kind:"EnumValue",value:"ACCOUNT_ADMIN"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listingIds"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:{kind:"ListValue",values:[]},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"portfolioIds"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:{kind:"ListValue",values:[]},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"inviteUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"ObjectField",name:{kind:"Name",value:"first_name"},value:{kind:"Variable",name:{kind:"Name",value:"first_name"}}},{kind:"ObjectField",name:{kind:"Name",value:"last_name"},value:{kind:"Variable",name:{kind:"Name",value:"last_name"}}},{kind:"ObjectField",name:{kind:"Name",value:"resending_invite"},value:{kind:"Variable",name:{kind:"Name",value:"resending_invite"}}},{kind:"ObjectField",name:{kind:"Name",value:"role"},value:{kind:"Variable",name:{kind:"Name",value:"role"}}},{kind:"ObjectField",name:{kind:"Name",value:"listingIds"},value:{kind:"Variable",name:{kind:"Name",value:"listingIds"}}},{kind:"ObjectField",name:{kind:"Name",value:"portfolioIds"},value:{kind:"Variable",name:{kind:"Name",value:"portfolioIds"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:512,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Fb}}},Mb="ql68l",Db="_13b-B",Ob="XG1CP",Lb="vC4A9",rt={emptyStateCard:Mb,title:Db,description:Ob,button:Lb},Lt=({title:n,description:s,buttonLabel:i,onClick:a,extra:c,className:u,isAssistant:d,accountRole:h})=>e.jsxs(e.Fragment,{children:[e.jsxs(rn,{className:j(rt.emptyStateCard,u),children:[e.jsx(Xn,{className:rt.title,children:n}),e.jsx(T,{className:rt.description,children:s}),e.jsx(_,{className:rt.button,onClick:a,disabled:d,"data-tooltip-id":`empty-state-card-${n}-tooltip`,children:i}),c&&e.jsx("div",{className:rt.extra,children:c})]}),d?e.jsxs(we,{id:`empty-state-card-${n}-tooltip`,children:["Your role as an ",h," does not allow you to perform this action."]}):null]});Lt.propTypes={title:o.string.isRequired,description:o.string.isRequired,buttonLabel:o.string.isRequired,onClick:o.func.isRequired,extra:o.node,className:o.string,isAssistant:o.bool,accountRole:o.string};const Rs=({color:n,fillColor:s,...i})=>e.jsx("svg",{viewBox:"0 0 64 64",fill:"none",...i,children:e.jsxs("g",{fillRule:"evenodd",clipRule:"evenodd",children:[e.jsx("path",{fill:s,d:"M29.333 37.333H44L45.333 32l12 10.667-12 10.666L44 48H29.333V37.333Z"}),e.jsx("path",{fill:n,d:"M43.111 30.444c0-.967 1.15-1.473 1.862-.82l13.333 12.222c.48.44.48 1.198 0 1.638L44.973 55.706c-.713.653-1.862.148-1.862-.82v-5.554H28.667c-.546 0-1-.393-1.094-.912l-.017-.2V37.11c0-.614.497-1.111 1.11-1.111h14.445v-5.555Zm2.222 2.524v4.142c0 .614-.497 1.111-1.11 1.111H29.777v8.889h14.444c.546 0 1 .392 1.093.91l.018.2v4.14l10.578-9.695-10.578-9.697Zm4.445-23.635a4.446 4.446 0 0 1 4.432 4.113l.012.332V27.25a1.111 1.111 0 0 1-2.204.2l-.018-.2V13.778c0-.248-.04-.485-.115-.708L30.472 30.2a1.111 1.111 0 0 1-1.205.12l-.183-.12L7.67 13.07a2.206 2.206 0 0 0-.1.449l-.015.259V38.22c0 1.139.858 2.079 1.963 2.207l.259.015h13.338a1.111 1.111 0 0 1 .2 2.204l-.2.018H9.778a4.446 4.446 0 0 1-4.432-4.112l-.013-.332V13.778a4.446 4.446 0 0 1 4.113-4.432l.332-.012h40Zm0 2.223h-40c-.136 0-.27.012-.398.035l20.398 16.317 20.397-16.317a2.166 2.166 0 0 0-.138-.02l-.26-.015Z"})]})});Rs.defaultProps={width:64,height:64,color:"#042238",fillColor:"#7FE3FF"};Rs.propTypes={width:o.number,height:o.number,color:o.string,fillColor:o.string};const Bb=g.memo(Rs),qb="D84Mz",Ub="l-MXM",Vb="dD7dc",Hb="_4zFbV",Yb="Ey4oI",Gb="XYVou",Qb="f-gTv",Wb="bBcMA",zb="_2LRtE",Kb="NSZlD",We={modal:qb,closeBtn:Ub,modalHeader:Vb,iconWrapper:Hb,modalContent:Yb,title:Gb,inlineContainer:Qb,inlineText:Wb,text:zb,btn:Kb},ra=({className:n,containerClassName:s,open:i,onClose:a,onSend:c,firstName:u,invitedAt:d,loading:h})=>e.jsx(q,{open:i,className:j(We.modal,n),containerClassName:j(We.modalContainer,s),onClose:a,children:e.jsxs(Ye,{loading:h,children:[e.jsx(He,{icon:Ni,onClick:a,className:We.closeBtn,iconProps:{color:ke.greyLight,width:14,height:14}}),e.jsx("div",{className:We.modalHeader,children:e.jsx("div",{className:We.iconWrapper,children:e.jsx(Bb,{className:We.icon})})}),e.jsxs("div",{className:We.modalContent,children:[e.jsxs("h2",{className:We.title,children:["Re-invite ",u]}),e.jsx(li,{containerClassName:We.inlineContainer,type:"info",children:e.jsxs("span",{className:We.inlineText,children:["An email was sent on ",Ge(d).format("MMMM D, YYYY"),"."]})}),e.jsxs("p",{className:We.text,children:["We'll send an email re-inviting ",u," to your account so they can set their login credentials."]}),e.jsx(_,{className:We.btn,onClick:c,children:"Send Invitation"})]})]})});ra.propTypes={className:o.string,containerClassName:o.string,open:o.bool,onClose:o.func.isRequired,onSend:o.func.isRequired,firstName:o.string,invitedAt:o.string,loading:o.bool};const Zb="EQmNr",Xb="HtcOc",Jb="nhGQp",ef="DB3vG",nf="ThEgQ",tf="q6lFP",sf="_2LLd4",af="NU18t",of="lhbW8",cf="tDnR0",lf="VpxFK",rf="eAKW4",df="FPA06",uf="UUh4T",mf="_4S2pL",pf="a-gbn",hf="kuTPi",bf="MsYWc",ff="Gput1",gf="LGJzZ",vf="gnM0p",xf="vJsZL",de={container:Zb,premiumBadge:Xb,headerRow:Jb,title:ef,betaTag:nf,addUserBtn:tf,userList:sf,userCard:af,desktopOnly:of,mobileOnly:cf,viewProfile:lf,userCardContent:rf,profilePicture:df,info:uf,hasResend:mf,name:pf,roleTag:hf,email:bf,actions:ff,dropdownTrigger:gf,invitedTag:vf,deleteButton:xf},yf=n=>{if(!n||!n.listingIds?.length&&!n.portfolioIds?.length)return"All properties";const{listingIds:s=[],portfolioIds:i=[]}=n,a=s.length,c=i.length;return c===0&&a===1?"1 property":c===0&&a>1?`${a} properties`:c===1&&a===0?"1 portfolio | 0 properties":c===1&&a===1?"1 portfolio | 1 property":c===1&&a>1?`1 portfolio | ${a} properties`:`${c} portfolios | ${a} properties`},da=({className:n,users:s,onRemove:i,onAddUser:a,loading:c,onEditUser:u,isMuaV2Enabled:d,isPremium:h})=>{const{PRIVATE_BASE_PATH:p}=fe(),[m,t]=g.useState({}),l=qn(),r=Ht(),b=an(),{muaUser:f}=vn({},!1),v=s?.length>1,N=Ge(),y=Ge("2025-2-1"),C=It(f),A=()=>C?v?e.jsx(_,{tertiary:!0,className:de.addUserBtn,icon:()=>e.jsx(Be,{name:"plus-circle"}),onClick:a,children:"Add User"}):y.diff(N,"days")>0?e.jsx(Dn,{className:de.betaTag,accent:!0,uppercase:!1,children:"Beta"}):null:null,[S,{loading:F}]=U(la),P=async({firstName:k,lastName:I,email:L})=>{try{await S({variables:{first_name:k,last_name:I,email:L.toLowerCase(),resending_invite:!0},refetchQueries:[{query:me}],awaitRefetchQueries:!0}),t({}),r("Your email was sent!")}catch($){const z=V($,"graphQLErrors[0].message")||"Something went wrong";l(`Error inviting user: ${z}`)}},E=()=>{x("add_user clicked",{location:"Settings - Account"})};return e.jsxs(Ye,{className:j(de.container,n),loading:c,children:[!h&&d&&e.jsx(bi,{starColor:ke.orangeLight,color:ke.primary,className:de.premiumBadge,height:32,width:32}),e.jsxs("div",{className:de.headerRow,children:[e.jsx(xe,{className:de.title,children:"Team Roles"}),A()]}),e.jsxs("div",{className:de.userList,children:[!v&&e.jsx(Lt,{title:"Add additional users",description:"Easily assign the right level of access to team members so they can help manage your properties, while keeping full control over what they can see and do.",buttonLabel:"Add User",onClick:a,extra:e.jsx(tn,{href:"https://support.turbotenant.com/en/articles/9690662-multi-user-access",target:"_blank",rel:"noopener noreferrer",onClick:E,children:"Learn more about adding users"})}),(s||[]).filter(k=>k.user_role!==zn.MAIN).map(k=>{const I=f&&f.email===k.email,L=!k.confirmed_at&&C,$=(L||C)&&!I;return e.jsx("div",{className:de.userCard,children:e.jsxs("div",{className:de.userCardContent,children:[e.jsx(ls,{className:de.profilePicture,firstName:k.first_name,lastName:k.last_name,size:"medium"}),e.jsxs("div",{className:j(de.info,[{[de.hasResend]:L||I}]),children:[e.jsxs("h3",{className:de.name,children:[`${k.first_name} ${k.last_name}`," ",k.user_role&&e.jsx(Dn,{small:!0,uppercase:!1,className:de.roleTag,children:Ro(k.user_role)})]}),e.jsx("p",{className:de.email,children:k.email}),e.jsx(T,{color:"tertiary",className:de.accessSummary,children:yf(k.permissions_config)})]}),e.jsxs("div",{className:de.actions,children:[!k.confirmed_at&&e.jsx(Dn,{outlined:!0,small:!0,uppercase:!1,className:de.invitedTag,children:"Invited"}),$&&e.jsxs(e.Fragment,{children:[e.jsxs(Ze,{placement:"bottom-end",children:[e.jsx(Ze.Trigger,{children:e.jsx("span",{className:de.dropdownTrigger,"data-tooltip-id":`user-actions-${k.id||k.email}`,children:e.jsx(Be,{name:"more-vertical",size:"lg"})})}),e.jsxs(Ze.Content,{children:[C&&d&&e.jsx(Ze.Item,{as:nn,onClick:()=>{u({...k,role:k.user_role,has_logged_in:k.confirmed_at})},icon:"edit",children:"Edit"}),L&&e.jsx(Ze.Item,{as:nn,onClick:()=>{x("reinvite_user clicked",{location:"Settings - Account"}),t({firstName:k.first_name,lastName:k.last_name,email:k.email,invitedAt:k.invited_at,open:!0})},icon:"email-reminder",children:"Resend Invite"}),C&&e.jsx(Ze.Item,{as:nn,icon:"delete",color:"error",className:de.deleteButton,iconProps:{color:"error"},onClick:()=>{console.log("Delete user:",k),x("delete_user clicked",{location:"Settings - Account"}),i({userId:k.id,firstName:k.first_name,lastName:k.last_name})},children:"Delete"})]})]}),e.jsx(we,{place:"top",id:`user-actions-${k.id||k.email}`,children:"Actions"})]}),I&&e.jsxs(e.Fragment,{children:[e.jsx(_,{className:j(de.viewProfile,de.desktopOnly),secondary:!0,onClick:()=>b(`${p}settings/account/profile`),children:"View Profile"}),e.jsx(He,{icon:"edit",className:de.mobileOnly,onClick:()=>b(`${p}settings/account/profile`)})]})]})]})},k.email)})]}),m?.open?e.jsx(ra,{open:!0,firstName:m.firstName,invitedAt:m.invitedAt,onClose:()=>t({}),onSend:()=>{P({firstName:m.firstName,lastName:m.lastName,email:m.email})},loading:F}):null,v&&e.jsx(tn,{href:"https://support.turbotenant.com/en/articles/9690662-multi-user-access",target:"_blank",rel:"noopener noreferrer",onClick:E,children:"Learn more about adding users"})]})};da.propTypes={className:o.string,users:o.arrayOf(o.shape({id:o.string,first_name:o.string,last_name:o.string,email:o.string,invited_at:o.bool,user_role:o.string,telephone:o.string,permissions_config:o.object})),onRemove:o.func.isRequired,onAddUser:o.func.isRequired,loading:o.bool,onEditUser:o.func.isRequired,isMuaV2Enabled:o.bool,isPremium:o.bool};const gn={ADMIN:"ACCOUNT_ADMIN",ASSISTANT:"ASSISTANT"},kf="data:image/svg+xml,%3csvg%20width='152'%20height='152'%20viewBox='0%200%20152%20152'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20opacity='0.06'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M79.4072%2015.9147C92.8635%2021.8193%20123.049%2019.4301%20138.791%2039.2959C173.205%2094.7344%2075.4139%20171.841%2034.869%20135.708C7.06333%20110.928%20-1.32124%2063.7388%2012.6212%2026.2384C23.5314%20-3.10631%2060.7401%207.72364%2079.4072%2015.9147Z'%20fill='%232370A3'/%3e%3cpath%20d='M4.00006%20108H148'%20stroke='%23042238'%20stroke-width='1.72'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M96%20107V99.2527C96%2092.29%2092.7339%2085.6126%2086.9203%2080.6892C81.1067%2075.7659%2073.2217%2073%2065%2073C56.7783%2073%2048.8933%2075.7659%2043.0797%2080.6892C37.2661%2085.6126%2034%2092.29%2034%2099.2527V107H96Z'%20fill='%237FE3FF'%20stroke='black'%20stroke-width='1.72'%20stroke-linejoin='round'/%3e%3ccircle%20cx='64.5'%20cy='47.5'%20r='19.64'%20fill='%237FE3FF'%20stroke='black'%20stroke-width='1.72'/%3e%3cpath%20d='M81%20108V100.253C81%2093.29%2077.7339%2086.6126%2071.9203%2081.6892C66.1067%2076.7659%2058.2217%2074%2050%2074C41.7783%2074%2033.8933%2076.7659%2028.0797%2081.6892C22.2661%2086.6126%2019%2093.29%2019%20100.253V108H81Z'%20fill='white'%20stroke='%23042238'%20stroke-width='1.72'%20stroke-linejoin='round'/%3e%3ccircle%20cx='49.5'%20cy='48.5'%20r='19.64'%20fill='white'%20stroke='%23042238'%20stroke-width='1.72'/%3e%3cpath%20d='M119.974%20102.401C119.974%20101.911%20119.78%20101.442%20119.435%20101.096C119.09%20100.75%20118.622%20100.555%20118.133%20100.555H106.168C105.68%20100.555%20105.211%20100.361%20104.866%20100.015C104.521%2099.6688%20104.327%2099.1994%20104.327%2098.71V86.6971C104.327%2086.2077%20104.133%2085.7383%20103.788%2085.3923C103.443%2085.0462%20102.974%2084.8518%20102.486%2084.8518H93.2818C92.7935%2084.8518%2092.3253%2085.0462%2091.9801%2085.3923C91.6349%2085.7383%2091.4409%2086.2077%2091.4409%2086.6971V98.6915C91.4409%2099.1809%2091.247%2099.6503%2090.9017%2099.9964C90.5565%20100.342%2090.0883%20100.537%2089.6%20100.537H77.6344C77.1462%20100.537%2076.678%20100.731%2076.3328%20101.077C75.9875%20101.423%2075.7936%20101.893%2075.7936%20102.382V111.609C75.7936%20112.098%2075.9875%20112.567%2076.3328%20112.913C76.678%20113.26%2077.1462%20113.454%2077.6344%20113.454H89.6C90.0883%20113.454%2090.5565%20113.648%2090.9017%20113.994C91.247%20114.34%2091.4409%20114.81%2091.4409%20115.299V127.294C91.4409%20127.783%2091.6349%20128.252%2091.9801%20128.598C92.3253%20128.945%2092.7935%20129.139%2093.2818%20129.139H102.486C102.974%20129.139%20103.443%20128.945%20103.788%20128.598C104.133%20128.252%20104.327%20127.783%20104.327%20127.294V115.299C104.327%20114.81%20104.521%20114.34%20104.866%20113.994C105.211%20113.648%20105.68%20113.454%20106.168%20113.454H118.133C118.622%20113.454%20119.09%20113.26%20119.435%20112.913C119.78%20112.567%20119.974%20112.098%20119.974%20111.609V102.401Z'%20fill='white'%20stroke='%23042238'%20stroke-width='1.72'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Nf="_58Gkf",jf="yM3z8",Sf="EFZwH",_f="wlB-x",Cf="_3y8y4",wf="AQMdF",Tf="yJVL6",Pf="p-MmX",Af="_2tfcQ",Ef="k5quj",If="b0l3s",$f="hrhN6",Rf="zJ-VC",Ff="Dz9Al",Mf="_-8md1",Df="qlx0N",Of="zEwTM",Lf="Z4T1V",Bf="euMZf",qf="tTmM9",Uf="UHCHc",Vf="Kfop0",Hf="Sd6jc",Yf="TxHie",Gf="v5eyf",Qf="zMDln",M={container:Nf,userInvited:jf,roleContainer:Sf,roleItem:_f,roleDescription:Cf,step1:wf,title:Tf,betaTag:Pf,subTitle:Af,iconContainer:Ef,items:If,bullet:$f,item:Rf,actions:Ff,button:Mf,learnMore:Df,step2:Of,form:Lf,emailRow:Bf,input:qf,checkbox:Uf,checkboxLabel:Vf,row:Hf,inviteSuccess:Yf,soundsGood:Gf,errorText:Qf},ua=({open:n,onClose:s,hasUsers:i,onSubmit:a,loading:c,is_azibo:u})=>{const[d,h]=g.useState(null),[p,m]=g.useState(!1),[t,l]=g.useState(1),r=async N=>{x("add_user_modal clicked",{location:"Add User Modal"}),await a(N)&&h({first_name:N?.first_name})},b=()=>{s(),l(1),h(null),m(!1)},f=Ge(),v=Ge("2025-2-1");return g.useEffect(()=>{n&&x("add_user_modal loaded",{location:"Settings - Account"})},[n]),e.jsxs(q,{className:j(M.container,{[M.userInvited]:!!d}),open:n,onClose:()=>{x("close clicked",{location:"Add User Modal"}),b()},showCloseIcon:!0,darkCloseIcon:!0,children:[t===1&&e.jsxs("div",{className:M.step1,children:[e.jsx("div",{className:M.iconContainer,children:e.jsx("img",{src:kf,alt:"Add User"})}),e.jsxs("h3",{className:M.title,children:["Add a user"," ",!i&&v.diff(f,"days")>0?e.jsx(Dn,{className:M.betaTag,accent:!0,uppercase:!1,children:"Beta"}):null]}),e.jsx("div",{className:M.subTitle,children:"How it works:"}),e.jsxs("div",{className:M.items,children:[e.jsxs("div",{className:M.item,children:[e.jsx("div",{className:M.bullet,children:e.jsx(Be,{name:"checkmark-filled",color:ke.primary})}),e.jsx("div",{children:"New users will receive an email inviting them to your account."})]}),e.jsxs("div",{className:M.item,children:[e.jsx("div",{className:M.bullet,children:e.jsx(Be,{name:"checkmark-filled",color:ke.primary})}),e.jsx("div",{children:"They'll use their own email address and password to sign in."})]}),e.jsxs("div",{className:M.item,children:[e.jsx("div",{className:M.bullet,children:e.jsx(Be,{name:"checkmark-filled",color:ke.primary})}),e.jsx("div",{children:"You can revoke a user's access at any time. "})]})]}),e.jsxs("div",{className:M.actions,children:[e.jsx(_,{className:M.button,onClick:()=>{x("next clicked",{location:"Add User Modal"}),l(2)},children:"Next"}),e.jsx("div",{className:M.learnMore,children:e.jsx("a",{href:"https://support.turbotenant.com/en/articles/9690662-multi-user-access",target:"_blank",rel:"noopener noreferrer",children:"Learn more about adding users"})})]})]}),t===2&&!d&&e.jsxs("div",{className:M.step2,children:[e.jsx("h3",{className:M.title,children:"Add a user"}),e.jsx("div",{className:M.form,children:e.jsx(Qe,{onSubmit:r,subscription:{submitting:!0,values:!0},children:({handleSubmit:N,submitting:y,values:C})=>e.jsxs("form",{onSubmit:N,className:M.form,children:[e.jsx(Xe,{children:"Contact information"}),e.jsxs("div",{className:M.row,children:[e.jsx(Y,{label:"First Name",component:$e,id:"first_name",name:"first_name",validate:Ce(ae,Pn),className:M.input}),e.jsx(Y,{label:"Last Name",component:$e,id:"last_name",name:"last_name",validate:Ce(ae,Pn),className:M.input})]}),e.jsx("div",{className:j(M.row,M.emailRow),children:e.jsx(Y,{label:"Email",component:$e,type:"email",id:"email",name:"email",validate:Ce(ae,mt),className:M.input,help:"This is the email they will use to login."})}),u&&e.jsxs("div",{className:M.roleContainer,children:[e.jsx(Xe,{children:"Choose their role"}),e.jsx("div",{className:M.row,children:e.jsx(Y,{name:"role",validate:ae,children:({input:A,meta:S})=>e.jsxs(Zn,{selected:A.value,onChange:A.onChange,selectionType:"radio",size:"lg",vertical:!0,children:[e.jsx(Zn.Item,{vertical:!0,value:gn.ADMIN,id:"role-admin",children:e.jsxs("div",{className:M.roleItem,children:[e.jsx(T,{size:"large",weight:"semi",children:"Admin"}),e.jsx(T,{size:"small",className:M.roleDescription,children:"Full account access"})]})}),e.jsx(Zn.Item,{vertical:!0,value:gn.ASSISTANT,id:"role-assistant",children:e.jsxs("div",{className:M.roleItem,children:[e.jsx(T,{size:"large",weight:"semi",children:"Assistant"}),e.jsx(T,{size:"small",className:M.roleDescription,children:"Access to everything except: Messaging, Rent payment setup, bank accounts, and payment methods"})]})}),S.error&&S.touched&&e.jsx(T,{color:"danger",size:"medium",weight:"semi",className:M.errorText,children:"Please choose a role."})]})})}),e.jsx(tn,{href:"https://support.turbotenant.com/en/articles/9690662-multi-user-access",target:"_blank",rel:"noopener noreferrer",size:"large",children:"Learn more about roles"})]}),!u&&C.role===gn.ASSISTANT&&e.jsxs("div",{className:M.roleContainer,children:[e.jsx(Xe,{children:"Properties"}),e.jsx("div",{className:M.row,children:e.jsxs(Y,{label:"Access to properties",component:$e,type:"select",id:"properties",name:"properties",className:M.input,children:[e.jsx("option",{value:"all",children:"All properties"}),e.jsx("option",{value:"specific",children:"Specific properties"})]})})]}),(!u||C.role===gn.ADMIN)&&e.jsx(ut,{className:M.checkbox,labelClassName:M.checkboxLabel,type:"checkbox",id:"consent",name:"consent",label:e.jsxs(e.Fragment,{children:["I consent and acknowledge that by"," ",e.jsx("b",{children:"adding a user to my account, this will grant them full access to my account"})," ","including rent payments, financial, billing and banking information, messaging and more."]}),input:{onChange:A=>{const{checked:S}=A.currentTarget;m(S)}}}),e.jsxs("div",{className:M.actions,children:[e.jsx(_,{secondary:!0,disabled:c||y,className:j(M.button,M.cancelButton),onClick:()=>{x("cancel clicked",{location:"Add User Modal"}),b()},children:"Cancel"}),e.jsx(_,{className:M.button,type:"submit",loading:y||c,disabled:y||c||!p,children:"Add User"})]})]})})})]}),d&&e.jsxs("div",{className:M.inviteSuccess,children:[e.jsx("div",{className:M.iconContainer,children:e.jsx(ai,{style:{width:80,height:80}})}),e.jsxs("h3",{className:M.title,children:[d.first_name,"'s been invited!"]}),e.jsxs("p",{children:[d.first_name," will receive an email invite shortly. You can delete their access at any time in Settings."]}),e.jsx("div",{className:M.actions,children:e.jsx(_,{onClick:b,className:M.soundsGood,children:"Sounds Good"})})]})]})};ua.propTypes={onClose:o.func.isRequired,open:o.bool.isRequired,hasUsers:o.bool,onSubmit:o.func.isRequired,loading:o.bool,is_azibo:o.bool};const Wf="U5mBX",zf="Zt-Ea",Kf="C7dPi",Zf="U5yih",Xf="fPwtC",Jf="krdQk",Rn={container:Wf,title:zf,text:Kf,actions:Zf,button:Xf,poBox:Jf},ma=({mailing_address:n,open:s,onClose:i,onSubmit:a})=>{const c=!!(n&&Object.keys(n).length>0);return e.jsxs(q,{open:s,onClose:i,className:Rn.container,children:[e.jsx("h3",{className:Rn.title,children:c?"Update your mailing address":"Add a mailing address"}),e.jsx("p",{className:Rn.text,children:"Your mailing address is required by the credit bureau for renter screening reports. We'll also use this to pre-fill your address in lease agreements."}),e.jsx(Qe,{onSubmit:a,initialValues:{mailing_address:n},children:({handleSubmit:u,submitting:d})=>e.jsxs("form",{onSubmit:u,style:{width:"100%"},children:[e.jsx(Fo,{streetAddressInputProps:{label:"Street Address"},showPoBoxesNote:!0,poBoxLabel:"PO Boxes are not permitted by TransUnion.",poBoxClassName:Rn.poBox,fieldNames:{address:"mailing_address.address",unit:"mailing_address.unit",city:"mailing_address.city",state:"mailing_address.state",zip:"mailing_address.zip"}}),e.jsxs("div",{className:Rn.actions,children:[e.jsx(_,{secondary:!0,className:Rn.button,onClick:i,disabled:d,children:"Cancel"}),e.jsx(_,{className:Rn.button,type:"submit",loading:d,children:c?"Update":"Add"})]})]})})]})};ma.propTypes={onClose:o.func.isRequired,onSubmit:o.func.isRequired,open:o.bool.isRequired,mailing_address:o.shape({address:o.string,unit:o.string,city:o.string,state:o.string,zip:o.string})};const eg="data:image/svg+xml,%3csvg%20width='152'%20height='152'%20viewBox='0%200%20152%20152'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20opacity='0.06'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M79.4072%2015.9147C92.8635%2021.8193%20123.049%2019.4301%20138.791%2039.2959C173.205%2094.7344%2075.4139%20171.841%2034.869%20135.708C7.06333%20110.928%20-1.32124%2063.7388%2012.6212%2026.2384C23.5314%20-3.10631%2060.7401%207.72364%2079.4072%2015.9147Z'%20fill='%232370A3'/%3e%3cpath%20d='M4.00006%20108H148'%20stroke='%23042238'%20stroke-width='1.72'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M96%20107V99.2527C96%2092.29%2092.7339%2085.6126%2086.9203%2080.6892C81.1067%2075.7659%2073.2217%2073%2065%2073C56.7783%2073%2048.8933%2075.7659%2043.0797%2080.6892C37.2661%2085.6126%2034%2092.29%2034%2099.2527V107H96Z'%20fill='%237FE3FF'%20stroke='black'%20stroke-width='1.72'%20stroke-linejoin='round'/%3e%3ccircle%20cx='64.5'%20cy='47.5'%20r='19.64'%20fill='%237FE3FF'%20stroke='black'%20stroke-width='1.72'/%3e%3cpath%20d='M81%20108V100.253C81%2093.29%2077.7339%2086.6126%2071.9203%2081.6892C66.1067%2076.7659%2058.2217%2074%2050%2074C41.7783%2074%2033.8933%2076.7659%2028.0797%2081.6892C22.2661%2086.6126%2019%2093.29%2019%20100.253V108H81Z'%20fill='white'%20stroke='%23042238'%20stroke-width='1.72'%20stroke-linejoin='round'/%3e%3ccircle%20cx='49.5'%20cy='48.5'%20r='19.64'%20fill='white'%20stroke='%23042238'%20stroke-width='1.72'/%3e%3cpath%20d='M119.974%20102.401C119.974%20101.911%20119.78%20101.442%20119.435%20101.096C119.09%20100.75%20118.622%20100.555%20118.133%20100.555H106.168C105.68%20100.555%20105.211%20100.361%20104.866%20100.015C104.521%2099.6688%20104.327%2099.1994%20104.327%2098.71V86.6971C104.327%2086.2077%20104.133%2085.7383%20103.788%2085.3923C103.443%2085.0462%20102.974%2084.8518%20102.486%2084.8518H93.2818C92.7935%2084.8518%2092.3253%2085.0462%2091.9801%2085.3923C91.6349%2085.7383%2091.4409%2086.2077%2091.4409%2086.6971V98.6915C91.4409%2099.1809%2091.247%2099.6503%2090.9017%2099.9964C90.5565%20100.342%2090.0883%20100.537%2089.6%20100.537H77.6344C77.1462%20100.537%2076.678%20100.731%2076.3328%20101.077C75.9875%20101.423%2075.7936%20101.893%2075.7936%20102.382V111.609C75.7936%20112.098%2075.9875%20112.567%2076.3328%20112.913C76.678%20113.26%2077.1462%20113.454%2077.6344%20113.454H89.6C90.0883%20113.454%2090.5565%20113.648%2090.9017%20113.994C91.247%20114.34%2091.4409%20114.81%2091.4409%20115.299V127.294C91.4409%20127.783%2091.6349%20128.252%2091.9801%20128.598C92.3253%20128.945%2092.7935%20129.139%2093.2818%20129.139H102.486C102.974%20129.139%20103.443%20128.945%20103.788%20128.598C104.133%20128.252%20104.327%20127.783%20104.327%20127.294V115.299C104.327%20114.81%20104.521%20114.34%20104.866%20113.994C105.211%20113.648%20105.68%20113.454%20106.168%20113.454H118.133C118.622%20113.454%20119.09%20113.26%20119.435%20112.913C119.78%20112.567%20119.974%20112.098%20119.974%20111.609V102.401Z'%20fill='white'%20stroke='%23042238'%20stroke-width='1.72'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ng="ma5BX",tg="CfRqi",sg="p92xo",ig="sk38H",ag="-oNQ7",og="_7UniG",cg="h92Dg",lg="UktSr",rg="kn64N",dg="ZkK85",ug="xEjAE",mg="U4NRU",pg="MGdPe",hg="ISHpT",bg="OFh-c",ue={container:ng,userInvited:tg,step1:sg,title:ig,subTitle:ag,iconContainer:og,items:cg,bullet:lg,item:rg,actions:dg,button:ug,learnMore:mg,step2:pg,inviteSuccess:hg,soundsGood:bg},jn={INTRO:"INTRO",INVITE_FORM:"INVITE_FORM",SUCCESS:"SUCCESS"},pa=({open:n,onClose:s,onSubmit:i,loading:a,listings:c,isMuaEnabled:u=!1,hasSubscription:d=!1})=>{const[h,p]=g.useState(null),[m,t]=g.useState(!1),[l,r]=g.useState(jn.INTRO),[b,f]=g.useState(!1),[v,N]=g.useState(!1),[y,C]=g.useState(null),{user:A,muaUser:S}=vn({},!1),{data:F}=sn(me),P=qn(),[E]=U(vs),k=Mo(A),I=Do(k);g.useEffect(()=>{n&&x("add_user_modal loaded",{location:"Settings - Account"})},[n]);const L=g.useCallback(async ee=>{await i(ee)&&(p({first_name:ee.first_name}),r(jn.SUCCESS))},[i]),$=g.useCallback(async ee=>{try{await E({variables:{newPlanId:I,referral:"MUA Upgrade Modal",action:"Upgrade"}}),await L(ee)}catch{P("Failed to upgrade to premium")}},[E,I,L,P]),z=async ee=>{if(x("add_user_modal clicked",{location:"Add User Modal"}),!u)return C(ee),d?N(!0):f(!0),null;await i(ee)&&(p({first_name:ee?.first_name}),r(jn.SUCCESS))},ge=()=>{s(),r(jn.INTRO),p(null),t(!1),f(!1),N(!1),C(null)},he=()=>l===jn.SUCCESS?e.jsxs("div",{className:ue.inviteSuccess,children:[e.jsx("div",{className:ue.iconContainer,children:e.jsx(ai,{style:{width:80,height:80}})}),e.jsxs(xe,{className:ue.title,children:[h.first_name,"'s been invited!"]}),e.jsxs("p",{children:[h.first_name," will receive an email invite shortly. You can delete their access at any time in Settings."]}),e.jsx("div",{className:ue.actions,children:e.jsx(_,{onClick:ge,className:ue.soundsGood,children:"Sounds Good"})})]}):l===jn.INTRO?e.jsxs("div",{className:ue.step1,children:[e.jsx("div",{className:ue.iconContainer,children:e.jsx("img",{src:eg,alt:"Add User"})}),e.jsx(xe,{className:ue.title,children:"Add a user"}),e.jsx("div",{className:ue.subTitle,children:"How it works:"}),e.jsxs("div",{className:ue.items,children:[e.jsxs("div",{className:ue.item,children:[e.jsx("div",{className:ue.bullet,children:e.jsx(Be,{name:"checkmark-filled",color:ke.primary})}),e.jsx("div",{children:"New users will receive an email inviting them to your account."})]}),e.jsxs("div",{className:ue.item,children:[e.jsx("div",{className:ue.bullet,children:e.jsx(Be,{name:"checkmark-filled",color:ke.primary})}),e.jsx("div",{children:"They'll use their own email address and password to sign in."})]}),e.jsxs("div",{className:ue.item,children:[e.jsx("div",{className:ue.bullet,children:e.jsx(Be,{name:"checkmark-filled",color:ke.primary})}),e.jsx("div",{children:"You can revoke a user's access at any time. "})]})]}),e.jsxs("div",{className:ue.actions,children:[e.jsx(_,{className:ue.button,onClick:()=>{x("next clicked",{location:"Add User Modal"}),r(jn.INVITE_FORM)},children:"Next"}),e.jsx("div",{className:ue.learnMore,children:e.jsx("a",{href:"https://support.turbotenant.com/en/articles/9690662-multi-user-access",target:"_blank",rel:"noopener noreferrer",children:"Learn more about adding users"})})]})]}):e.jsxs("div",{className:ue.step2,children:[e.jsx(xe,{className:ue.title,children:"Add a user"}),e.jsx(Fs,{onSubmit:z,onCancel:ge,loading:a,consentAccepted:m,setConsentAccepted:t,listings:c})]});return e.jsxs(e.Fragment,{children:[e.jsx(q,{id:"add-user-modal",className:j(ue.container,{[ue.userInvited]:l===jn.SUCCESS}),open:n&&!b&&!v,onClose:()=>{x("close clicked",{location:"Add User Modal"}),ge()},showCloseIcon:!0,children:he()}),b&&y&&e.jsx(Jn,{open:b,onClose:()=>{f(!1),C(null)},onSuccess:()=>{f(!1),L(y)},openLocation:Ln.SETTINGS_ACCOUNT,segmentProperties:{location:"Settings - Account",feature:"Multi-User Access"}}),v&&y&&e.jsx(xs,{open:v,onClose:()=>{N(!1),C(null)},onUpgrade:()=>{N(!1),$(y)},premiumPrice:A?.premium_price_signup,subscriptionEnd:F?.userData?.settingsAndBilling?.data?.premiumPlusSubscriptionInfo?.current?.current_period_end,muaUser:S})]})};pa.propTypes={onClose:o.func.isRequired,open:o.bool.isRequired,onSubmit:o.func.isRequired,loading:o.bool,listings:o.array,isMuaEnabled:o.bool,hasSubscription:o.bool};const fg="Pvqhy",gg="zABYL",vg="VOpGt",xg="sh-5I",Tt={container:fg,info:gg,content:vg,title:xg},ha=({open:n,onClose:s,onSubmit:i,loading:a,userData:c,listings:u})=>{const[d,h]=g.useState(!1);g.useEffect(()=>{n&&c&&h(!0)},[n,c]);const p=async m=>{x("edit_user_modal submitted",{location:"Edit User Modal"});const t=await i(m);return t&&s(),t};return e.jsx(q,{className:Tt.container,open:n,onClose:()=>{x("close clicked",{location:"Edit User Modal"}),s()},showCloseIcon:!0,children:e.jsxs("div",{className:Tt.content,children:[e.jsx(xe,{className:Tt.title,children:c?.has_logged_in?`Edit ${c?.first_name} ${c?.last_name}'s access`:"Edit additional user"}),c?.has_logged_in&&e.jsxs("div",{className:Tt.info,children:[e.jsx(Be,{name:"info-filled"}),e.jsx(T,{children:"This user's contact info can't be edited by you because they have signed into their account."})]}),e.jsx(Fs,{onSubmit:p,onCancel:s,loading:a,consentAccepted:d,setConsentAccepted:h,isEditMode:!0,listings:u,initialValues:{first_name:c?.first_name||"",last_name:c?.last_name||"",email:c?.email||"",role:c?.role||"",has_logged_in:c?.has_logged_in||!1,permissions_config:c?.permissions_config}})]})})};ha.propTypes={onClose:o.func.isRequired,open:o.bool.isRequired,onSubmit:o.func.isRequired,loading:o.bool,userData:o.shape({id:o.string.isRequired,first_name:o.string,last_name:o.string,email:o.string,role:o.string,has_logged_in:o.bool,permissions_config:o.string}).isRequired,listings:o.array};const yg=(n,s)=>{const i=[];return i.push({id:"all-items",value:"all-items",label:`All ${s}`,type:"option"}),n.forEach(a=>{a.label?(i.push({id:a.value,value:a.value,label:a.label,type:"group",itemType:a.itemType,isExpandable:a?.options?.length>0,childrenIds:a?.options?.length?a.options.map(c=>c.value):[]}),a?.options?.length>0&&a.options.forEach(c=>{i.push({id:c.value,value:c.value,label:c.label,groupId:a.value,type:"child",itemType:c.itemType})})):i.push({id:a.value,value:a.value,label:a.label,type:"standalone",itemType:a.itemType})}),i},kg=({selectedItems:n,items:s,groupedBy:i,isAllItemsSelected:a,isGroupSelected:c})=>{if(a)return`All ${i}`;const u=s.find(d=>d.type!=="group"?!1:c(d)&&(n.length===(d.childrenIds?.length||0)+1||n.length===1));if(u)return u.label;if(n.length===1){const d=s.find(h=>h.id===n[0]);if(d)return d.label}return"Multiple"},Ie={TOGGLE_EXPANDED:"toggle_expanded",SET_SEARCH:"set_search",SET_SELECT_OPEN:"set_select_open",SELECT_ALL:"select_all",SELECT_GROUP:"select_group",SELECT_CHILD:"select_child",SET_SELECTED_ITEMS:"set_selected_items"},Ng={expanded:[],search:"",selectOpen:!1,selectedItems:[]},ba=(n,s)=>s.every(i=>n.includes(i)),jg=(n,s)=>s?.length?s.filter(i=>n.includes(i)).length:0,Xs=(n,s)=>n.find(i=>i.type==="group"&&i.childrenIds?.includes(s)),Sg=n=>n.some(s=>!!s.itemType),Js=(n,s)=>{if(!Sg(s))return n;const i={allSelectedIds:[...n]},a={};return s.forEach(c=>{if(n.includes(c.id)){if(c.id==="all-items")return;c.itemType&&(a[c.itemType]||(a[c.itemType]=[]),a[c.itemType].push(c.id))}}),Object.entries(a).forEach(([c,u])=>{i[c]=u}),i};function ts(n,s){switch(s.type){case Ie.TOGGLE_EXPANDED:{const{groupId:i}=s.payload;return{...n,expanded:n.expanded.includes(i)?n.expanded.filter(a=>a!==i):[...n.expanded,i]}}case Ie.SET_SEARCH:return{...n,search:s.payload.search};case Ie.SET_SELECT_OPEN:return{...n,selectOpen:s.payload.isOpen};case Ie.SELECT_ALL:return{...n,selectedItems:[]};case Ie.SELECT_GROUP:{const{group:i}=s.payload,{selectedItems:a}=n,c=i.childrenIds||[],u=n.expanded.includes(i.id)?n.expanded:[...n.expanded,i.id];if(c.length===0){const p=a.includes(i.id)?a.filter(m=>m!==i.id):[...a,i.id];return{...n,selectedItems:p,expanded:u}}if(ba(a,c)){const p=a.filter(m=>!c.includes(m)&&m!==i.id);return{...n,selectedItems:p,expanded:u}}const h=[...new Set([...a,...c,i.id])];return{...n,selectedItems:h,expanded:u}}case Ie.SELECT_CHILD:{const{child:i,items:a}=s.payload,{selectedItems:c}=n;let u;if(c.includes(i.id)){u=c.filter(h=>h!==i.id);const d=Xs(a,i.id);d&&(u=u.filter(h=>h!==d.id))}else{u=[...c,i.id];const d=Xs(a,i.id);d&&d.childrenIds&&d.childrenIds.every(p=>u.includes(p)||p===i.id)&&!u.includes(d.id)&&u.push(d.id)}return{...n,selectedItems:u}}case Ie.SET_SELECTED_ITEMS:return{...n,selectedItems:s.payload.selectedItems};default:throw new Error(`Unhandled type in hierarchicalSelectReducer: ${s.type}`)}}function _g(n={}){const{input:s,items:i}=n,[a,c]=g.useReducer(ts,{...Ng,selectedItems:s?.value?.allSelectedIds||s?.value||[]});g.useEffect(()=>{if(s?.value){const f=s.value?.allSelectedIds||s.value,v=a.selectedItems;Oo(f,v)||c({type:Ie.SET_SELECTED_ITEMS,payload:{selectedItems:f}})}},[s?.value,a.selectedItems]);const u=f=>c({type:Ie.TOGGLE_EXPANDED,payload:{groupId:f}}),d=f=>c({type:Ie.SET_SEARCH,payload:{search:f}}),h=f=>c({type:Ie.SET_SELECT_OPEN,payload:{isOpen:f}}),p=()=>{c({type:Ie.SELECT_ALL}),s?.onChange&&s.onChange([])},m=f=>{if(c({type:Ie.SELECT_GROUP,payload:{group:f,items:i}}),s?.onChange){const v=ts(a,{type:Ie.SELECT_GROUP,payload:{group:f,items:i}}),N=Js(v.selectedItems,i);s.onChange(N)}},t=f=>{if(c({type:Ie.SELECT_CHILD,payload:{child:f,items:i}}),s?.onChange){const v=ts(a,{type:Ie.SELECT_CHILD,payload:{child:f,items:i}}),N=Js(v.selectedItems,i);s.onChange(N)}},l=a.selectedItems.length===0||a.selectedItems.includes("all-items");return{state:a,toggleExpanded:u,setSearch:d,setSelectOpen:h,selectAll:p,selectGroup:m,selectChild:t,isAllItemsSelected:l,isGroupSelected:f=>a.selectedItems.includes(f.id)?!0:!f.childrenIds||f.childrenIds.length===0?!1:ba(a.selectedItems,f.childrenIds),getGroupSelectedChildrenCount:f=>jg(a.selectedItems,f.childrenIds||[])}}const Cg="U3a0M",wg="_33cDc",Tg="ANruu",Pg="TlD5l",Ag="PwIOo",Eg="_4bRFF",Ig="o8lpA",$g="RI-YD",Rg="LmrOK",Fg="-CPlD",Mg="aFXDD",Dg="hTbDo",Og="-wvU9",Lg="EyTYq",Bg="XTtyo",ie={container:Cg,label:wg,selectButton:Tg,dropdownContent:Pg,searchInput:Ag,divider:Eg,optionsList:Ig,optionItem:$g,optionItemContent:Rg,childItem:Fg,checkbox:Mg,radioButton:Dg,childrenBadge:Og,expandButton:Lg,expanded:Bg},fa=({input:n={value:[],onChange:()=>{}},options:s=[],groupedBy:i="items",className:a,id:c,label:u,labelProps:d,dataQa:h,disabled:p})=>{const m=g.useMemo(()=>yg(s,i),[s,i]),{state:t,toggleExpanded:l,setSearch:r,setSelectOpen:b,selectAll:f,selectGroup:v,selectChild:N,isAllItemsSelected:y,isGroupSelected:C,getGroupSelectedChildrenCount:A}=_g({input:n,items:m}),{expanded:S,search:F,selectOpen:P}=t,E=g.useRef(null),k=g.useMemo(()=>`${c||"dropdown"}-menu`,[c]),I=g.useMemo(()=>`${c||"dropdown"}-search`,[c]),L=g.useMemo(()=>m.filter(Z=>Z.type==="standalone"||Z.type==="group").length>5,[m]);Lo(E,()=>{P&&b(!1)});const $=()=>{b(!P)},z=w=>{r(w.target.value.toLowerCase())},ge=g.useMemo(()=>kg({selectedItems:n.value?.allSelectedIds||n.value,items:m,groupedBy:i,isAllItemsSelected:y,isGroupSelected:C}),[n.value,m,i,y,C]),he=g.useMemo(()=>({standalone:m?.filter(w=>w.type==="standalone"&&w.label.toLowerCase().includes(F)),groups:m?.filter(w=>w.type==="group"&&w.label.toLowerCase().includes(F))}),[m,F]),ee=g.useMemo(()=>{const w=new Map;return he.groups.forEach(Z=>{if(Z.childrenIds?.length>0){const X=Z.childrenIds.map(Se=>m.find(Ne=>Ne.type==="child"&&Ne.id===Se&&Ne.label.toLowerCase().includes(F.toLowerCase()))).filter(Boolean);w.set(Z.id,X)}}),w},[he.groups,m,F]);return e.jsxs("div",{className:j(ie.container,a),ref:E,children:[u&&e.jsx("label",{htmlFor:c,className:ie.label,...d,children:u}),e.jsx(Q,{id:c,disabled:p,onClick:$,className:j(ie.selectButton,{[ie.active]:P}),"data-qa":h,type:"secondary",variant:"outline",icon:P?"arrow-up":"arrow-down",iconPosition:"end","aria-haspopup":"listbox","aria-expanded":P,"aria-controls":P?k:void 0,"aria-label":`${u||"Select"}: ${ge}`,children:ge}),P&&e.jsxs("div",{id:k,className:ie.dropdownContent,role:"listbox","aria-labelledby":c,tabIndex:"-1",children:[L&&e.jsxs(e.Fragment,{children:[e.jsx(ji,{id:I,placeholder:"Search",className:ie.searchInput,icon:"search",value:F,onChange:z,"aria-label":"Search items","aria-controls":k}),e.jsx(On,{className:ie.divider,text:null})]}),e.jsxs("ul",{className:ie.optionsList,role:"group","aria-label":`${i} options`,children:[e.jsx("div",{className:ie.fixedOptions,children:e.jsx("div",{className:ie.optionItem,role:"option","aria-selected":y,children:e.jsx(Bo,{id:"all-items-radio",label:`All ${i}`,checked:y,onChange:f,className:ie.radioButton})})}),e.jsx(On,{className:ie.divider}),he.standalone.map(w=>e.jsx("li",{className:ie.optionItem,role:"option","aria-selected":n.value?.allSelectedIds?n.value.allSelectedIds.includes(w.id):n.value.includes(w.id),children:e.jsx(ut,{id:`item-${w.id}`,label:w.label,checked:n.value?.allSelectedIds?n.value.allSelectedIds.includes(w.id):n.value.includes(w.id),input:{onChange:()=>N(w)},className:ie.checkbox})},w.id)),he.groups.map(w=>{const Z=C(w),X=S.includes(w.id),Se=`group-${w.id}`,Ne=`children-of-${w.id}`,dn=A(w);return e.jsxs(ii.Fragment,{children:[e.jsx("li",{className:j(ie.optionItem,ie.groupItem),role:"option","aria-selected":Z,"aria-expanded":w.isExpandable?X:void 0,"aria-owns":w.isExpandable?Ne:void 0,children:e.jsxs("div",{className:ie.optionItemContent,children:[e.jsx(ut,{id:Se,label:w.label,checked:Z,input:{onChange:()=>v(w)},className:ie.checkbox}),w.isExpandable&&e.jsxs(e.Fragment,{children:[dn>0&&e.jsx(qo,{value:dn,status:"process-dark",className:ie.childrenBadge}),e.jsx(He,{icon:"chevron-arrow-down",className:j(ie.expandButton,{[ie.expanded]:X}),iconProps:{className:ie.expandIcon},onClick:()=>l(w.id),"aria-label":X?`Collapse ${w.label}`:`Expand ${w.label}`,"aria-pressed":X,"aria-controls":Ne})]})]})}),X&&w?.childrenIds?.length>0&&e.jsx("div",{id:Ne,role:"group","aria-labelledby":Se,children:ee.get(w.id)?.map(B=>e.jsx("li",{className:j(ie.optionItem,ie.childItem),role:"option","aria-selected":n.value?.allSelectedIds?n.value.allSelectedIds.includes(B.id):n.value.includes(B.id),children:e.jsx(ut,{id:`child-${B.id}`,label:B.label,checked:n.value?.allSelectedIds?n.value.allSelectedIds.includes(B.id):n.value.includes(B.id),input:{onChange:()=>N(B)},className:ie.checkbox})},B.id))})]},w.id)})]})]})]})};fa.propTypes={input:o.object,options:o.arrayOf(o.oneOfType([o.shape({value:o.string.isRequired,label:o.string.isRequired,itemType:o.string}),o.shape({label:o.string.isRequired,value:o.string.isRequired,options:o.arrayOf(o.shape({value:o.string.isRequired,label:o.string.isRequired,itemType:o.string})).isRequired,itemType:o.string})])).isRequired,groupedBy:o.string,className:o.string,id:o.string,label:o.oneOfType([o.string,o.node]),labelProps:o.object,dataQa:o.string,disabled:o.bool};const qg=n=>{if(!n||!Array.isArray(n))return[];const s=new Map,i=[];for(const c of n){const u=c.portfolio?.id,d=c.portfolio?.name,h=c.nickname||c.address;if(!u){i.push({value:c.id,label:h,itemType:"listingIds"});continue}s.has(u)||s.set(u,{portfolio:{id:u,name:d},listings:[]}),s.get(u).listings.push(c)}const a=Array.from(s.values()).map(({portfolio:c,listings:u})=>({value:c.id,label:c.name,itemType:"portfolioIds",options:u.map(d=>({value:d.id,label:d.nickname||d.address,itemType:"listingIds"}))}));return[...i,...a]},Ug=n=>{if(!n)return{allSelectedIds:[],listingIds:[],portfolioIds:[]};const{listingIds:s=[],portfolioIds:i=[]}=n;return{allSelectedIds:[...s,...i],listingIds:s,portfolioIds:i}},Vg="M7L5O",Hg="_4Zpw1",Yg="QZ5Q1",Gg="qmpdR",Qg="FPQBT",Wg="Xgmv7",zg="L-W46",Kg="_9mZkH",Zg="lwq09",Xg="sz-hH",Jg="twryw",e1="-LvS8",n1="QGXdx",t1="VA-7-",s1="-ywW-",i1="_0M1a4",a1="IK7nd",o1="X0l52",c1="bAJ7w",l1="Jy59F",K={form:Vg,title:Hg,emailContainer:Yg,emailRow:Gg,input:Qg,roleContainer:Wg,checkbox:zg,checkboxLabel:Kg,row:Zg,actions:Xg,button:Jg,cancelButton:e1,roleTitle:n1,roleItem:t1,roleDescription:s1,errorText:i1,roleBasedContainer:a1,propertyAccessContainer:o1,propertyHint:c1,learnMoreLink:l1},Fs=({onSubmit:n,onCancel:s,loading:i=!1,consentAccepted:a,setConsentAccepted:c,isEditMode:u=!1,initialValues:d={},listings:h=[]})=>{const p=async r=>{const b=r.properties?.listingIds||[],f=r.properties?.portfolioIds||[],v={...r,listingIds:b,portfolioIds:f};return x("add_user_modal clicked",{location:u?"Edit User Modal":"Add User Modal"}),n(v)},m=g.useMemo(()=>qg(h),[h]),t=g.useMemo(()=>Ug(d.permissions_config),[d.permissions_config]),l=g.useMemo(()=>({...d,properties:t}),[d,t]);return e.jsx("div",{className:K.form,children:e.jsx(Qe,{onSubmit:p,subscription:{submitting:!0,values:!0},initialValues:l,children:({handleSubmit:r,submitting:b,values:f})=>e.jsxs("form",{onSubmit:r,className:K.form,children:[!d.has_logged_in&&e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:K.title,children:"Contact information"}),e.jsxs("div",{className:K.row,children:[e.jsx(Y,{label:"First Name",component:$e,id:"first_name",name:"first_name",validate:Ce(ae,Pn),className:K.input}),e.jsx(Y,{label:"Last Name",component:$e,id:"last_name",name:"last_name",validate:Ce(ae,Pn),className:K.input})]}),e.jsx("div",{className:j(K.row,K.emailRow),children:e.jsxs("div",{className:K.emailContainer,children:[e.jsx(Y,{label:"Email",component:$e,type:"email",id:"email",name:"email",validate:Ce(ae,mt),className:K.input}),e.jsx(T,{color:"tertiary",children:"This is the email they will use to login."})]})})]}),e.jsxs("div",{className:K.roleContainer,children:[e.jsx(Xe,{className:K.roleTitle,children:"Choose their role"}),e.jsx("div",{className:K.row,children:e.jsx(Y,{name:"role",validate:ae,children:({input:v,meta:N})=>e.jsxs(Zn,{selected:v.value,onChange:v.onChange,selectionType:"radio",size:"lg",vertical:!0,children:[e.jsx(Zn.Item,{vertical:!0,value:gn.ADMIN,id:"role-admin",children:e.jsxs("div",{className:K.roleItem,children:[e.jsx(T,{size:"large",weight:"semi",children:"Admin"}),e.jsx(T,{size:"large",className:K.roleDescription,children:"Full account access"})]})}),e.jsx(Zn.Item,{vertical:!0,value:gn.ASSISTANT,id:"role-assistant",children:e.jsxs("div",{className:K.roleItem,children:[e.jsx(T,{size:"large",weight:"semi",children:"Assistant"}),e.jsx(T,{size:"large",className:K.roleDescription,children:"Access to everything except: Messaging, Rent payment setup, bank accounts, and payment methods"})]})}),N.error&&N.touched&&e.jsx(T,{color:"danger",size:"normal",weight:"semi",className:K.errorText,children:"Please choose a role."})]})})})]}),e.jsx(tn,{href:"https://support.turbotenant.com/en/articles/9690662-multi-user-access",target:"_blank",rel:"noopener noreferrer",size:"large",className:K.learnMoreLink,children:"Learn more about roles"}),e.jsxs("div",{className:K.roleBasedContainer,children:[e.jsx(Us,{when:"role",is:gn.ASSISTANT,children:e.jsx("div",{className:K.propertyAccessContainer,children:e.jsx(Y,{name:"properties",children:({input:v,meta:N})=>e.jsxs("div",{children:[e.jsx(fa,{input:{value:v.value,onChange:y=>{v.onChange(y)}},options:m,groupedBy:"portfolios",label:"Choose their property access",id:"properties",className:K.propertySelect}),e.jsx(T,{color:"tertiary",className:K.propertyHint,children:"Allows access to all current and future properties in your account."}),N.error&&N.touched&&e.jsx(T,{color:"danger",size:"normal",weight:"semi",className:K.errorText,children:"Please select property access."})]})})})}),e.jsx(Us,{when:"role",is:gn.ADMIN,children:e.jsx(ut,{className:K.checkbox,labelClassName:K.checkboxLabel,type:"checkbox",id:"consent",name:"consent",label:e.jsxs(e.Fragment,{children:["I consent and acknowledge that by"," ",e.jsx("b",{children:"adding a user to my account, this will grant them full access to my account"})," ","including rent payments, financial, billing and banking information, messaging and more."]}),input:{onChange:v=>{const{checked:N}=v.currentTarget;c(N)},checked:a}})})]}),e.jsxs("div",{className:K.actions,children:[e.jsx(_,{secondary:!0,disabled:i||b,className:j(K.button,K.cancelButton),onClick:()=>{x("cancel clicked",{location:u?"Edit User Modal":"Add User Modal"}),s()},children:"Cancel"}),e.jsx(_,{className:K.button,type:"submit",loading:b||i,disabled:b||i||f.role===gn.ADMIN&&!a,children:u?"Save Changes":"Add User"})]})]})})})};Fs.propTypes={onSubmit:o.func.isRequired,onCancel:o.func.isRequired,loading:o.bool,consentAccepted:o.bool.isRequired,setConsentAccepted:o.func.isRequired,isEditMode:o.bool,initialValues:o.object,listings:o.arrayOf(o.shape({id:o.string.isRequired,address:o.string,portfolio:o.shape({id:o.string.isRequired,name:o.string.isRequired})}))};const r1=`mutation deleteUser($userId: String!) {
  deleteUser(input: { userId: $userId }) {
    ok
  }
}
`,d1={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:134,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:r1}}},Ms=({fillColor:n,borderColor:s,...i})=>e.jsxs("svg",{viewBox:"0 0 64 64",fill:"none",...i,children:[e.jsx("path",{fill:n,fillRule:"evenodd",d:"M32 8v50.667H5.333L32 8Z",clipRule:"evenodd"}),e.jsx("path",{fill:s,fillRule:"evenodd",d:"M32.224 5.37c.33.089.532.14.812.62l25.526 51c.328.773-.143 1.62-1.037 1.677H6.473a1.19 1.19 0 0 1-1.038-1.678l25.526-51c.378-.645.483-.72 1.263-.618Zm-.225 3.73L8.35 56.349h47.297L32 9.099Zm.118 37.978c1.159.088 2.142 1.057 2.2 2.198.08 1.568-1.72 2.888-3.222 2.254-1.907-.806-1.938-4.526 1.022-4.452Zm.015-23.98c.548.085.96.511 1.024 1.063.227 5.938.003 11.885.003 17.827-.047 1.223-2.165 1.405-2.317.089-.228-5.938-.004-11.885-.004-17.828.027-.68.399-1.22 1.294-1.151Z",clipRule:"evenodd"})]});Ms.defaultProps={width:64,height:64,fillColor:"#FF9D9D",borderColor:"#042238"};Ms.propTypes={width:o.number,height:o.number,fillColor:o.string,borderColor:o.string};const u1=g.memo(Ms),m1="rL2QG",p1="J-THU",h1="yHXbF",b1="lEOQ2",f1="_4P6VE",g1="QJJIR",v1="UnY-b",x1="xaVy5",y1="yhhN7",ze={modal:m1,closeBtn:p1,modalHeader:h1,iconWrapper:b1,modalContent:f1,title:g1,text:v1,btnWrapper:x1,btn:y1},ga=({className:n,containerClassName:s,open:i,onClose:a,onRemove:c,firstName:u,lastName:d})=>e.jsxs(q,{open:i,className:j(ze.modal,n),containerClassName:j(ze.modalContainer,s),onClose:a,children:[e.jsx(He,{icon:Ni,onClick:a,className:ze.closeBtn,iconProps:{color:ke.greyLight,width:14,height:14}}),e.jsx("div",{className:ze.modalHeader,children:e.jsx("div",{className:ze.iconWrapper,children:e.jsx(u1,{className:ze.icon})})}),e.jsxs("div",{className:ze.modalContent,children:[e.jsxs("h2",{className:ze.title,children:["Are you sure you want to remove ",u," ",d,"'s access?"]}),e.jsxs("p",{className:ze.text,children:["This will remove ",u,"'s access from your account immediately."]}),e.jsxs("div",{className:ze.btnWrapper,children:[e.jsx(_,{className:ze.btn,onClick:c,variant:"danger",children:"Yes, Remove"}),e.jsx(_,{className:ze.btn,onClick:a,secondary:!0,children:"Nevermind"})]})]})]});ga.propTypes={className:o.string,containerClassName:o.string,open:o.bool,onClose:o.func.isRequired,onRemove:o.func.isRequired,firstName:o.string,lastName:o.string};const k1="_0z8uP",N1="pK1KL",j1="MeS-b",S1="Pr-Mz",_1="s-2JI",C1="q5k08",w1="hFq5P",T1="HKVu7",P1="lLQM3",A1="H7jHv",E1="e9Lc-",I1="ZOQta",$1="IzbLc",R1="rYxb5",F1="JI4zb",M1="unhu9",D1="WoCOA",O1="IYzfw",L1="VgPT9",B1="f3Pmr",W={container:k1,section:N1,title:j1,titleWrapper:S1,subTitle:_1,subSection:C1,content:w1,button:T1,desktopButton:P1,card:A1,user:E1,company:I1,info:$1,avatar:R1,email:F1,noMarginTop:M1,mobileHidden:D1,mobileOnly:O1,legalZoom:L1,accountId:B1},va=({user:n={}})=>{const s=an(),{muaUser:i}=vn({},!1),[a]=ui(mi.MUA_V2),c=a(),u=vt(i),d=qt(i),h=Ut[d],[p]=U(Yt,{refetchQueries:[{query:oe}]}),{PRIVATE_BASE_PATH:m}=fe(),t=Bn(),[l,r]=g.useState(!1),[b,f]=g.useState(!1),[v,N]=g.useState(!1),[y,C]=g.useState(null),A=qn(),S=Ht(),{data:F,loading:P}=sn(zt),{listings:E}=gs({variables:{mode:yi.ROOTS_ONLY}}),k=V(F,"userData.settingsAndBilling.data.additionalUsers",[]),I=n?.id?atob(n.id).split(":")[1]:"",[L,{loading:$}]=U(la),[z,{loading:ge}]=U(d1),he=n?.packageFeatures?.length>0,ee=n?.packageFeatures?.includes(Uo.MULTI_USER_ACCESS),w=()=>{x("add_company clicked",{location:"Settings - Account"}),s(`${m}settings/account/company-settings`)},Z=()=>{x("edit_company clicked",{location:"Settings - Account"}),s(`${m}settings/account/company-settings`)},X=()=>{x("add_mailing_address clicked",{location:"Settings - Account"}),r(!0)},Se=()=>{x("edit_mailing_address clicked",{location:"Settings - Account"}),r(!0)},Ne=()=>{x("view_profile clicked",{location:"Settings - Account"}),s(`${m}settings/account/profile`)},dn=async(D,re)=>{await z({variables:{userId:D},refetchQueries:[{query:zt},{query:oe}],awaitRefetchQueries:!0}),S(`${re}'s access was successfully removed from your account.`)},B=async({first_name:D,last_name:re,email:je,listingIds:ye,portfolioIds:un,role:xn})=>{try{return await L({variables:{first_name:D,last_name:re,email:je,listingIds:ye,portfolioIds:un,role:xn},refetchQueries:[{query:zt}],awaitRefetchQueries:!0})}catch(yn){const tt=V(yn,"graphQLErrors[0].message")||"Something went wrong";A(`Error inviting user: ${tt}`)}},le=()=>{x("add_user clicked",{location:"Settings - Account"}),f(!0)},on=D=>{x("edit_user clicked",{location:"Settings - Account"}),C(D),N(!0)},qe=D=>e.jsxs(e.Fragment,{children:[e.jsx(He,{icon:"edit",className:W.mobileOnly,onClick:D,disabled:u,"data-tooltip-id":"edit-button-mobile-tooltip"}),u?e.jsxs(we,{id:"edit-button-mobile-tooltip",children:["Your role as an ",h," does not allow you to perform this action."]}):null]}),Fe=(D,re)=>e.jsxs("div",{className:W.desktopButton,children:[e.jsx(_,{secondary:!0,className:j(W.button,W.mobileHidden),onClick:re,disabled:u,"data-tooltip-id":`edit-button-desktop-${D}-tooltip`,children:D}),u?e.jsxs(we,{id:`edit-button-desktop-${D}-tooltip`,children:["Your role as an ",h," does not allow you to perform this action."]}):null]}),yt=()=>{const{first_name:D,last_name:re,telephone:je,email:ye}=n;return e.jsxs("div",{className:W.subSection,children:[e.jsxs("div",{className:W.content,children:[e.jsxs("div",{className:W.titleWrapper,children:[e.jsx(Xe,{className:W.subTitle,children:"Account owner"}),It(i)&&qe(Ne)]}),e.jsxs("div",{className:W.user,children:[e.jsx(ls,{className:W.avatar,firstName:D,lastName:re,size:"medium"}),D&&e.jsxs("div",{className:W.info,children:[e.jsx(Ls,{children:`${D} ${re}`}),e.jsx(T,{size:"large",className:W.email,children:ye}),e.jsx(T,{muted:!je,italic:!je,size:"large",className:W.noMarginTop,children:je?Si(je):"Phone number not set"})]})]})]}),It(i)&&Fe("View Profile",Ne)]})},En=()=>{const{company:D,custom_logo:re}=n,je=!D;return e.jsxs("div",{className:W.subSection,children:[e.jsxs("div",{className:W.content,children:[e.jsxs("div",{className:W.titleWrapper,children:[e.jsx(Xe,{className:W.subTitle,children:"Company"}),!je&&qe(Z)]}),je?e.jsx(Lt,{title:"Add your company ",description:"Add your company name and logo to TurboTenant.",buttonLabel:"Add company",onClick:w,isAssistant:u,accountRole:h}):e.jsxs("div",{className:W.company,children:[e.jsx(ls,{className:W.avatar,profilePictureURL:re,firstName:D,size:"medium"}),e.jsx(Ls,{children:D})]})]}),!je&&Fe("Edit",Z)]})},nt=()=>{const D=!n?.mailing_address,re=V(n,"mailing_address.address",""),je=V(n,"mailing_address.unit",""),ye=V(n,"mailing_address.city",""),un=V(n,"mailing_address.state",""),xn=V(n,"mailing_address.zip","");return e.jsxs("div",{className:W.subSection,children:[e.jsxs("div",{className:W.content,children:[e.jsxs("div",{className:W.titleWrapper,children:[e.jsx(Xe,{className:W.subTitle,children:"Mailing address"}),!D&&qe(Se)]}),D?e.jsx(Lt,{title:"Add mailing address",description:"Your mailing address is required by the credit bureau for renter screening reports. We'll also use this to pre-fill your address in lease agreements.",buttonLabel:"Add mailing address",onClick:X,isAssistant:u,accountRole:h}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:"large",children:Vo({address:re,unit:je,short:!0})}),e.jsx(T,{size:"large",className:W.noMarginTop,children:`${ye}, ${un} ${xn}`})]})]}),!D&&Fe("Edit",Se)]})};return e.jsxs("div",{className:W.container,children:[e.jsxs(rn,{className:j(W.section,W.card),children:[e.jsx(xe,{className:W.title,children:"Account information"}),yt(),e.jsx(On,{text:""}),En(),e.jsx(ks,{page:"account",className:W.legalZoom}),e.jsx(On,{text:""}),nt()]}),e.jsx(da,{className:W.card,users:k,onRemove:({userId:D,firstName:re,lastName:je})=>{t(ye=>e.jsx(ga,{open:!0,onClose:()=>{ye()},firstName:re,lastName:je,onRemove:()=>{dn(D,`${re} ${je}`),ye()}}))},onAddUser:le,onEditUser:on,loading:P||ge,isMuaV2Enabled:c,isPremium:he}),e.jsxs("div",{className:W.accountId,children:[e.jsx("b",{children:"Account ID:"})," ",I]}),e.jsx(ma,{open:l,onClose:()=>{r(!1)},onSubmit:async({mailing_address:D})=>{await p({variables:{mailing_address:{address:D.address,unit:D.unit,city:D.city,state:D.state,zip:D.zip}}}),r(!1),S("Your changes were saved!")},mailing_address:n?.mailing_address}),c?e.jsxs(e.Fragment,{children:[e.jsx(pa,{open:b,loading:$,hasUsers:k?.length>1,onClose:()=>f(!1),onSubmit:async D=>await B(D),listings:E,isMuaEnabled:ee,hasSubscription:he}),e.jsx(ha,{open:v,userData:y,loading:$,onClose:()=>{N(!1),C(null)},onSubmit:async D=>(D.email!==y.email&&await z({variables:{userId:y.userId}}),await B(D)),listings:E})]}):e.jsx(ua,{open:b,loading:$,hasUsers:k?.length>1,onClose:()=>f(!1),onSubmit:async D=>await B(D),is_azibo:c})]})};va.propTypes={user:o.shape({id:o.string,first_name:o.string,last_name:o.string,telephone:o.string,email:o.string,company:o.string,custom_logo:o.string,mailing_address:o.shape({address:o.string,unit:o.string,city:o.string,state:o.string,zip:o.string})})};const q1="XrPft",U1="Vjgwv",V1="Mqtd3",H1="w56th",Y1="q64yo",G1="I5SLs",Q1="ohTvD",W1="_5-AQQ",z1="rwguB",K1="UNoJE",Z1="gD2BH",X1="ZthJe",De={container:q1,header:U1,headerConnected:V1,leftSection:H1,description:Y1,link:G1,associationsList:Q1,associationItem:W1,logo:z1,info:K1,associationName:Z1,membershipEmail:X1},xa=({associationMemberships:n=[],onConnectAssociationClick:s})=>{const i=n.filter(c=>_i.includes(c.association_name)),a=i.length>0;return e.jsxs("div",{className:De.container,children:[e.jsxs("div",{className:j(De.header,{[De.headerConnected]:a}),children:[e.jsxs("div",{className:De.leftSection,children:[e.jsx(Xn,{className:De.title,children:"Associations"}),!a&&e.jsxs(T,{className:De.description,children:["Connect to your rental association to unlock benefits like association-specific templates and get them conveniently e-signed with TurboTenant. ",e.jsx(tn,{href:"https://support.turbotenant.com/en/articles/11085841-rental-housing-associations",target:"_blank",rel:"noopener noreferrer",className:De.link,children:"Learn more about connecting to an association"}),"."]})]}),e.jsx(Q,{type:"secondary",className:De.connectButton,onClick:s,icon:"plus",children:"Connect"})]}),a&&e.jsx("div",{className:De.associationsList,children:i.map(c=>{const u=Ho[c.association_name];if(!u)return null;const{Logo:d}=u;return e.jsxs("div",{className:De.associationItem,children:[e.jsx(d,{className:De.logo}),e.jsxs("div",{className:De.info,children:[e.jsx(T,{className:De.associationName,children:u.fullName}),e.jsx(T,{color:"tertiary",className:De.membershipEmail,children:c.membership_email})]})]},c.id)})})]})};xa.propTypes={onConnectAssociationClick:o.func,associationMemberships:o.arrayOf(o.shape({association_name:o.string.isRequired,membership_email:o.string.isRequired}))};const J1=`mutation linkUserToAssociation($input: linkUserToAssociationInput!) {
  linkUserToAssociationMutation(input: $input) {
    error
    success
  }
}
`,ev={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"linkUserToAssociation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"linkUserToAssociationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkUserToAssociationMutation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:185,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:J1}}},nv="eOOyB",tv="QjAkw",sv="v6ej7",iv="ZqToi",av="Njhdp",ov="e5C0A",Fn={title:nv,content:tv,description:sv,error:iv,footer:av,button:ov},ya=({onClose:n})=>{const[s,{loading:i}]=U(ev),a=g.useCallback(async({email:u,associationName:d})=>{try{const{data:h}=await s({variables:{input:{email:u,associationName:d}},refetchQueries:[{query:oe}],awaitRefetchQueries:!0}),p=h?.linkUserToAssociationMutation;if(p?.error)return{[Tn]:p.error};An("Your membership was successfully connected!"),n()}catch(h){return{[Tn]:h.message||h}}},[n]),c=Yo.map(u=>({label:u.name,value:u.name,subtext:u.fullName}));return e.jsx(q,{open:!0,size:"small",showCloseIcon:!0,onClose:n,children:e.jsx(Ye,{loading:i,children:e.jsx(oi,{onSubmit:a,children:({values:u})=>e.jsxs(e.Fragment,{children:[e.jsx(q.Header,{children:e.jsx(xe,{className:Fn.title,children:"Connect to an association"})}),e.jsxs(q.Content,{className:Fn.content,children:[e.jsxs(T,{size:"normal",className:Fn.description,children:["Connect to your rental association to unlock benefits like association-specific templates and get them conveniently e-signed with TurboTenant."," ",e.jsx(tn,{underline:!0,href:"https://support.turbotenant.com/en/articles/11085841-rental-housing-associations",target:"_blank",children:"Learn more about connecting to an association"}),"."]}),e.jsx(Y,{label:"Association",name:"associationName",id:"associationName",emptyLabel:"",validate:ae,children:d=>e.jsxs(Nt,{...d,options:c,children:[e.jsx(Nt.Content,{children:h=>h.map(p=>e.jsx(Nt.Item,{option:p},p.value))}),e.jsx(Nt.Trigger,{})]})}),e.jsx(Go,{name:"email",type:"email",label:"Association Email"}),e.jsx(Vt,{className:Fn.error})]}),e.jsxs(q.Footer,{className:Fn.footer,children:[e.jsx(_,{type:"submit",className:Fn.button,children:"Connect"}),u.associationName&&e.jsxs(T,{muted:!0,size:"small",className:Fn.footerText,children:["By clicking “Connect” you agree to have"," ",u.associationName," share your membership information with TurboTenant."]})]})]})})})})};ya.propTypes={onClose:o.func};const cv=`mutation sendEmbedListInstructions($email: String!) {
  sendEmbedListInstructions(input: { email: $email }) {
    ok
  }
}
`,lv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"sendEmbedListInstructions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendEmbedListInstructions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:161,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:cv}}},rv="cPO71",dv="nd2tU",uv="sjM26",mv="VQZMl",pv="ipXsx",hv="IAqWO",bv="mbkKA",Ue={container:rv,title:dv,row:uv,email:mv,sendCode:pv,done:hv,blockTitle:bv},ka=({onClose:n,open:s,propertyHtml:i,loading:a,sendInstructionsEmail:c})=>{const u=()=>{x("done clicked",{location:"Embed property list modal",properties:"landlord"}),n()},d=qn(),h=ys(),p=m=>{c(m.email).then(t=>{t&&h("Code & Instructions sent")}).catch(()=>d("An error has occurred"))};return e.jsx(q,{open:s,onClose:u,className:Ue.container,children:e.jsxs(Ye,{loading:a,children:[e.jsx(Qe,{onSubmit:p,initialValues:{html:i},children:({handleSubmit:m,submitting:t})=>e.jsxs("form",{onSubmit:m,children:[e.jsx("h1",{className:Ue.title,children:"Embed Your Property List."}),e.jsxs("p",{style:Ue.desc,children:["Do you have your own website for your rentals? TurboTenant makes it easy to embed a list of all of your properties directly onto your own website. Then when you update your property on TurboTenant, it will automatically update on any web pages you've embedded your properties!"," ",e.jsx("a",{className:Ue.linkText,href:"https://support.turbotenant.com/en/articles/4004006-embed-property-listings",target:"_blank",rel:"noopener noreferrer",children:"Click here to see what the embed list will look like."})]}),e.jsxs("p",{className:Ue.points,children:["Here is how to embed your property list:",e.jsx("br",{}),e.jsx("br",{}),"1) Copy the HTML code below.",e.jsx("br",{}),e.jsx("br",{}),"2) Paste that code directly onto the ","<body>"," section (or HTML / Code block) of the web page that you want your property list to appear on.",e.jsx("br",{}),e.jsx("br",{}),"3) All of your properties that currently have Marketing Online turned on will appear on that web page.",e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("p",{className:Ue.bottomDesc,children:"Remember if you want to edit any information for the properties in the embeded list, go to the MANAGE PROPERTY section within TurboTenant to update that rental’s information."}),e.jsx(Y,{component:gi,label:"COPY THIS HTML CODE",name:"html",onCopy:()=>{x("HTML_code copied",{location:"Settings Advanced",properties:"landlord"})}}),e.jsx("hr",{}),e.jsxs("div",{className:Ue.column,children:[e.jsx("b",{className:Ue.blockTitle,children:"Not a technical person?"}),e.jsx("p",{className:Ue.notTechDesc,children:"You can send the embed code and instructions directly to whoever manages your website. Just enter their email into the field below."}),e.jsxs("div",{className:Ue.row,children:[e.jsx(Y,{label:"EMAIL THE CODE AND INSTRUCTIONS",component:$e,type:"email",name:"email",id:"email",className:Ue.email,validate:mt}),e.jsx(_,{secondary:!0,onClick:()=>{x("send_code clicked",{location:"Embed property list modal",properties:"landlord"})},id:"send-code-btn",type:"submit",className:Ue.sendCode,loading:t,children:"send code"})]})]})]})}),e.jsx(_,{onClick:u,id:"done",className:Ue.done,children:"Done"})]})})};ka.propTypes={onClose:o.func,open:o.bool,propertyHtml:o.string,sendInstructionsEmail:o.func};const fv=n=>s=>{const[i,{loading:a}]=U(lv),c=u=>i({variables:{email:u}}).then(d=>d.data.sendEmbedListInstructions.ok);return e.jsx(n,{...s,sendInstructionsEmail:c,loading:a})},gv=fv(ka),vv="oOLRt",xv="geLhH",yv="h9Tu2",ss={title:vv,description:xv,btn:yv},Na=({owner:n={}})=>{const[s,i]=g.useState(!1),{OWNERS_URL:a}=fe(),c=()=>{i(!0),x("embed_property_list clicked",{location:"Settings Advanced",properties:"landlord"})},d=`<html><body><iframe style="border:none;" src="${`${a}embedpropertylist.html#/${n.id}`}" height="1240" width="100%"></iframe></body></html>`;return e.jsxs("div",{children:[e.jsx(Xn,{className:ss.title,children:"Embed your property list"}),e.jsx("p",{className:ss.description,children:"If you have your own website, you can easily include a list of the properties you are marketing directly on any web page."}),e.jsx(_,{id:"add_question",secondary:!0,className:ss.btn,onClick:c,children:"EMBED PROPERTY LIST"}),e.jsx(gv,{propertyHtml:d,open:s,onClose:()=>i(!1)})]})};Na.propTypes={owner:o.object};const kv="FRbek",Nv="_8t41M",jv="sqqn7",Sv="cJJDN",_v="DXFQP",Cv="LZrLY",wv="gKn28",Tv="WO83A",Pv="lWU9k",fn={sectionTitle:kv,buttonsContainer:Nv,buttonStyle:jv,description:Sv,statusYesText:_v,statusNoText:Cv,link:wv,insuranceStatusContainer:Tv,turnOffSuccessModal:Pv},Av="https://www.turbotenant.com/blog/renters-insurance-the-benefits-for-landlords/",ja=({require_insurance:n,...s})=>{const[i,a]=g.useState(!1),[c,u]=g.useState(!1),d=gt(),h=()=>u(!1),p=async()=>{const{onSubmit:m}=s;m&&(await m(!1),u(!0))};return e.jsxs("div",{children:[e.jsxs("div",{className:fn.insuranceStatusContainer,children:[e.jsx(Xn,{className:fn.sectionTitle,children:"Renters insurance:"}),e.jsx("span",{className:n?fn.statusYesText:fn.statusNoText,children:n?"Required":"Not Required"})]}),e.jsxs("p",{className:fn.description,children:[n?"To make sure you’re both covered, we will automatically request proof of insurance from your tenants. Learn more about":"Requiring your tenants to have renters insurance could save you thousands of dollars. Learn more about"," ",e.jsx("a",{className:fn.link,target:"_blank",rel:"noopener noreferrer",href:Av,children:n?"how requiring renters insurance works":"why you should require renters insurance"}),!n&&" at the TurboTenant blog","."]}),e.jsx("div",{className:fn.buttonsContainer,children:e.jsx(_,{secondary:n,large:d,xlarge:!d,className:fn.buttonStyle,onClick:m=>(m.target.blur(),n?p():a(!0)),id:"toggle_insurance",children:n?"Turn Off Requirement":"Turn On Requirement"})}),e.jsx(wc,{open:i,onClose:()=>a(!1)}),e.jsxs(q,{className:fn.turnOffSuccessModal,open:c,autoFocus:!1,children:[e.jsx(Be,{name:"checkmark",size:"huge"}),e.jsx("h1",{children:"Renters insurance is no longer required for tenants."}),e.jsx("p",{children:"We will no longer notify tenants of this requirement."}),e.jsx(_,{onClick:h,children:"Sounds good"})]})]})};ja.propTypes={require_insurance:Ve.bool,onSubmit:Ve.func,trySubmit:Ve.bool};const Ev="Asng2",Iv="KTvjU",$v="Kigkg",Rv="Icw6S",Fv="gKSCp",Sn={form:Ev,radioLabelWrapper:Iv,radioTopLabel:$v,radioSubLabel:Rv,submit:Fv},Ds=({className:n,onSubmit:s,initialValues:i})=>e.jsx(Qe,{onSubmit:s,initialValues:{...i},children:({handleSubmit:a,submitting:c})=>e.jsxs("form",{onSubmit:a,className:j(Sn.form,n),children:[e.jsx(Y,{component:dt,id:"screening_report_type",name:"screening_report_type",options:[{label:e.jsxs("div",{className:Sn.radioLabelWrapper,children:[e.jsxs("span",{className:Sn.radioTopLabel,children:[e.jsx("b",{children:"Turbo Report"}),": Full Credit + Criminal"]}),e.jsx("span",{className:Sn.radioSubLabel,children:"($35 screening fee charged to the applicant)"})]}),value:"PackageCore",id:"PackageCore"},{label:e.jsxs("div",{className:Sn.radioLabelWrapper,children:[e.jsxs("span",{className:Sn.radioTopLabel,children:[e.jsx("b",{children:"Turbo Report PRO"}),": Full Credit + Criminal + Eviction"]}),e.jsx("span",{className:Sn.radioSubLabel,children:"($55 screening fee charged to the applicant)"})]}),value:"PackageCoreWithEvictions",id:"PackageCoreWithEvictions"}],validate:ae}),e.jsx(_,{className:Sn.submit,secondary:!0,type:"submit",loading:c,children:"Update"})]})});Ds.propTypes={className:o.string,onSubmit:o.func,initialValues:o.object};Ds.defaultProps={initialValues:{}};const Mv="Ifnx0",Dv="qC0Yj",Ov="UsovT",is={container:Mv,title:Dv,text:Ov},Sa=({screeningReportType:n,onSubmit:s})=>e.jsxs("div",{className:is.container,children:[e.jsx("h4",{className:is.title,children:"Type of Screening Report"}),e.jsxs("p",{className:is.text,children:["We are phasing out the $35 report. If you switch to the $55 report,"," ",e.jsx("b",{children:"you will not be able to switch back."})]}),e.jsx(Ds,{onSubmit:s,initialValues:{screening_report_type:n}})]});Sa.propTypes={screeningReportType:o.string,onSubmit:o.func};const Lv="_4W7mq",Bv="R8hNG",ei={container:Lv,accountId:Bv},_a=({updateProfile:n,user:s})=>{let[i,a]=Qo();const[c,u]=g.useState(!!i.get("showAssociationModal")),d=()=>{u(!1),a(t=>{const l=new URLSearchParams(t);return l.delete("showAssociationModal"),l})},h=({screening_report_type:t})=>{n({screening_report_type:t})},p=t=>n({require_insurance:t}),m=s?.association_memberships?.filter(t=>t.membership_status==="ACTIVE"&&_i.includes(t.association_name))||[];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:ei.container,children:[c&&e.jsx(ya,{onClose:d}),e.jsx("div",{children:e.jsx(Bc,{})}),e.jsx("hr",{}),e.jsx("div",{children:e.jsx(ja,{require_insurance:s?.require_insurance||!1,onSubmit:p})}),e.jsx("hr",{}),e.jsx("div",{children:e.jsx(xa,{associationMemberships:m,onConnectAssociationClick:()=>u(!0)})}),e.jsx("hr",{}),e.jsx("div",{children:e.jsx(Na,{owner:s})}),s?.screening_report_type==="PackageCore"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{}),e.jsx(Sa,{screeningReportType:s?.screening_report_type,onSubmit:h})]})]}),e.jsxs("div",{className:ei.accountId,children:[e.jsx("b",{children:"Account ID:"})," ",qc(s?.id)]})]})};_a.propTypes={updateProfile:o.func.isRequired,user:o.object.isRequired};const qv=`mutation updateMaintenancePlusSettings(
  $notToExceed: Int!
  $approvers: String!
  $autosend: Boolean!
  $autosendSettings: String!
) {
  updateMaintenancePlusSettings(
    input: {
      notToExceed: $notToExceed
      approvers: $approvers
      autosend: $autosend
      autosendSettings: $autosendSettings
    }
  ) {
    settings {
      id
      approvers
      autosend
      autosend_settings
      not_to_exceed
    }
  }
}
`,Uv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateMaintenancePlusSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"notToExceed"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"approvers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"autosend"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"autosendSettings"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateMaintenancePlusSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"notToExceed"},value:{kind:"Variable",name:{kind:"Name",value:"notToExceed"}}},{kind:"ObjectField",name:{kind:"Name",value:"approvers"},value:{kind:"Variable",name:{kind:"Name",value:"approvers"}}},{kind:"ObjectField",name:{kind:"Name",value:"autosend"},value:{kind:"Variable",name:{kind:"Name",value:"autosend"}}},{kind:"ObjectField",name:{kind:"Name",value:"autosendSettings"},value:{kind:"Variable",name:{kind:"Name",value:"autosendSettings"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"approvers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autosend"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autosend_settings"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"not_to_exceed"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:473,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:qv}}},Vv=`query maintenancePlusSettings {
  userData {
    id
    maintenancePlusSettings {
      id
      approvers
      autosend
      not_to_exceed
    }
  }
}
`,Hv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"maintenancePlusSettings"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maintenancePlusSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"approvers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autosend"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"not_to_exceed"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:192,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Vv}}},Yv=n=>s=>{if(s&&s<n)return`Value must be a minimum of $${n}`},Gv="cs8-U",Qv="IKfzv",Wv="gT1LF",zv="WhuBy",Kv="IdXgt",Zv="O9ZK3",Xv="_81ISv",Jv="rocvU",ex="qu3xE",nx="_9f8hO",tx="czNEu",sx="oNPZY",ix="_-9sgE",ax="rrq-u",ox="FGgXm",cx="_7ERFD",lx="CTjLa",rx="gTAhn",dx="XHL-x",ux="T-lqk",mx="xgWRK",px="XLb2E",hx="_2iq4j",O={container:Gv,banner:Qv,btn:Wv,subscriptionInfo:zv,title:Kv,status:Zv,inactive:Xv,canceled:Jv,active:ex,renewTex:nx,link:tx,divider:sx,form:ix,subtitle:ax,description:ox,contactContainer:cx,contactField:lx,section:rx,backupFieldLabel:dx,buttonWrapper:ux,button:mx,amount:px,tooltip:hx};function bx(n){return JSON.stringify(n.map(s=>({...s,phone:Ci(s.phone)})))}const fx=()=>{const{user:n,loading:s}=vn(),{data:i,loading:a}=sn(Hv),{data:c,loading:u}=sn(me),{MAINTENANCE_PLUS_PLAN_PRICE:d,PRIVATE_BASE_PATH:h}=fe(),[p,{loading:m}]=U(Uv),t=300,l=V(n,"maintenance_plus_active_experiment",!1),r=V(n,"maintenance_plus_subscription_subscribed",!1),b=V(c,"userData.settingsAndBilling.data.maintenancePlusSubscriptionInfo"),f=b?.status,v=V(b,"current.current_period_end",null);let N,y;r?f===R.ACTIVE?(N="Active",y=O.active):f===R.PAST_DUE?(N="Past due",y=O.canceled):(N="Canceled",y=O.canceled):(N="Inactive",y=O.inactive);const C=V(i,"userData.maintenancePlusSettings",{}),A=V(C,"approvers.0",{}),S=V(C,"approvers.1",{}),F=A.email===n.email&&A.phone===n.telephone,P={primary:{email:A.email,first_name:A.first_name,last_name:A.last_name,phone:A.phone},account_holder:F,autosend:C?.autosend,not_to_exceed:hi(C?.not_to_exceed||0),hasBackup:!!S.email,backup:{email:S.email,first_name:S.first_name,last_name:S.last_name,phone:S.phone}};return e.jsx(Ye,{loading:s||a||u||m,children:e.jsxs(rn,{className:O.container,children:[!l&&e.jsxs("div",{className:O.subscriptionInfo,children:[e.jsxs("h3",{className:O.title,children:["Maintenance Plus:"," ",e.jsx("span",{className:j(O.status,y),children:N})]}),r&&e.jsxs("p",{className:O.renewTex,children:[f===R.ACTIVE?e.jsxs(e.Fragment,{children:[e.jsxs("strong",{children:["When you renew on"," ",Ae(v)]}),", your card will be charged $",d]}):e.jsxs(e.Fragment,{children:["Your Maintenance Plus subscription is"," ",e.jsxs("strong",{children:["active until ",Ae(v)]})]}),"."," ",e.jsx(wn,{className:O.link,to:`${h}settings/billing#maintenance-plus`,children:"View in Billing"})]})]}),!!n?.unpaid_maintenance_invoices?.length&&e.jsx(Wo,{className:O.banner,bannerButton:()=>e.jsx(Q,{secondary:!0,className:O.btn,href:`${h}maintenance/${n?.unpaid_maintenance_invoices[0]?.maintenance_request_id}/${n?.unpaid_maintenance_invoices[0]?.listing_id}`,children:"see request"}),children:e.jsxs("p",{className:O.text,children:[e.jsx(wn,{className:O.link,to:`${h}settings/billing#maintenance-plus`,children:"Update your billing method"})," ","or retry the payment in order to continue sending requests to Lula. No requests can be sent to Lula until the invoice payment is processed."]})}),!l&&e.jsx("hr",{className:O.divider}),e.jsx(Qe,{onSubmit:async({primary:E,autosend:k,not_to_exceed:I,hasBackup:L,backup:$})=>{const z=[E,...L?[$]:[]],ge={notToExceed:Zo(I),approvers:bx(z),autosend:k,autosendSettings:JSON.stringify({autosend:k?"ALWAYS":"MANUAL"})};try{await p({variables:ge}),An("Maintenance Settings updated.")}catch(he){const ee=V(he,"graphQLErrors[0].message","An error occurred");pe(ee);return}},initialValues:P,subscription:{values:!0},mutators:{resetPrimaryContact:(E,k,{changeValue:I})=>{I(k,"primary",()=>({email:n.email,first_name:n.first_name,last_name:n.last_name,phone:n.telephone??A.phone}))}},children:({form:E,handleSubmit:k,values:I})=>e.jsxs("form",{onSubmit:k,className:O.form,children:[e.jsxs("div",{className:O.section,children:[e.jsx("h2",{className:O.title,children:"Maintenance Approval Contact"}),e.jsxs("p",{className:O.description,children:["Contacts will only be notified via email and phone call for quote approvals and/or emergency issues."," "]}),e.jsx(zo,{name:"account_holder",children:L=>{L&&E?.mutators?.resetPrimaryContact()}}),e.jsx(Y,{component:dt,id:"account_holder",name:"account_holder",label:"Is this the same as the TurboTenant Account Holder?",options:[{label:"Yes",value:!0},{label:"No",value:!1}],validate:ae}),e.jsxs("div",{className:O.contactContainer,children:[e.jsx(Y,{className:O.contactField,label:"First Name",component:$e,name:"primary.first_name",id:"primary.first_name",validate:Ce(ae,Pn),disabled:I.account_holder}),e.jsx(Y,{className:O.contactField,label:"Last Name",component:$e,name:"primary.last_name",id:"primary.last_name",validate:Ce(ae,Pn),disabled:I.account_holder}),e.jsx(Y,{className:O.contactField,label:"Phone",component:rs,name:"primary.phone",id:"primary.phone",validate:Ce(ae,ds),disabled:I.account_holder}),e.jsx(Y,{className:O.contactField,label:"Email",component:$e,name:"primary.email",id:"primary.email",validate:Ce(ae,mt),disabled:I.account_holder})]}),e.jsx("h3",{className:O.subtitle,children:"Would you like to add a backup contact?"}),e.jsx(Y,{component:dt,id:"hasBackup",name:"hasBackup",label:"They will only be contacted if the primary contact doesn't answer after 1 hour.",labelProps:{className:O.backupFieldLabel},options:[{label:"Yes",value:!0},{label:"No",value:!1}],validate:ae}),e.jsx(Y,{name:"hasBackup",children:({input:L})=>L.value?e.jsxs("div",{className:O.contactContainer,children:[e.jsx(Y,{className:O.contactField,label:"First Name",component:$e,name:"backup.first_name",id:"backup.first_name",validate:Ce(ae,Pn)}),e.jsx(Y,{className:O.contactField,label:"Last Name",component:$e,name:"backup.last_name",id:"backup.last_name",validate:Ce(ae,Pn)}),e.jsx(Y,{className:O.contactField,label:"Phone",component:rs,name:"backup.phone",id:"backup.phone",validate:Ce(ae,ds)}),e.jsx(Y,{className:O.contactField,label:"Email",component:$e,name:"backup.email",id:"backup.email",validate:Ce(ae,mt)})]}):null})]}),e.jsxs("div",{className:O.section,children:[e.jsx("h2",{className:O.title,children:"Auto-Send Settings"}),e.jsx("p",{className:O.description,children:"For all rentals, when a request is sent to Lula, a maintenance expert will first troubleshoot and try to resolve the issue remotely. If unable, they will dispatch a Pro to resolve it."}),e.jsx(Y,{component:dt,id:"autosend",name:"autosend",label:"Which maintenance requests will be sent to Lula?",options:[{label:e.jsxs(e.Fragment,{children:["Automatically send ",e.jsx("b",{children:"all"})," maintenance requests directly to Lula"]}),value:!0},{label:e.jsx(e.Fragment,{children:"I will choose which maintenance requests will be sent to Lula"}),value:!1}],validate:ae})]}),e.jsxs("div",{className:O.section,children:[e.jsx("h2",{className:O.title,children:"Work Order Billing"}),e.jsx("h3",{className:O.subtitle,children:"What is the Not to Exceed (NTE) amount, for which approval is required?"}),e.jsxs("div",{className:O.description,children:["When the quote to fix a maintenance request is less than your NTE amount, a Pro will complete the work immediately. If the quote exceeds your NTE amount, Lula will reach out to the contacts for approval before any work is done.",e.jsx(Pt,{className:O.tooltip,tip:`Minimum of $${t}. Average is $500.`,place:"top"})]}),e.jsx(Y,{className:O.amount,component:ji,name:"not_to_exceed",id:"not_to_exceed",validate:Ce(ae,Ko(8),Yv(t),Gc(5e3)),type:"number",step:".01",pattern:"[0-9]*",inputMode:"decimal",icon:()=>e.jsx(Be,{name:"dollar"}),formatOnBlur:!0,format:Yc})]}),e.jsxs("h3",{className:O.subtitle,children:["If you want to change the card on file for billing maintenance work orders, visit"," ",e.jsx("a",{className:O.link,href:`${h}settings/billing`,children:"Billing"}),"."]}),e.jsx("div",{className:O.buttonWrapper,children:e.jsx(Q,{className:O.button,onClick:k,children:"Save"})})]})})]})})},gx=`mutation updateApplicationBkgQuestionsSettings(
  $evicted_bkg_question_enabled: Boolean
  $conviction_bkg_question_enabled: Boolean
  $civil_action_bkg_question_enabled: Boolean
) {
  updateApplicationBkgQuestionsSettings(
    input: {
      evicted_bkg_question_enabled: $evicted_bkg_question_enabled
      conviction_bkg_question_enabled: $conviction_bkg_question_enabled
      civil_action_bkg_question_enabled: $civil_action_bkg_question_enabled
    }
  ) {
    owner {
      data {
        ... on OwnerProfile {
          id
          evicted_bkg_question_enabled
          conviction_bkg_question_enabled
          civil_action_bkg_question_enabled
        }
      }
    }
  }
}
`,vx={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateApplicationBkgQuestionsSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"evicted_bkg_question_enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conviction_bkg_question_enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"civil_action_bkg_question_enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateApplicationBkgQuestionsSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"evicted_bkg_question_enabled"},value:{kind:"Variable",name:{kind:"Name",value:"evicted_bkg_question_enabled"}}},{kind:"ObjectField",name:{kind:"Name",value:"conviction_bkg_question_enabled"},value:{kind:"Variable",name:{kind:"Name",value:"conviction_bkg_question_enabled"}}},{kind:"ObjectField",name:{kind:"Name",value:"civil_action_bkg_question_enabled"},value:{kind:"Variable",name:{kind:"Name",value:"civil_action_bkg_question_enabled"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OwnerProfile"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"evicted_bkg_question_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conviction_bkg_question_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"civil_action_bkg_question_enabled"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:724,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:gx}}},xx=`#import "../fragments/basicProfile.fragment.graphql"

mutation updateApplyNowURL($apply_now_url: String) {
  updateApplyNowURL(input: { apply_now_url: $apply_now_url }) {
    basicProfile {
      ...BasicProfileFragment
    }
  }
}
`,Bt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateApplyNowURL"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"apply_now_url"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateApplyNowURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"apply_now_url"},value:{kind:"Variable",name:{kind:"Name",value:"apply_now_url"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"basicProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BasicProfileFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:270,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:xx}}},yx=n=>{const s={};return n.filter(function(i){if(i.kind!=="FragmentDefinition")return!0;const a=i.name.value;return s[a]?!1:(s[a]=!0,!0)})};Bt.definitions=yx(Bt.definitions.concat(za.definitions));const kx=(n,s)=>{const i=(t,l)=>{if(t.kind==="FragmentSpread")l.add(t.name.value);else if(t.kind==="VariableDefinition"){const r=t.type;r.kind==="NamedType"&&l.add(r.name.value)}return t&&"selectionSet"in t&&t.selectionSet&&t.selectionSet.selections.forEach(r=>{i(r,l)}),t&&"variableDefinitions"in t&&t.variableDefinitions&&t.variableDefinitions.forEach(r=>{i(r,l)}),t&&"definitions"in t&&t.definitions&&t.definitions.forEach(r=>{i(r,l)}),l},a=t=>{const l={};return t.definitions.forEach(function(r){"name"in r&&r.name&&(l[r.name.value]=i(r,new Set))}),l},c=(t,l)=>{for(let r=0;r<t.definitions.length;r++){const b=t.definitions[r];if(b&&"name"in b&&b.name&&b.name.value==l)return b}},u=a(n),d=Object.assign({},n,{definitions:[c(n,s)]}),h=u[s]||new Set,p=new Set;let m=new Set;for(h.forEach(t=>{m.add(t)});m.size>0;){const t=m;m=new Set,t.forEach(l=>{p.has(l)||(p.add(l),(u[l]||new Set).forEach(b=>{m.add(b)}))})}return p.forEach(t=>{const l=c(n,t);l&&d.definitions.push(l)}),d};kx(Bt,"updateApplyNowURL");const Nx="SFrSd",jx="W4nRr",Sx="OvRv-",_x="_3pDpr",Cx="pbYM-",wx="v2p22",Mn={container:Nx,title:jx,field:Sx,button:_x,support:Cx,link:wx},Ca=({linkToApplication:n})=>{const s=ys(),[i]=U(Bt),a=async({apply_now_url:c})=>{await i({variables:{apply_now_url:c},refetchQueries:[{query:oe}],awaitRefetchQueries:!0}),s("Your link has been successfully updated.")};return e.jsx("div",{className:Mn.container,children:e.jsx(Qe,{onSubmit:a,initialValues:{apply_now_url:n},children:({handleSubmit:c,submitting:u})=>e.jsxs("form",{onSubmit:c,children:[e.jsx("h3",{className:Mn.title,children:"Link to Your Application"}),e.jsx("p",{children:"When you market your property, we’ll swap links to our own application with a direct link to yours–perfect for when you use a Google Form, PDF download, etc."}),e.jsx(Y,{name:"apply_now_url",id:"apply_now_url",className:Mn.field,component:$e,label:"Application URL",inputProps:{className:Mn.textarea}}),e.jsx(_,{loading:u,type:"submit",className:Mn.button,children:"Save Changes"}),e.jsxs("p",{className:Mn.support,children:["Want to use TurboTenant’s application process? Please"," ",e.jsx("a",{className:Mn.link,onClick:d=>{d.preventDefault(),window.Intercom&&Xo()},target:"_blank",rel:"noopener noreferrer",children:"contact support"}),"."]})]})})})};Ca.propTypes={linkToApplication:o.string};const Tx="KPAdj",Px="nWRF-",Ax="_8aXZw",Ex="r-WN9",Ix="xwhTW",$x="eOoMX",Rx="_0psMY",Fx="lnRSx",Mx="_1YoWl",Dx="_3ObHl",Ox="KrZ3K",Lx="_4jdJi",Bx="UuzfH",qx="_6akM6",Ux="rzlOp",Vx="t3S-q",Hx="_9Ghv0",Yx="BWzsD",G={container:Tx,title:Px,text:Ax,link:Ex,headingContainer:Ix,heading:$x,disabled:Rx,periodFilterContainer:Fx,periodFilterItem:Mx,separatorStyle:Dx,premiumButton:Ox,attention:Lx,descWrapperContainer:Bx,descWrapper:qx,desc:Ux,demoButton:Vx,hideDesktop:Hx,hideMobile:Yx},wa=({user:n})=>{const{evicted_bkg_question_enabled:s,conviction_bkg_question_enabled:i,civil_action_bkg_question_enabled:a,has_purchased_link_your_screening_app:c,legacy_custom_application_questions_access:u}=n||{},[d,h]=g.useState(!1),[p]=U(Yt),{OWNERS_URL:m}=fe(),[t,{loading:l}]=U(vx),r=async(v,N)=>{try{await t({variables:{[v]:N}}),ln(N?"Question will be asked in the application.":"Question will not be asked in the application.")}catch{pe("An error has occurred.")}},b=async v=>{try{await p({variables:{custom_questions:v},awaitRefetchQueries:!0,refetchQueries:[{query:oe}]})}catch{pe("An error has occurred.")}},f=({forMobile:v})=>e.jsx(Q,{type:"primary",variant:"outline",className:j(G.demoButton,{[G.hideDesktop]:v,[G.hideMobile]:!v}),onClick:()=>Et("/applications/demo"),children:"View Application Demo"});return f.propTypes={forMobile:o.bool},e.jsxs(Ye,{loading:l,children:[e.jsx(rn,{className:G.container,children:c?e.jsx(Ca,{linkToApplication:n?.apply_now_url}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:G.title,children:"Background Questions"}),e.jsxs("div",{className:G.text,children:["We ask background questions on the rental application (",e.jsx("a",{className:G.link,onClick:()=>Et(`${m}applications/demo/7`),children:"see where they appear by default"}),"). However, some places have restrictions on asking for that info. If applicable, you can choose to not ask them. Your settings will affect ",e.jsx("b",{children:"all applications"})," you receive."," "]}),e.jsxs("div",{className:G.headingContainer,children:[e.jsx("h2",{className:j(G.heading,{[G.disabled]:!s}),children:"Have you (or any person you have named on this application) ever been evicted from a tenancy or left owing money?"}),e.jsx(Wt,{className:G.periodFilter,containerClassName:G.periodFilterContainer,itemClassName:G.periodFilterItem,options:[{label:"Ask",value:!0},{label:"Don't Ask",value:!1}],onChange:v=>r("evicted_bkg_question_enabled",v),selectedValue:s})]}),e.jsxs("div",{className:G.headingContainer,children:[e.jsx("h2",{className:j(G.heading,{[G.disabled]:!i}),children:'Have you or any member of your household ever been convicted of (or pled guilty or no contest to) any criminal offense(s) other than a minor infraction(s) that were disposed of by means other than acquittal or a finding of "not guilty"?'}),e.jsx(Wt,{className:G.periodFilter,containerClassName:G.periodFilterContainer,itemClassName:G.periodFilterItem,options:[{label:"Ask",value:!0},{label:"Don't Ask",value:!1}],onChange:v=>r("conviction_bkg_question_enabled",v),selectedValue:i})]}),e.jsxs("div",{className:G.headingContainer,children:[e.jsx("h2",{className:j(G.heading,{[G.disabled]:!a}),children:"Have you (or any person you have named on this application) ever filed for or been involved in a bankruptcy, been foreclosed on, or been a defendant in a civil suit?"}),e.jsx(Wt,{className:G.periodFilter,containerClassName:G.periodFilterContainer,itemClassName:G.periodFilterItem,options:[{label:"Ask",value:!0},{label:"Don't Ask",value:!1}],onChange:v=>r("civil_action_bkg_question_enabled",v),selectedValue:a})]}),e.jsx("hr",{className:G.separatorStyle}),e.jsxs("div",{className:G.descWrapperContainer,children:[e.jsxs("div",{className:G.descWrapper,children:[e.jsxs("div",{className:G.desc,children:[e.jsx("h3",{className:G.title,children:"Custom Application Questions"}),e.jsx(f,{forMobile:!0}),e.jsx("p",{children:"Customize the application by adding up to four additional questions. Applicants will answer your custom questions with an open-ended text field."})]}),e.jsx(f,{})]}),u?e.jsx(Qc,{customQuestions:n?.custom_questions,onSubmit:b}):e.jsx(Q,{onClick:()=>{h(!0),x("unlock_custom_questions clicked",{location:"Settings - Rental Application"})},className:j(G.premiumButton,G.attention),children:"UNLOCK CUSTOM QUESTIONS"})]})]})}),d&&e.jsx(Jn,{openLocation:Ln.APPLICATION_TAB,onClose:()=>h(!1),onSuccess:()=>h(!1),refetchQueries:[oe,me]})]})};wa.propTypes={user:o.object};const Gx="GDYsK",Qx="OY1eo",Wx="_9mkmP",zx="dZBfQ",Kx="J3Ga1",Zx="Ezxva",Xx="cgkay",Jx="_2u4r3",ey="My5vv",ny="_9IxMV",ty="k12aV",sy="kSors",iy="ceMx0",ay="aT5r7",oy="gYvLY",cy="Vmjwb",Ee={container:Gx,singeCardStyle:Qx,sectionTitle:Wx,sectionDescription:zx,buttonsContainer:Kx,buttonStyle:Zx,successModalContainer:Xx,successModalTitle:Jx,successModalButton:ey,successModalIcon:ny,successModalDescription:ty,centeredCard:sy,statusText:iy,statusYesText:ay,statusNoText:oy,link:cy},ly="https://support.turbotenant.com/en/articles/4004034-what-is-the-lead-questionnaire-and-how-does-it-work",Ta=({onSubmit:n,leadsQuestionnaire:s,singeCardStyle:i})=>{const a=vi(),[c,u]=g.useState(!1),d=a<=bs,h=p=>{n(p).then(()=>u(!0))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:j(Ee.container,{[Ee.singeCardStyle]:i}),children:[e.jsxs("div",{children:[e.jsx("span",{className:Ee.sectionTitle,children:"Automatically Send Pre-Screener:"}),e.jsx("span",{className:j(Ee.statusText,s?Ee.statusYesText:Ee.statusNoText),children:s?"On":"Off"})]}),e.jsxs("p",{className:Ee.sectionDescription,children:[s?"TurboTenant automatically sends leads from 3rd party listing sites an initial set of screening questions so you spend your time focused on the right renters.":"Have TurboTenant automatically send an initial set of screening questions to any leads from 3rd party listing sites. You’ll learn about their desired move-in date, household size, employment, pet situation, and more!"," ",e.jsx("a",{className:Ee.link,target:"_blank",rel:"noopener noreferrer",href:ly,children:"Learn more about how the Pre-Screener works"}),"."]}),e.jsx("div",{className:Ee.buttonsContainer,children:e.jsxs(_,{className:Ee.buttonStyle,large:d,xlarge:!d,onClick:p=>{p.target.blur(),h(!s)},id:"toggle_questionnaire",secondary:s,children:["Turn ",s?"off":"on"," auto pre-screener"]})})]}),e.jsx(q,{open:c,containerClassName:Ee.successModalContainer,fullScreen:!0,children:e.jsxs(rn,{className:Ee.centeredCard,children:[e.jsx(Jo,{className:Ee.successModalIcon,color:ke.text}),e.jsxs("p",{className:Ee.successModalTitle,children:["Auto-send is turned ",s?"on":"off","."]}),e.jsx("p",{className:Ee.successModalDescription,children:s?"We will automatically send a pre-screener to new leads that express interest in your rental on 3rd party listing sites.":"We will no longer automatically send a pre-screener to leads that express interest in your rentals on 3rd party listing sites. You can still manually send leads the pre-screener from their profile."}),e.jsx(_,{className:Ee.successModalButton,onClick:()=>u(!1),id:"sounds_good",small:!0,children:"Sounds good"})]})})]})};Ta.propTypes={leadsQuestionnaire:o.bool.isRequired,onSubmit:o.func.isRequired};const ry="mmqnq",dy="z1tS9",uy="uQeFG",my="KBToM",py="_6mMQp",hy="KSMFC",by="nkUpp",fy="rDPHX",_n={container:ry,separatorStyle:dy,sectionTitle:uy,previewButtonDesktop:my,previewButtonMobile:py,descriptionHolder:hy,sectionDescription:by,premiumButton:fy},Pa=({onSubmitQuestionnaireSetting:n,leadsQuestionnaire:s,location:i})=>{const{premium:a}=hs.parse(i.search),c=a!==void 0,[u,d]=g.useState(c),{loadingQuestions:h,...p}=Wc(),{user:m}=vn({},!1),t=V(m,"premium_subscription_subscribed",!1),{listings:l,loading:r}=gs({}),b=V(m,"entity_id",""),f=l?.[0]?.id;let v="";return b&&f&&(v=`https://turbo.rent/li/${b}?p=${ec(f)}`),e.jsxs("div",{className:_n.container,children:[e.jsx(Ta,{leadsQuestionnaire:s,onSubmit:n}),e.jsx("div",{children:e.jsx("hr",{className:_n.separatorStyle})}),e.jsxs("div",{className:_n.descriptionHolder,children:[e.jsxs("div",{children:[e.jsx("span",{className:_n.sectionTitle,children:"Custom Pre-screener Questions"}),e.jsx(_,{secondary:!0,className:_n.previewButtonMobile,small:!0,loading:r,onClick:()=>Et(v),children:"preview pre-screener"}),e.jsx("p",{className:_n.sectionDescription,children:"Customize the pre-screener by adding up to four additional questions. Leads will answer your custom questions with an open-ended text field."})]}),(r||f)&&e.jsx(_,{secondary:!0,className:_n.previewButtonDesktop,small:!0,loading:r,onClick:()=>Et(v),children:"preview pre-screener"})]}),t?e.jsx(Ye,{loading:h,small:!0,children:e.jsx(zc,{...p})}):e.jsx(_,{onClick:()=>{d(!0),x("unlock_custom_questions clicked",{location:"Settings - Pre-screener"})},className:_n.premiumButton,small:!0,children:"UNLOCK CUSTOM QUESTIONS"}),u&&e.jsx(Jn,{openLocation:Ln.PRESCREENER_TAB,onClose:()=>d(!1),onSuccess:()=>d(!1),refetchQueries:[oe,me],benefitsType:"payments"})]})};Pa.propTypes={onSubmitQuestionnaireSetting:o.func.isRequired,leadsQuestionnaire:o.object,location:o.object};const gy="_6Lkdx",vy="G0-7u",xy="vtZmL",yy="-P9IU",Qn={container:gy,action:vy,button:xy,mb16:yy},ps=({onClose:n,onPasswordSet:s=()=>null,open:i,muaFlow:a=!1})=>{const[c]=U(Ei),u=async({password:d})=>{try{const h=await c({variables:{password:d,currentPassword:""}});if(!V(h,"data.updatePassword.ok"))return{[Tn]:"There was an error setting the new password"};s()}catch(h){return{[Tn]:V(h,"graphQLErrors[0].message")||"Something went wrong"}}};return e.jsx(q,{open:i,className:Qn.container,children:e.jsx(Qe,{onSubmit:u,subscription:{submitting:!0},initialValues:{password:"",passwordConfirm:""},children:({handleSubmit:d,submitting:h,form:p})=>e.jsxs("form",{onSubmit:d,children:[e.jsx("h1",{children:"First you need to add a password to your account."}),e.jsxs("p",{children:["Looks like you signed up for a TurboTenant account using your Google or Facebook Account."," ",!a&&"To change your email address you’ll first need to create a password."]}),e.jsx(Vt,{}),e.jsx(Y,{label:"Password",component:Vs,name:"password",id:"password",validate:nc(ae,sc,tc("SetSocialPasswordModal")),showPasswordStrengthChecker:!0,inputProps:{autoComplete:"new-password"},passwordStrengthClassName:Qn.mb16,className:Qn.mb16}),e.jsx(Y,{label:"Confirm New Password",component:Vs,name:"passwordConfirm",id:"passwordConfirm",validate:Ce(ae,ic("password")),hint:null,inputProps:{autoComplete:"new-password"}}),e.jsxs("div",{className:Qn.action,children:[e.jsx(_,{className:Qn.button,secondary:!0,onClick:()=>{n&&n(),p.reset()},children:"Cancel"}),e.jsx(_,{className:Qn.button,type:"submit",loading:h,id:"confirm-password",children:"Continue"})]})]})})})};ps.propTypes={open:o.bool.isRequired,onClose:o.func.isRequired,onPasswordSet:o.func,muaFlow:o.bool};const ky=`mutation disableTwoFactorAuthMutation($code: String!) {
  disableTwoFactorAuth(input: { code: $code }) {
    user {
      id
      is_2fa_enabled
      phone_2fa
    }
  }
}
`,Ny={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"disableTwoFactorAuthMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"code"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableTwoFactorAuth"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"code"},value:{kind:"Variable",name:{kind:"Name",value:"code"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_2fa_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_2fa"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:212,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:ky}}},jy=`mutation initiateTwoFactorVerification {
  initiateTwoFactorVerification {
    ok
  }
}
`,Sy={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"initiateTwoFactorVerification"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"initiateTwoFactorVerification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:126,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:jy}}},Aa=(n,s)=>{const i=pt(n,s);for(const[a,c]of Object.entries(ac))if(i.includes(a))return{isFieldError:!0,code:c};return pe(i),{isFieldError:!1}},_y=n=>{const[s,i]=g.useState(!1),[a,{loading:c}]=U(Sy),[u]=U(Ny),d=g.useCallback(async()=>{try{await a(),i(!0),x("2FA_disable clicked",{location:"Your Profile"})}catch(t){pe(pt(t,"Failed to send verification code"))}},[a]),h=g.useCallback(()=>{i(!1)},[]),p=g.useCallback(async t=>{try{const{data:l}=await u({variables:{code:t.code}}),r=l?.disableTwoFactorAuth?.user;r?.__typename==="User"&&r.is_2fa_enabled===!1&&(i(!1),An("Two-factor authentication disabled."))}catch(l){const r=Aa(l,"Failed to disable two-factor authentication");if(r.isFieldError)return{code:r.code};h()}},[n,u]),m=g.useCallback(async()=>{try{await a()}catch(t){pe(pt(t,"Failed to resend verification code"))}},[a]);return{isConfirmation2FAModalOpen:s,phoneNumber:n,handleOpenDisableFlow:d,handleCloseConfirmationModal:h,handleConfirmCode:p,handleResendCode:m,isSendingCode:c}},Cy=({phone2fa:n,...s})=>{const{isConfirmation2FAModalOpen:i,phoneNumber:a,handleOpenDisableFlow:c,handleCloseConfirmationModal:u,handleConfirmCode:d,handleResendCode:h,isSendingCode:p}=_y(n);return e.jsxs(e.Fragment,{children:[e.jsx(wi,{isOpen:i,onClose:u,onSubmit:d,onResendCode:h,phoneNumber:a,title:"Disable two-factor authentication",subtitle:"Enter the 6-digit code we texted to",confirmText:"confirm"}),e.jsx(Q,{onClick:c,disabled:p,loading:p,variant:"outline",smWidth:"block",...s,children:"disable"})]})},wy=n=>s=>{if(ds(s))return n},Ty="_7UeAP",Py="D6-kS",Ay="gOqTx",Wn={header:Ty,inputContainer:Py,input:Ay},Ey=({isOpen:n,prefilledPhoneNumber:s,onClose:i,onSubmit:a})=>e.jsx(Cn,{isOpen:n,onClose:i,size:"sm",isDismissible:!1,children:e.jsx(Qe,{onSubmit:a,initialValues:{phoneNumber:s},subscription:{submitting:!0},children:({handleSubmit:c,submitting:u})=>e.jsxs("form",{onSubmit:c,children:[e.jsxs(Cn.Content,{className:Wn.content,children:[e.jsxs("div",{className:Wn.header,children:[e.jsx(Ka,{icon:"lock",iconType:"multiColor",size:"xxl",iconColor:"default",className:"mb-16"}),e.jsx(xe,{children:"Enable two-factor authentication via SMS"}),e.jsxs(T,{className:"mb-16",children:["Enter your mobile number to receive an SMS verification code."," ",e.jsx("b",{children:"This number will be saved as the main phone number for your account."})]})]}),e.jsx("div",{className:Wn.inputContainer,children:e.jsx(Y,{className:Wn.input,component:rs,label:"Phone Number",name:"phoneNumber",disabled:u,validate:Ce(oc("This field is required."),wy("Please enter a valid phone number."))})})]}),e.jsxs(Cn.Footer,{children:[e.jsx(Cn.SecondaryAction,{onClick:i,disabled:u,className:Wn.cancelButton,children:"Cancel"}),e.jsx(Cn.PrimaryAction,{htmlType:"submit",disabled:u,className:Wn.confirmButton,children:"send code"})]})]})})}),Iy=`mutation enableTwoFactorAuth($phoneNumber: String!, $code: String!) {
  enableTwoFactorAuth(input: { phoneNumber: $phoneNumber, code: $code }) {
    user {
      id
      is_2fa_enabled
      phone_2fa
    }
    token
  }
}
`,$y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"enableTwoFactorAuth"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"phoneNumber"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"code"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enableTwoFactorAuth"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"phoneNumber"},value:{kind:"Variable",name:{kind:"Name",value:"phoneNumber"}}},{kind:"ObjectField",name:{kind:"Name",value:"code"},value:{kind:"Variable",name:{kind:"Name",value:"code"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_2fa_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone_2fa"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:262,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Iy}}},Ry=`mutation initiateTwoFactorSetup($phoneNumber: String!) {
  initiateTwoFactorSetup(input: { phoneNumber: $phoneNumber }) {
    phoneNumber
  }
}
`,Fy={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"initiateTwoFactorSetup"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"phoneNumber"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"initiateTwoFactorSetup"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"phoneNumber"},value:{kind:"Variable",name:{kind:"Name",value:"phoneNumber"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:182,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:Ry}}},My=()=>{const[n,s]=g.useState(!1),[i,a]=g.useState(!1),[c,u]=g.useState(),[d]=U(Fy),[h]=U($y),p=g.useCallback(()=>{s(!0),x("enable clicked",{location:"Your Profile"})},[]),m=g.useCallback(()=>{s(!1),x("cancel clicked",{location:"2FA Modal Phone Number"})},[]),t=g.useCallback(()=>{a(!1),x("cancel clicked",{location:"2FA Modal Confirm"})},[]),l=g.useCallback(async f=>{try{const{data:v}=await d({variables:{phoneNumber:Ci(f.phoneNumber)}});v?.initiateTwoFactorSetup?.phoneNumber&&(u(v.initiateTwoFactorSetup.phoneNumber),s(!1),a(!0)),x("send_code clicked",{location:"2FA Modal Phone Number"})}catch(v){pe(pt(v,"Failed to initiate two-factor setup"))}},[d]),r=g.useCallback(async f=>{if(!c){pe("Phone number is required");return}try{const v=await h({variables:{phoneNumber:c,code:f.code}}),N=v.data?.enableTwoFactorAuth?.user,y=v.data?.enableTwoFactorAuth?.token;N?.__typename==="User"&&N.is_2fa_enabled&&(y&&Za(y),a(!1),s(!1),An("Two-factor authentication enabled."),x("verify clicked",{location:"2FA Modal Confirm"}))}catch(v){const N=Aa(v,"Failed to enable two-factor authentication");if(N.isFieldError)return{code:N.code};t()}},[c,h]),b=g.useCallback(async()=>{if(c)try{await d({variables:{phoneNumber:c}}),x("resend_code",{location:"2FA Modal Confirm"})}catch(f){pe(pt(f,"Failed to resend verification code"))}},[c,d]);return{isEnable2FAModalOpen:n,isConfirmation2FAModalOpen:i,phoneNumber:c,handleOpenEnableModal:p,handleCloseEnableModal:m,handleCloseConfirmationModal:t,handleInitiateSetup:l,handleConfirmCode:r,handleResendCode:b}},Dy=({...n})=>{const{isEnable2FAModalOpen:s,isConfirmation2FAModalOpen:i,phoneNumber:a,handleOpenEnableModal:c,handleCloseEnableModal:u,handleCloseConfirmationModal:d,handleInitiateSetup:h,handleConfirmCode:p,handleResendCode:m}=My(),{muaUser:t}=vn({polling:!1});return e.jsxs(e.Fragment,{children:[e.jsx(wi,{isOpen:i,onClose:d,onSubmit:p,onResendCode:m,phoneNumber:a,confirmText:"verify"}),e.jsx(Ey,{isOpen:s,prefilledPhoneNumber:t?.telephone,onClose:u,onSubmit:h}),e.jsx(Q,{onClick:c,smWidth:"block",...n,children:"enable"})]})},Oy=({is2faEnabled:n,phone2fa:s})=>n&&s?e.jsx(Cy,{phone2fa:s}):e.jsx(Dy,{}),Ly="p0-YW",By="mvAfg",qy="sZXdM",Uy="IeFyr",Vy="_2XmfW",Hy="_5-Rt0",Yy="df-Db",Gy="LVYhY",Qy="jgJKg",Wy="d7Fex",zy="k59fB",Ky="hFLrf",Zy="_302TG",Xy="y0Wqv",Jy="_1GQPb",H={container:Ly,back:By,content:qy,title:Uy,infoBlock:Vy,infoType:Hy,infoBlockTitle:Yy,infoBlockValue:Gy,twoFactorBlock:Qy,editBtn:Wy,addPhoneBtn:zy,passwordBtn:Ky,editBtnPencil:Zy,statusOff:Xy,statusOn:Jy},Ea=({updateUserProfile:n,onSubmit:s,loadingUser:i,muaUser:a})=>{const c=Bn(),d=(a?.users_accounts||[]).find(S=>S.is_selected)?.user_role,[h]=U(Ei),[p,m]=g.useState(null),[t,l]=g.useState(!1),r=`${a?.first_name} ${a?.last_name}`,b=S=>S===zn.ACCOUNT_ADMIN?"Admins have full access to the account.":S===zn.ASSISTANT?"Access to everything except: Messaging, Rent payment setup, bank accounts, and payment methods":"The account owner has full access to the portfolio. To change the account owner, update the email and name below.",f=S=>S===zn.ACCOUNT_ADMIN?"Admin":S===zn.ASSISTANT?"Assistant":"Account Owner",v=g.useCallback(async(S,F)=>{try{const P=a?.email?a?.email.toLowerCase():"";if(S.email.toLowerCase()===P)return{[Tn]:"You did not make any changes to the email!"};if(F(),!await new Promise(k=>{a?.has_password?m(e.jsx(di,{open:!0,onClose:()=>{k(!1),m(null)},onPasswordValid:()=>{k(!0),m(null)},onForgotPasswordClick:()=>{k(!1),m(null),l(!0)}})):m(e.jsx(ps,{open:!0,muaFlow:!0,onClose:()=>{k(!1),m(null)},onPasswordSet:()=>{k(!0),m(null)}}))}))return{};await s(S),An("Your changes were saved!")}catch(P){const E=V(P,"graphQLErrors[0].message")||"Something went wrong";pe(E)}},[s,An,a]),N=S=>{S.currentTarget.blur(),c(F=>e.jsx(lc,{open:!0,onClose:F,onSubmit:async P=>{const E=await v(P,F);if(E&&E[Tn])return E},initialValues:{email:a?.email}}))},y=S=>{S.currentTarget.blur(),c(F=>e.jsx(cc,{open:!0,onClose:F,onSubmit:async P=>{await n(P),An("Your changes were saved!"),F()},initialValues:{first_name:a?.first_name,last_name:a?.last_name}}))},C=S=>{S.currentTarget.blur(),c(F=>e.jsx(rc,{addingNumber:!a?.telephone,onClose:F,initialValues:{newPhoneNumber:a?.telephone}}))},A=async S=>{if(S.currentTarget.blur(),!a.has_password){m(e.jsx(ps,{open:!0,muaFlow:!0,onClose:()=>{m(null)},onPasswordSet:()=>{m(null)}}));return}c(F=>e.jsx(dc,{open:!0,onClose:F,onForgotPasswordClick:()=>{l(!0),F()},onSubmit:async({currentPassword:P,newPassword:E})=>{try{const k=await h({variables:{currentPassword:P,password:E}});if(!V(k,"data.updatePassword.ok"))return{[Tn]:"There was an error setting the new password"}}catch(k){return{[Tn]:V(k,"graphQLErrors[0].message")||"Something went wrong"}}F(),c(k=>e.jsx(Kc,{onClose:k,icon:uc,iconProps:{width:82,height:82},title:"Password Changed!",titleId:"password_changed_title",description:"Your TurboTenant password has been changed.",action:"Continue",buttonId:"continue"}))}}))};return i?e.jsx(Ye,{}):e.jsxs("div",{className:H.container,children:[e.jsx(At,{className:H.back}),e.jsxs(ti,{className:H.content,children:[e.jsx("h2",{className:H.title,children:"Your Profile"}),e.jsx("div",{className:H.infoBlock,children:e.jsxs("div",{className:H.infoType,children:[e.jsx("h4",{className:H.infoBlockTitle,children:"User type"}),e.jsxs(T,{size:"large",className:H.infoBlockValue,children:[f(d),e.jsx(Pt,{className:"ml-4",tip:b(d)})]})]})}),e.jsxs("div",{className:H.infoBlock,children:[e.jsxs("div",{className:H.infoType,children:[e.jsxs("h4",{className:H.infoBlockTitle,children:["Name"," ",d===zn.MAIN?e.jsx(Pt,{className:"ml-4",tip:"Your name will appear on your TurboTenant listing website, messages, and lease agreements unless a company name is added."}):null]}),e.jsx(T,{size:"large",children:r})]}),e.jsx(Q,{className:H.editBtn,variant:"outline",onClick:y,children:"Edit"}),e.jsx(He,{icon:"edit",iconProps:{width:20,height:20},className:H.editBtnPencil,onClick:y})]}),e.jsxs("div",{className:H.infoBlock,children:[e.jsxs("div",{className:H.infoType,children:[e.jsx("h4",{className:H.infoBlockTitle,children:"Email"}),e.jsx(T,{size:"large",children:a?.email})]}),e.jsx(Q,{className:H.editBtn,variant:"outline",onClick:N,children:"Edit"}),e.jsx(He,{icon:"edit",iconProps:{width:20,height:20},className:H.editBtnPencil,onClick:N})]}),It(a)&&e.jsxs("div",{className:H.infoBlock,children:[e.jsxs("div",{className:H.infoType,children:[e.jsxs("h4",{className:H.infoBlockTitle,children:["Phone number"," ",e.jsx(Pt,{className:"ml-4",tip:"This will show on third-party listing sites when marketing your properties. This is also where you’ll receive security-related account updates."})]}),e.jsx(T,{size:"large",children:a.telephone?Si(a.telephone):"Add a phone number"})]}),a.telephone?e.jsx(Q,{className:H.editBtn,variant:"outline",onClick:C,children:"Edit"}):e.jsx(Q,{className:H.addPhoneBtn,variant:"outline",onClick:C,children:"Add Phone Number"}),e.jsx(He,{icon:"edit",iconProps:{width:20,height:20},className:H.editBtnPencil,onClick:C})]}),e.jsxs("div",{className:H.infoBlock,children:[e.jsxs("div",{className:H.infoType,children:[e.jsx("h4",{className:H.infoBlockTitle,children:"Password"}),e.jsx(T,{size:"large",children:"*********"})]}),e.jsx(Q,{className:H.passwordBtn,variant:"outline",onClick:A,children:"Change Password"}),e.jsx(He,{icon:"edit",iconProps:{width:20,height:20},className:H.editBtnPencil,onClick:A})]}),e.jsxs("div",{className:j(H.infoBlock,H.twoFactorBlock),children:[e.jsxs("div",{className:H.infoType,children:[e.jsxs("h4",{className:H.infoBlockTitle,children:["Two-factor authentication (2FA):",e.jsx("span",{className:a?.is_2fa_enabled?H.statusOn:H.statusOff,children:a?.is_2fa_enabled?"On":"Off"})]}),e.jsx(T,{size:"large",children:"For enhanced security, receive a one-time passcode via SMS each time you log in."})]}),e.jsx(Oy,{is2faEnabled:a?.is_2fa_enabled,phone2fa:a?.phone_2fa})]})]}),p,e.jsx(Uc,{open:t,onClose:()=>l(!1)})]})};Ea.propTypes={updateUserProfile:o.func.isRequired,onSubmit:o.func.isRequired,loadingUser:o.bool,muaUser:o.object};const ek="_-1WPb",nk="LfXZt",tk="O-oZL",sk="jKp3R",ik="Q4Wg4",ak="luW1g",ok="puK0W",ck="bBFgc",lk="RoQlf",rk="g1As2",dk="ICBLH",uk="_8jYZn",mk="FRAc-",Oe={container:ek,fullWidth:nk,label:tk,content:sk,dropzone:ik,learnMore:ak,preview:ok,icon:ck,rotate:lk,remove:rk,loading:dk,imageWrap:uk,informationIcon:mk},ni=async n=>{const s=await pc(),i=JSON.parse(s);await(await hc(i,n)).text()},pk=({customLogo:n,onSubmit:s,fullWidth:i})=>{const[a,c]=g.useState(!1),u=qn(),d=Ht(),h=g.useCallback(async([l])=>{try{await ni(l),await s(!0),d("Your logo was updated!")}catch{u("Something went wrong please try again"),console.error("Something went wrong please try again")}},[]),p=g.useCallback(async()=>{c(!0);try{const l=await Vc({url:n},1);await ni(l),await s(!0)}catch{u("Something went wrong please try again"),console.error("Something went wrong please try again")}c(!1)},[n]),m=g.useCallback(async()=>{await s(!1)},[s]);let t;return n?t=e.jsxs("div",{className:Oe.preview,children:[e.jsx("div",{className:Oe.imageWrap,children:e.jsx("img",{src:n})}),e.jsx(He,{icon:mc,onClick:p,className:j(Oe.icon,Oe.rotate)}),e.jsx(He,{icon:ri,onClick:m,className:j(Oe.icon,Oe.remove)}),a?e.jsx("div",{className:Oe.loading,children:e.jsx(Xa,{secondary:!0})}):null]}):t=e.jsx(bc,{id:"photo_upload_dragndrop",name:"photo_upload_dragndrop",accept:"image/*",uploadFiles:h,multiple:!1,icon:fc,iconProps:{width:21,height:21},dropzoneLabel:"ADD LOGO",className:Oe.dropzone}),e.jsxs("div",{className:j(Oe.container,{[Oe.fullWidth]:i}),children:[e.jsxs(Ja,{className:Oe.label,hint:!i&&"(Optional)",children:["Company Logo",e.jsx("span",{className:Oe.learnMore,"data-tooltip-id":"logo-tooltip",children:i&&e.jsx(Ii,{className:Oe.informationIcon,width:18,height:18,strokeWidth:2,color:ke.primary})}),e.jsx(we,{id:"logo-tooltip",place:"top",children:"Your logo will appear on your TurboTenant listing website, application, and more!"})]}),e.jsx("div",{className:j(Oe.content),children:t}),!i&&e.jsx("p",{children:"Your logo will be on your TurboTenant listing website, application, and more!"})]})},hk="ehWHG",bk="O6m2W",fk="SC2jd",gk="B5SpO",vk="Aw99r",xk="FYA1G",yk="Be0tM",kk="aUlB-",Je={container:hk,section:bk,mobileButton:fk,button:gk,learnMore:vk,holder:xk,title:yk,informationIcon:kk},Ia=({user:n})=>{const[s]=U(Yt,{refetchQueries:[{query:oe}]}),[i,a]=g.useState(!1),c=Ht(),u=()=>{a(!1)};return e.jsxs("div",{className:Je.container,children:[e.jsx(eo,{className:Je.title,children:"Your company profile"}),e.jsxs("div",{className:Je.section,children:[e.jsxs("div",{className:Je.holder,children:[e.jsx(Xe,{className:Je.sectionTitle,children:"Company name"}),e.jsx("span",{className:Je.learnMore,"data-tooltip-id":"tooltip",children:e.jsx(Ii,{className:Je.informationIcon,width:18,height:18,strokeWidth:2,color:ke.primary})}),e.jsx(we,{id:"tooltip",place:"top",children:"Your company name will appear on your TurboTenant listing website, application, and more!"}),e.jsx(T,{size:"large",children:n?.company||"Add a company name"})]}),e.jsx(_,{className:j(Je.button,Je.desktopButton),onClick:()=>{a(!0)},children:n?.company?"Edit":"Add company name"}),e.jsx(nn,{className:Je.mobileButton,onClick:()=>a(!0),children:e.jsx(gc,{})})]}),e.jsx("div",{className:Je.section,children:e.jsx(pk,{customLogo:n?.custom_logo,fullWidth:!0,onSubmit:d=>s({variables:{custom_logo:d}})})}),e.jsx(vc,{open:i,onClose:u,user:n,name:n?.company,isEdit:n?.company,onSubmit:async({company_name:d})=>{await s({variables:{company:d||null}}),c("Your changes were saved!"),u()}})]})};Ia.propTypes={user:o.object.isRequired};const Nk="JkEET",jk="LmMIf",Sk="L7CJq",_k="HoHqE",Ck="QJ-4g",wk="UKJJS",Tk="t2cVE",Pe={mainContainer:Nk,tabsContent:jk,contentContainer:Sk,fullWidth:_k,column:Ck,companyContainer:wk,backBtn:Tk};let as=!1;const $a=({user:n,updateOwnerProfile:s,updateUserProfile:i,failedNetworkRequest:a,loading:c,loadingMutation:u,match:d})=>{const h=an(),p=no(),{muaUser:m}=vn(),t=V(n,"payment_methods[0]",{}),{data:l}=sn(me),[r,{loadingUserEmail:b}]=U(Pc),{innerWidth:f}=ci(),{PRIVATE_BASE_PATH:v}=fe(),N=n?.maintenance_plus_subscription_subscribed||n?.maintenance_request_management_settings,y=f<=Nc;g.useEffect(()=>{const $=p.state?.scrollTo;return!c&&n?.id&&!as&&$&&(window.scrollTo(...$),as=!0),()=>{as=!1}},[n,c]);const C=xc();g.useEffect(()=>(C($=>({...$,settings:{hasTabsLayout:!0}})),()=>C($=>({...$,settings:{hasTabsLayout:!1}}))),[]);const[A,S]=g.useState(!1),F=[{id:"account_tab",label:"ACCOUNT",url:{pathname:`${d.url}/account`}},{id:"bank_accounts_tab",label:"RENT PAYMENTS",url:{pathname:`${d.url}/rent-payments`}},{id:"billing_tab",label:"BILLING",url:{pathname:`${d.url}/billing`}},{id:"prescreener_tab",label:"PRE SCREENER",url:{pathname:`${d.url}/pre-screener`}},{id:"application_tab",label:"APPLICATIONS",url:{pathname:`${d.url}/application`}},...N?[{id:"maintenance_tab",label:"MAINTENANCE",url:{pathname:`${d.url}/maintenance`}}]:[],{id:"application_tab",label:"ADVANCED",url:{pathname:`${d.url}/advanced`}}],P=async($,z="default")=>{if($.email!==n.email){await r({variables:{email:$.email}}),S(z);return}return s($)},E=$=>s({leads_questionnaire:$}),k=()=>{S(""),An("Your verification email was sent!")},I=()=>{h(`${v}settings/billing`)},L=()=>e.jsxs(to,{children:[e.jsx(Ke,{exact:!0,path:`${d.url}/account`,render:()=>e.jsx(en,{title:"Account - Settings - TurboTenant",children:e.jsx("div",{className:Pe.contentContainer,children:e.jsx(va,{user:n,onSubmit:P,updateProfile:s})})})}),e.jsx(jt,{exact:!0,path:`${d.url}/account/profile`,title:"Account - Profile",render:()=>e.jsx("div",{className:j(Pe.contentContainer,Pe.fullWidth),children:e.jsx(Ea,{user:n,updateUserProfile:i,onSubmit:P,loadingUser:c,ownerSettingsData:l,muaUser:m})})}),e.jsx(jt,{exact:!0,title:"Account - Settings - Edit Entity",path:`${d.url}/rent-payments/edit-entity/:entityId`,component:Xr}),e.jsx(jt,{exact:!0,title:"Account - Settings - Add Entity",path:`${d.url}/rent-payments/add-entity`,render:()=>e.jsx(Ec,{onSuccessRedirectTo:`${v}settings/rent-payments`})}),e.jsx(jt,{exact:!0,title:"Account - Settings - Add Bank Account",path:`${d.url}/rent-payments/add-bank-account`,render:()=>e.jsx(en,{title:"Account - Settings - Add Bank Account",children:e.jsx(Ic,{})})}),e.jsx(Ke,{exact:!0,path:`${d.url}/rent-payments`,render:$=>e.jsx(en,{title:"Account - Settings - Bank Accounts",children:e.jsx(Vi,{user:n,muaUser:m,...$})})}),e.jsx(Ke,{exact:!0,path:`${d.url}/application`,render:$=>e.jsx(en,{title:"Account - Settings - Applications",children:e.jsx(wa,{user:n,...$})})}),e.jsx(Ke,{exact:!0,path:`${d.url}/maintenance`,render:$=>e.jsx(en,{title:"Account - Settings - Maintenance",children:e.jsx(fx,{user:n,...$})})}),e.jsx(Ke,{exact:!0,path:`${d.url}/advanced`,render:()=>e.jsx(en,{title:"Advanced - Settings - TurboTenant",children:e.jsx("div",{className:Pe.contentContainer,children:e.jsx(_a,{updateProfile:s,user:n})})})}),e.jsx(Ke,{path:`${d.url}/advanced/email-preferences`,render:$=>e.jsx(Ac,{hideBackButton:!0,...$})}),e.jsx(Ke,{path:`${d.url}/account/company-settings`,render:$=>e.jsxs("div",{className:Pe.companyContainer,children:[e.jsx(At,{className:Pe.backBtn}),e.jsx(Ia,{user:n,...$})]})}),e.jsx(Ke,{exact:!0,path:`${d.url}/billing`,render:()=>e.jsx(en,{title:"Payment - Settings - TurboTenant",children:e.jsx("div",{className:Pe.contentContainer,children:e.jsx(ta,{loadingUser:c,user:n,location:p,muaUser:m})})})}),e.jsx(Ke,{exact:!0,path:`${d.url}/billing/manage-your-plan`,render:()=>e.jsx(en,{title:"Payment - Settings - TurboTenant",children:e.jsx("div",{className:Pe.contentContainer,children:e.jsx(ca,{loadingUser:c,user:n,muaUser:m})})})}),e.jsx(Ke,{exact:!0,path:`${d.url}/pre-screener`,render:()=>e.jsx(en,{title:"Payment - Settings - TurboTenant",children:e.jsx("div",{className:Pe.contentContainer,children:e.jsx(Pa,{user:n,leadsQuestionnaire:n?.leads_questionnaire||!1,onSubmitQuestionnaireSetting:E,location:p})})})}),e.jsx(Ke,{exact:!0,path:`${d.url}/billing/updatecard`,render:()=>e.jsx(en,{title:"Payment - Settings - TurboTenant",children:e.jsxs("div",{className:j(Pe.column,Pe.contentContainer),children:[e.jsx(At,{className:Pe.backBtn,onClick:()=>h(`${v}settings/billing`)}),e.jsx(jc,{isBillingPaymentMethod:!0,onToken:I,title:t.brand?"Update Card on File":"Add Credit Card",buttonLabel:"Save Card"})]})})}),e.jsx(Sc,{from:`${d.url}`,exact:!0,to:`${d.url}/account`})]});return a?e.jsx(yc,{style:{marginTop:75},reason:a,source:"owner-account-settings"}):e.jsx(Ye,{loading:c||u||b,children:e.jsxs("div",{className:Pe.column,children:[y?e.jsx(kc,{className:Pe.mainContainer,headerClassName:Pe.tabsContent,tabs:F,children:L()}):e.jsx("div",{className:j(Pe.mainContainer,Pe.column),children:L()}),e.jsx(Tc,{icon:"warning",open:!!A,title:A==="social"?"Confirm your email to complete the change.":"You will need to confirm your new email.",info:A==="social"?"We'll email you a link to confirm your new email. Click that link and we'll save the change. You will now have to use that email and your password to log in to your TurboTenant account.":"Check your inbox for the link to confirm your email. Once you confirm it, we will save the change.",buttonText:"Sounds Good",onClose:k})]})})};$a.propTypes={refreshData:Ve.func,loading:Ve.bool,loadingMutation:Ve.bool,user:Ve.object,match:Ve.object,updateOwnerProfile:Ve.func,updateUserProfile:Ve.func,card:Ve.object,features:Ve.array,failedNetworkRequest:Ve.object};const u2=so(_c({props:({ownProps:n,data:{loading:s,mutate:i}})=>({loadingMutation:s,...n,updateUserProfile:a=>i({mutation:Xc,variables:a,refetchQueries:[{query:oe}],awaitRefetchQueries:!0}),updateOwnerProfile:a=>i({mutation:Yt,variables:a,refetchQueries:[{query:oe},{query:me}],awaitRefetchQueries:!0})})}),Cc({props:({ownProps:n,data:{loading:s,userData:i,networkStatus:a,error:c,viewer:u}})=>({loading:s&&a!==6,user:i&&i.basicProfile.data,features:V(u,"features",[]),failedNetworkRequest:c,card:V(i,"basicProfile.data.payment_methods[0]",{}),...n})}))($a);export{u2 as default};
//# sourceMappingURL=AccountSettingsContainer-DeFZI5g2.js.map
