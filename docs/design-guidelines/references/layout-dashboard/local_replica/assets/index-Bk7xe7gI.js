import{p as x,r as p,o as b,j as t,L as C,k as w,a5 as I,s as k,P as L}from"./TownhouseColor--VjQBVqd.js";import{u as E,cW as R,ar as A,aM as $,c1 as y,dy as B}from"./main-dumNSXg9.js";const P="k9TIY",W="d-4uu",_="THT1X",q="Gjz9j",F="ZvdqI",n={container:P,back:W,card:_,title:q,lease:F,continue:"_3iMR7"},H=({location:i,match:g})=>{const v=x(),[o,l]=p.useState(),[S,c]=p.useState(),{PRIVATE_BASE_PATH:r}=b(),T=E(),{leases:h,loading:m}=R(),{listingId:d}=g.params;let f=[];m||(f=h.filter(({status:e,listing_id:s})=>e!=="PAST"&&(!d||d===s)));const a=[{value:void 0,label:""}];f.forEach(({id:e,title:s})=>a.push({value:e,label:s})),a.push({value:"new",label:"+ Add New Lease"});const u=e=>{l(e),c(e==="new"?"NEW":void 0)};if(p.useEffect(()=>{(()=>{const s=i?.state?.selectNew;return a.length===2||s?u("new"):a.length===3?u(a[1].value):u("")})()},[h]),m)return t.jsx(C,{loading:!0});const j=e=>{const s=e.target.value;return l(s),c(s==="new"?"NEW":void 0)},N=({leaseId:e})=>{T("Lease Added!"),l(e),v(`${r}leases/view/${e}/condition_reporting?redirectTo=${encodeURIComponent(i.pathname)}`)};return t.jsxs("div",{className:n.container,children:[t.jsx(A,{className:n.back,fallback:`${r}dashboard`}),t.jsxs($,{className:n.card,children:[t.jsx("h2",{className:n.title,children:"Select Which Lease Needs a Condition Report"}),t.jsx(y,{id:"lease",label:"Lease",disabled:!1,input:{value:o,onChange:j},options:a,className:w({[n.lease]:o})}),S==="NEW"&&t.jsx(B,{defaultListingId:d,onSubmit:N,hideCancel:!0,segmentLocation:"Select Lease"}),o&&o!=="new"&&t.jsx(I,{className:n.continue,to:`${r}leases/view/${o}/condition_reporting?redirectTo=${encodeURIComponent(i.pathname)}`,onClick:()=>k("continue clicked",{location:"Select Lease"}),children:"Continue"})]})]})};H.propTypes={location:L.object.isRequired,match:L.object.isRequired};export{H as default};
//# sourceMappingURL=index-Bk7xe7gI.js.map
