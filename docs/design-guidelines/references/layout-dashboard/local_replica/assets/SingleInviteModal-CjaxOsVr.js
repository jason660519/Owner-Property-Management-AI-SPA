import{o as T,v as C,j as e,ab as x,a9 as P,ar as A,a5 as l,a3 as I,s as L,P as n}from"./TownhouseColor--VjQBVqd.js";import{c as q}from"./index-zSWA2t_E.js";import{D as B}from"./DottedHeader-D5rG9DSa.js";import{d0 as E,Z as F,aP as k,dd as R}from"./main-dumNSXg9.js";import{E as V}from"./EmptyState-DMj64euZ.js";import{f as $}from"./SetAvailabilityModal-BDud7sew.js";const O=`mutation sendInviteToShowing($user_id: String!, $listing_id: String!) {
  sendInviteToShowing(input: { user_id: $user_id, listing_id: $listing_id }) {
    ok
  }
}
`,D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"sendInviteToShowing"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listing_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendInviteToShowing"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"listing_id"},value:{kind:"Variable",name:{kind:"Name",value:"listing_id"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:202,source:{name:"GraphQL request",locationOffset:{line:1,column:1},body:O}}},W="g53Xu",H="YgZHi",M="_4hOld",Z="bS-sS",z="Wq8Kz",U="cbZNd",G="EuS9r",K="_4qF-W",Q="_4wV9L",X="_9BBZy",Y="-wqjq",i={modalContent:W,modalTitle:H,sendBtn:M,divider:Z,linkWrapper:z,availabilityLink:U,copyBtn:G,banner:K,bannerCircle:Q,bannerPattern:X,addAvailability:Y},J=({open:p,onClose:r,lead:a,applicant:s,listing:t,onClickAddAvailability:g})=>{const{PRIVATE_BASE_PATH:h,RENTERS_URL:d}=T(),c=E(),y=F(),m=t?.showing_availability?.showing_availability_slots?.length>0,[_,{loading:u}]=C(D),N=async()=>{try{L("send_invite clicked",{location:"invite to showing modal"}),await _({variables:{user_id:a?.id||s?.id,listing_id:t.id}}),r(),c("Invitation successfully sent!")}catch(o){y(o.message||"An error has occurred")}},S=()=>{q(`${d}showing/${t?.id}`),c("Link copied to clipboard")},v=a?.phone||s?.telephone,b=a?.email||s?.email,f=a?.first_name||s?.first_name,j=a?.last_name||s?.last_name,w=[b?"email":"",b&&v?"and":"",v?"text message":""].filter(o=>o!=="").join(" ");return e.jsx(k,{onClose:r,open:p,showCloseIcon:!0,disableCloseIcon:u,size:"small",bannerClassName:i.banner,banner:m?e.jsx(B,{className:i.banner,icon:I,iconProps:{name:"showings",size:"lg"},circleCenterClassName:i.bannerCircle,patternProps:{className:i.bannerPattern}}):null,children:e.jsx(k.Content,{noHeader:!0,noFooter:!0,className:i.modalContent,children:m?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:i.modalTitle,children:"Invite to schedule a showing"}),e.jsxs(P,{className:"mb-16",children:["Weâ€™ll send an ",w," to ",f," ",j," with a link to schedule a showing based on"," ",e.jsx(A,{href:`${h}showings/availability`,target:"_blank",children:"your availability"})," ","for ",$(t),"."]}),e.jsx(l,{onClick:N,className:i.sendBtn,loading:u,children:"Send Invite"}),e.jsxs("div",{className:i.divider,children:[e.jsx("hr",{}),e.jsx("span",{children:"Or"})]}),e.jsxs("div",{className:i.linkWrapper,children:[e.jsx(R,{id:"availabilityLink",name:"availabilityLink",className:i.availabilityLink,inputProps:{readOnly:"readonly",onFocus:o=>o.target.select()},value:`${d}showing/${t?.id}`}),e.jsx(l,{secondary:!0,small:!0,onClick:S,className:i.copyBtn,children:"Copy Link"})]})]}):e.jsx(V,{footer:e.jsx(l,{className:i.addAvailability,onClick:g,children:"Add Availability"}),title:"No upcoming availability",description:`Renters can schedule showings based on your availability. First set your
        availability and then invite renters to select their preferred time.`})})})};J.propTypes={onClose:n.func.isRequired,open:n.bool.isRequired,lead:n.object,applicant:n.object,listing:n.object,onClickAddAvailability:n.func.isRequired};export{J as S};
//# sourceMappingURL=SingleInviteModal-CjaxOsVr.js.map
