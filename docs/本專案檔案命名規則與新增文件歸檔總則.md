# 本專案檔案命名規則與新增文件歸檔總則

> **創建日期**: 2026-01-30  
> **創建者**: Project Team  
> **最後修改**: 2026-01-30  
> **修改者**: Project Team  
> **版本**: 1.0  
> **文件類型**: 技術文件

---


> 創建日期:2025-05-20  
> 創建者:Project Team  
> 最後修改:2026-01-30  
> 修改者:Claude Sonnet 4.5  
> 版本:2.1 (AI Collaboration Edition)  
> 目的:採用業界標準規範 (Best Practices) 統一專案文件架構,提升代碼可讀性與 AI 團隊協作效率

---

## 📋 目錄

- [核心原則](#核心原則)
- [AI 協作者識別規範](#ai-協作者識別規範)
- [文件 Metadata 標準格式](#文件-metadata-標準格式)
- [命名規範 (Naming Convention)](#命名規範-naming-convention)
- [文件架構規範 (Directory Structure)](#文件架構規範-directory-structure)
- [文件歸檔流程 (Archiving Process)](#文件歸檔流程-archiving-process)
- [修改歷史追蹤機制](#修改歷史追蹤機制)

---

## 核心原則

1.  **一致性 (Consistency)**：同一類型的檔案必須遵守相同的命名規則。
2.  **可預測性 (Predictability)**：看到檔名就能知道內容與用途。
3.  **語義化 (Semantics)**：優先使用全稱，僅使用通用的縮寫 (e.g., `config`, `utils`, `img`)。
4.  **英文優先**：程式碼、配置檔、資源檔一律使用英文命名；說明文件 (Docs) 可使用中文，但建議搭配 ISO 日期格式。5.  **可追溯性 (Traceability)**:所有文件必須標記創建者與修改者,重要文件需附上修改歷史。

---

## AI 協作者識別規範

本專案由多個 AI 模型協作開發,為確保工作可追溯性,所有參與者必須使用統一的識別名稱:

### 標準 AI 協作者名稱

| AI 模型 | 標準識別名稱 | 簡稱 | 使用情境 |
| :--- | :--- | :--- | :--- |
| **Claude Sonnet 4.5** | `Claude Sonnet 4.5` | `Claude` | 文件頭部、註解 |
| **Claude Opus 4** | `Claude Opus 4` | `Claude` | 文件頭部、註解 |
| **Gemini 2.0 Pro** | `Gemini 2.0` | `Gemini` | 文件頭部、註解 |
| **Gemini 1.5 Flash** | `Gemini 1.5 Flash` | `Gemini` | 文件頭部、註解 |
| **GPT-4 Turbo** | `GPT-4 Turbo` | `GPT-4` | 文件頭部、註解 |
| **GPT-4o** | `GPT-4o` | `GPT-4` | 文件頭部、註解 |
| **DeepSeek V3** | `DeepSeek V3` | `DeepSeek` | 文件頭部、註解 |
| **人類開發者** | 實際姓名或 GitHub ID | - | 文件頭部、註解 |

### 使用範例

```markdown
> 創建者:Claude Sonnet 4.5  
> 修改者:Gemini 2.0, DeepSeek V3
```

```typescript
/**
 * Created by: Claude Sonnet 4.5
 * Modified by: GPT-4o (2026-01-30)
 */
```

---

## 文件 Metadata 標準格式

所有 Markdown 文檔必須在開頭加入以下 Metadata(使用引用區塊格式):

### 必填欄位

```markdown
> **創建日期**:YYYY-MM-DD  
> **創建者**:AI 名稱 或 開發者名稱  
> **最後修改**:YYYY-MM-DD  
> **修改者**:AI 名稱 或 開發者名稱  
> **版本**:Major.Minor  
> **文件類型**:技術文件 / 進度報告 / 開發指南 / API 規格 / 會議記錄
```

### 完整範例

```markdown
# 資料庫遷移開發指南

> **創建日期**:2026-01-20  
> **創建者**:Gemini 2.0  
> **最後修改**:2026-01-30  
> **修改者**:Claude Sonnet 4.5  
> **版本**:1.3  
> **文件類型**:技術文件  
> **摘要**:本文件說明如何執行 Supabase 資料庫遷移與測試流程

## 修改歷史

| 日期 | 版本 | 修改者 | 修改內容 |
|------|------|--------|----------|
| 2026-01-30 | 1.3 | Claude Sonnet 4.5 | 新增 RLS Policy 測試章節 |
| 2026-01-25 | 1.2 | Gemini 2.0 | 補充索引優化建議 |
| 2026-01-20 | 1.0 | Gemini 2.0 | 初始版本 |
```

### 程式碼檔案 Header 格式

對於重要的程式碼檔案(如核心模組、工具函數),建議在檔案開頭加入註解:

```typescript
/**
 * @file UserAuthService.ts
 * @description 用戶認證服務核心邏輯
 * @created 2026-01-15
 * @creator Claude Sonnet 4.5
 * @lastModified 2026-01-28
 * @modifiedBy GPT-4o
 * @version 2.1
 */

export class UserAuthService {
  // ...
}
```

```python
"""
OCR Document Parser

創建日期: 2026-01-10
創建者: DeepSeek V3
最後修改: 2026-01-29
修改者: Claude Sonnet 4.5
版本: 3.2
"""

def parse_building_title(image_path: str) -> dict:
    pass
```
---

## 命名規範 (Naming Convention)

### 1. 程式碼檔案 (Source Code)

| 類型                    | 規則                        | 範例                                          | 備註             |
| :---------------------- | :-------------------------- | :-------------------------------------------- | :--------------- |
| **React Components**    | **PascalCase**              | `UserProfile.tsx`, `Sidebar.tsx`              | 組件名首字母大寫 |
| **Utilities/Helpers**   | **camelCase**               | `dateFormatter.ts`, `apiClient.ts`            | 工具函數         |
| **Hooks**               | **camelCase (usePrefix)**   | `useAuth.ts`, `useWindowSize.ts`              | React Hooks 慣例 |
| **Styles**              | **kebab-case** 或與組件同名 | `global-styles.css`, `UserProfile.module.css` |                  |
| **Backend Models**      | **PascalCase**              | `User.ts`, `PropertyListing.ts`               | 類別定義         |
| **Backend Controllers** | **camelCase**               | `authController.ts`, `paymentService.ts`      | 服務邏輯         |
| **Configuration**       | **kebab-case**              | `tailwind.config.js`, `tsconfig.json`         | 配置文件慣例     |

### 2. 資料夾 (Directories)

| 類型           | 規則           | 範例                                         |
| :------------- | :------------- | :------------------------------------------- |
| **一般資料夾** | **kebab-case** | `components`, `hooks`, `utils`, `api-routes` |
| **特殊分類**   | **kebab-case** | `__tests__`, `__mocks__`                     |

### 3. 文件與資源 (Docs & Assets)

| 類型              | 規則                     | 範例                                                  | 備註 |
| :---------------- | :----------------------- | :---------------------------------------------------- | :--- |
| **Markdown 文檔** | **kebab-case+ISO Date** | `api-documentation.md`, `2026-01-30_meeting_notes.md` | 重要文件需加日期前綴 |
| **進度報告**      | **類型+ISO Date**       | `SDLC開發進度表報告_2026-01-30.md` | 必須加日期後綴 |
| **圖片資源**      | **snake_case**           | `logo_main.png`, `banner_home.jpg`                    | 不需日期 |
| **Shell Scripts** | **kebab-case**           | `deploy-prod.sh`, `setup-env.sh`                      | 版本控制追蹤 |

---

## 文件架構規範 (Directory Structure)

本專案採用 **Monorepo 風格** 的目錄結構，將前後端與基礎設施分離。

```text
root/
├── .github/                 # CI/CD workflows
├── backend/                 # 後端服務 (Node.js/Express/Python)
│   ├── src/
│   │   ├── controllers/
│   │   ├── models/
│   │   ├── services/
│   │   └── utils/
│   └── tests/
├── frontend/                # 前端應用 (React/Next.js/Expo)
│   ├── src/
│   │   ├── components/      # UI 組件
│   │   ├── hooks/           # Custom Hooks
│   │   ├── pages/           # 路由頁面
│   │   └── store/           # 狀態管理 (Zustand/Redux)
│   └── assets/              # 靜態資源 (Images, Fonts)
├── supabase/                # Supabase 相關 (Migrations, Seeds)
│   ├── migrations/
│   └── config.toml
├── docs/                    # 專案文檔中心
│   ├── architecture/        # 系統架構圖、技術決策
│   ├── api/                 # API 規格書 (OpenAPI/Swagger)
│   ├── guides/              # 開發指南、部署手冊
│   ├── roadmap/             # 專案規劃與 Sprint 計畫
│   ├── progress-reports/    # SDLC 進度報告與狀態追蹤
│   └── meetings/            # 會議記錄 (按日期歸檔)
└── scripts/                 # 自動化腳本 (Build, Deploy, Maintenance)
```

---

## 文件歸檔流程 (Archiving Process)

為避免專案根目錄混亂，所有非代碼類文件應遵循以下歸檔流程：

### 1. 新增文件 (New Files)

- **技術文件**：直接存入 `docs/` 下對應分類資料夾。
- **臨時筆記/草稿**：存入 `docs/drafts/`，確認定稿後移至正式目錄。
- **圖片影音**：存入 `docs/assets/` 或 `frontend/assets/` (若為 UI 相關)。

### 2. 版本控管 (Version Control)

- **過時文件**：
  - **不要刪除**，將其移動至 `docs/archive/`。
  - 在檔名加上前綴 `archived_YYYYMMDD_filename.md`。
  - 在文件開頭標註：`> This document is deprecated and preserved for historical reference.`

### 3. 根目錄淨空 (Root Cleanup)

根目錄僅保留以下各類型的核心檔案，其餘一律歸檔：

- **環境設定**：`.env.*`, `.gitignore`, `.editorconfig`
- **依賴管理**：`package.json`, `pnpm-workspace.yaml`
- **項目入口**：`README.md`, `CONTRIBUTING.md`, `LICENSE`
- **工具配置**：`tsconfig.json`, `eslint.config.js`

---

---

## 修改歷史追蹤機制

### Git Commit 訊息規範

所有 Commit 訊息必須標注執行者身份:

```bash
# 格式
[AI名稱] type(scope): commit message

# 範例
[Claude] feat(database): add RLS policies for super admin tables
[Gemini] fix(api): resolve authentication token refresh issue
[GPT-4] docs(readme): update installation instructions
[DeepSeek] refactor(ocr): optimize image preprocessing pipeline
```

### Commit Type 標準

| Type | 說明 | 範例 |
|------|------|------|
| `feat` | 新功能 | `[Claude] feat(auth): add OAuth2 integration` |
| `fix` | Bug 修復 | `[Gemini] fix(ui): resolve button alignment issue` |
| `docs` | 文件更新 | `[GPT-4] docs(api): add endpoint documentation` |
| `refactor` | 代碼重構 | `[DeepSeek] refactor(utils): simplify date formatter` |
| `test` | 測試相關 | `[Claude] test(auth): add unit tests for login flow` |
| `chore` | 維護任務 | `[Gemini] chore(deps): update dependencies` |

### 重要文件修改通知

當修改以下類型文件時,必須在專案 Slack/Discord 頻道通知團隊:

- 資料庫 Schema (`supabase/migrations/*.sql`)
- API 規格 (`docs/api/*.md`)
- 核心配置檔 (`*.config.js`, `tsconfig.json`)
- 環境變數範本 (`.env.example`)

通知格式:
```
📝 [Claude] 已修改資料庫Schema
文件:supabase/migrations/20260130_common_user_tables.sql
摘要:新增 15 張通用用戶表格
影響:需執行 `supabase db reset` 重建資料庫
```

---

## ⚡ 快速檢查表 (Checklist)

### 📝 文件創建檢查表

在創建新文件時:

- [ ] Markdown 文件是否已加入完整 Metadata(創建者、日期、版本)?
- [ ] 是否在檔案開頭或註解中標注了創建者身份?
- [ ] 重要文件是否加入了「修改歷史」表格?
- [ ] 檔名是否符合命名規範(PascalCase/camelCase/kebab-case)?
- [ ] 文件是否已放入正確的目錄分類?

### 🔧 文件修改檢查表

在修改現有文件時:

- [ ] 是否更新了 Metadata 中的「最後修改」日期與「修改者」?
- [ ] 是否在「修改歷史」表格中新增一筆記錄?
- [ ] 修改範圍較大時,是否考慮升級版本號(Major/Minor)?
- [ ] Git Commit 訊息是否加入了 `[AI名稱]` 前綴?
- [ ] 是否通知團隊重要文件的變更?

### 💻 程式碼提交檢查表

在提交代碼 (Commit) 前:

- [ ] 元件檔名是否為 `PascalCase`? (e.g., `Button.tsx`)
- [ ] 函數工具檔名是否為 `camelCase`? (e.g., `formatDate.ts`)
- [ ] 圖片是否全部小寫並用底線分隔? (e.g., `icon_user.png`)
- [ ] 是否移除了根目錄下的臨時文件 (如 `temp.txt`, `test.js`)?
- [ ] 重要程式碼檔案是否加入了檔案頭部註解(創建者、修改者)?
- [ ] Commit 訊息是否符合 `[AI名稱] type(scope): message` 格式?

---

## 📚 參考資源

- [Google Developer Documentation Style Guide](https://developers.google.com/style)
- [Conventional Commits](https://www.conventionalcommits.org/)
- [Semantic Versioning](https://semver.org/)

> **Note**: 好的命名是最好的註解,清楚的歷史記錄是最好的協作工具。
